var Iw=t=>{throw TypeError(t)};var Xf=(t,e,n)=>e.has(t)||Iw("Cannot "+n);var U=(t,e,n)=>(Xf(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?Iw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Xf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xt=(t,e,n)=>(Xf(t,e,"access private method"),n);var mc=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return U(t,e,r)}});function pN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function px(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mx={exports:{}},bh={},gx={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),mN=Symbol.for("react.portal"),gN=Symbol.for("react.fragment"),yN=Symbol.for("react.strict_mode"),vN=Symbol.for("react.profiler"),wN=Symbol.for("react.provider"),_N=Symbol.for("react.context"),EN=Symbol.for("react.forward_ref"),TN=Symbol.for("react.suspense"),xN=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),Aw=Symbol.iterator;function IN(t){return t===null||typeof t!="object"?null:(t=Aw&&t[Aw]||t["@@iterator"],typeof t=="function"?t:null)}var yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,wx={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=wx,this.updater=n||yx}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _x(){}_x.prototype=Ia.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=wx,this.updater=n||yx}var ty=ey.prototype=new _x;ty.constructor=ey;vx(ty,Ia.prototype);ty.isPureReactComponent=!0;var Cw=Array.isArray,Ex=Object.prototype.hasOwnProperty,ny={current:null},Tx={key:!0,ref:!0,__self:!0,__source:!0};function xx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ex.call(e,r)&&!Tx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ku,type:t,key:s,ref:o,props:i,_owner:ny.current}}function AN(t,e){return{$$typeof:ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===ku}function CN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pw=/\/+/g;function Jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CN(""+t.key):e.toString(36)}function Kc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ku:case mN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jf(o,0):r,Cw(i)?(n="",t!=null&&(n=t.replace(Pw,"$&/")+"/"),Kc(i,e,n,"",function(u){return u})):i!=null&&(ry(i)&&(i=AN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Pw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Jf(s,a);o+=Kc(s,e,n,l,i)}else if(l=IN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Jf(s,a++),o+=Kc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gc(t,e,n){if(t==null)return t;var r=[],i=0;return Kc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Qc={transition:null},bN={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Qc,ReactCurrentOwner:ny};function Sx(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:gc,forEach:function(t,e,n){gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gc(t,function(){e++}),e},toArray:function(t){return gc(t,function(e){return e})||[]},only:function(t){if(!ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=Ia;pe.Fragment=gN;pe.Profiler=vN;pe.PureComponent=ey;pe.StrictMode=yN;pe.Suspense=TN;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;pe.act=Sx;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ex.call(e,l)&&!Tx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ku,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:_N,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wN,_context:t},t.Consumer=t};pe.createElement=xx;pe.createFactory=function(t){var e=xx.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:EN,render:t}};pe.isValidElement=ry;pe.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:PN}};pe.memo=function(t,e){return{$$typeof:xN,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Qc.transition;Qc.transition={};try{t()}finally{Qc.transition=e}};pe.unstable_act=Sx;pe.useCallback=function(t,e){return $t.current.useCallback(t,e)};pe.useContext=function(t){return $t.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};pe.useEffect=function(t,e){return $t.current.useEffect(t,e)};pe.useId=function(){return $t.current.useId()};pe.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return $t.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};pe.useRef=function(t){return $t.current.useRef(t)};pe.useState=function(t){return $t.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return $t.current.useTransition()};pe.version="18.3.1";gx.exports=pe;var S=gx.exports;const q=px(S),RN=pN({__proto__:null,default:q},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN=S,NN=Symbol.for("react.element"),DN=Symbol.for("react.fragment"),ON=Object.prototype.hasOwnProperty,VN=kN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MN={key:!0,ref:!0,__self:!0,__source:!0};function Ix(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ON.call(e,r)&&!MN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:NN,type:t,key:s,ref:o,props:i,_owner:VN.current}}bh.Fragment=DN;bh.jsx=Ix;bh.jsxs=Ix;mx.exports=bh;var k=mx.exports,Ax={exports:{}},fn={},Cx={exports:{}},Px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,W){var Z=L.length;L.push(W);e:for(;0<Z;){var H=Z-1>>>1,J=L[H];if(0<i(J,W))L[H]=W,L[Z]=J,Z=H;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],Z=L.pop();if(Z!==W){L[0]=Z;e:for(var H=0,J=L.length,ee=J>>>1;H<ee;){var Se=2*(H+1)-1,Ue=L[Se],fe=Se+1,tt=L[fe];if(0>i(Ue,Z))fe<J&&0>i(tt,Ue)?(L[H]=tt,L[fe]=Z,H=fe):(L[H]=Ue,L[Se]=Z,H=Se);else if(fe<J&&0>i(tt,Z))L[H]=tt,L[fe]=Z,H=fe;else break e}}return W}function i(L,W){var Z=L.sortIndex-W.sortIndex;return Z!==0?Z:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function P(L){if(w=!1,_(L),!y)if(n(l)!==null)y=!0,Q(O);else{var W=n(u);W!==null&&ne(P,W.startTime-L)}}function O(L,W){y=!1,w&&(w=!1,E(x),x=-1),m=!0;var Z=f;try{for(_(W),h=n(l);h!==null&&(!(h.expirationTime>W)||L&&!N());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var J=H(h.expirationTime<=W);W=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),_(W)}else r(l);h=n(l)}if(h!==null)var ee=!0;else{var Se=n(u);Se!==null&&ne(P,Se.startTime-W),ee=!1}return ee}finally{h=null,f=Z,m=!1}}var V=!1,I=null,x=-1,A=5,b=-1;function N(){return!(t.unstable_now()-b<A)}function D(){if(I!==null){var L=t.unstable_now();b=L;var W=!0;try{W=I(!0,L)}finally{W?R():(V=!1,I=null)}}else V=!1}var R;if(typeof v=="function")R=function(){v(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,re=$.port2;$.port1.onmessage=D,R=function(){re.postMessage(null)}}else R=function(){T(D,0)};function Q(L){I=L,V||(V=!0,R())}function ne(L,W){x=T(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Q(O))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Z=f;f=W;try{return L()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Z=f;f=L;try{return W()}finally{f=Z}},t.unstable_scheduleCallback=function(L,W,Z){var H=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?H+Z:H):Z=H,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,L={id:d++,callback:W,priorityLevel:L,startTime:Z,expirationTime:J,sortIndex:-1},Z>H?(L.sortIndex=Z,e(u,L),n(l)===null&&L===n(u)&&(w?(E(x),x=-1):w=!0,ne(P,Z-H))):(L.sortIndex=J,e(l,L),y||m||(y=!0,Q(O))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var W=f;return function(){var Z=f;f=W;try{return L.apply(this,arguments)}finally{f=Z}}}})(Px);Cx.exports=Px;var LN=Cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN=S,dn=LN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bx=new Set,Hl={};function Gs(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Hl[t]=e,t=0;t<e.length;t++)bx.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=Object.prototype.hasOwnProperty,jN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bw={},Rw={};function UN(t){return sm.call(Rw,t)?!0:sm.call(bw,t)?!1:jN.test(t)?Rw[t]=!0:(bw[t]=!0,!1)}function BN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $N(t,e,n,r){if(e===null||typeof e>"u"||BN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,sy);vt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,sy);vt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,sy);vt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function oy(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($N(e,n,i,r)&&(n=null),r||i===null?UN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=FN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yc=Symbol.for("react.element"),_o=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),kx=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),Nx=Symbol.for("react.offscreen"),kw=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=kw&&t[kw]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Zf;function pl(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var ep=!1;function tp(t,e){if(!t||ep)return"";ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ep=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pl(t):""}function zN(t){switch(t.tag){case 5:return pl(t.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return t=tp(t.type,!1),t;case 11:return t=tp(t.type.render,!1),t;case 1:return t=tp(t.type,!0),t;default:return""}}function um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eo:return"Fragment";case _o:return"Portal";case om:return"Profiler";case ay:return"StrictMode";case am:return"Suspense";case lm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kx:return(t.displayName||"Context")+".Consumer";case Rx:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uy:return e=t.displayName||null,e!==null?e:um(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return um(t(e))}catch{}}return null}function WN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(e);case 8:return e===ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HN(t){var e=Dx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vc(t){t._valueTracker||(t._valueTracker=HN(t))}function Ox(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Dx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ed(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cm(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vx(t,e){e=e.checked,e!=null&&oy(t,"checked",e,!1)}function dm(t,e){Vx(t,e);var n=$i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hm(t,e.type,n):e.hasOwnProperty("defaultValue")&&hm(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hm(t,e,n){(e!=="number"||Ed(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ml=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ow(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ml(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function Mx(t,e){var n=$i(e.value),r=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wc,Fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qN=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(t){qN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Il[e]=Il[t]})});function jx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Il.hasOwnProperty(t)&&Il[t]?(""+e).trim():e+"px"}function Ux(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GN=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(t,e){if(e){if(GN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function gm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vm=null,jo=null,Uo=null;function Mw(t){if(t=Ou(t)){if(typeof vm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Oh(e),vm(t.stateNode,t.type,e))}}function Bx(t){jo?Uo?Uo.push(t):Uo=[t]:jo=t}function $x(){if(jo){var t=jo,e=Uo;if(Uo=jo=null,Mw(t),e)for(t=0;t<e.length;t++)Mw(e[t])}}function zx(t,e){return t(e)}function Wx(){}var np=!1;function Hx(t,e,n){if(np)return t(e,n);np=!0;try{return zx(t,e,n)}finally{np=!1,(jo!==null||Uo!==null)&&(Wx(),$x())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var wm=!1;if(Fr)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){wm=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{wm=!1}function KN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Al=!1,Td=null,xd=!1,_m=null,QN={onError:function(t){Al=!0,Td=t}};function YN(t,e,n,r,i,s,o,a,l){Al=!1,Td=null,KN.apply(QN,arguments)}function XN(t,e,n,r,i,s,o,a,l){if(YN.apply(this,arguments),Al){if(Al){var u=Td;Al=!1,Td=null}else throw Error(z(198));xd||(xd=!0,_m=u)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lw(t){if(Ks(t)!==t)throw Error(z(188))}function JN(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Lw(i),t;if(s===r)return Lw(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Gx(t){return t=JN(t),t!==null?Kx(t):null}function Kx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kx(t);if(e!==null)return e;t=t.sibling}return null}var Qx=dn.unstable_scheduleCallback,Fw=dn.unstable_cancelCallback,ZN=dn.unstable_shouldYield,eD=dn.unstable_requestPaint,qe=dn.unstable_now,tD=dn.unstable_getCurrentPriorityLevel,dy=dn.unstable_ImmediatePriority,Yx=dn.unstable_UserBlockingPriority,Sd=dn.unstable_NormalPriority,nD=dn.unstable_LowPriority,Xx=dn.unstable_IdlePriority,Rh=null,sr=null;function rD(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Rh,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:oD,iD=Math.log,sD=Math.LN2;function oD(t){return t>>>=0,t===0?32:31-(iD(t)/sD|0)|0}var _c=64,Ec=4194304;function gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gl(a):(s&=o,s!==0&&(r=gl(s)))}else o=n&~i,o!==0?r=gl(o):s!==0&&(r=gl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function aD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jx(){var t=_c;return _c<<=1,!(_c&4194240)&&(_c=64),t}function rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function uD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function Zx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eS,fy,tS,nS,rS,Tm=!1,Tc=[],Ci=null,Pi=null,bi=null,Kl=new Map,Ql=new Map,hi=[],cD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dD(t,e,n,r,i){switch(e){case"focusin":return Ci=il(Ci,t,e,n,r,i),!0;case"dragenter":return Pi=il(Pi,t,e,n,r,i),!0;case"mouseover":return bi=il(bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kl.set(s,il(Kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ql.set(s,il(Ql.get(s)||null,t,e,n,r,i)),!0}return!1}function iS(t){var e=Es(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=qx(n),e!==null){t.blockedOn=e,rS(t.priority,function(){tS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return e=Ou(n),e!==null&&fy(e),t.blockedOn=n,!1;e.shift()}return!0}function Uw(t,e,n){Yc(t)&&n.delete(e)}function hD(){Tm=!1,Ci!==null&&Yc(Ci)&&(Ci=null),Pi!==null&&Yc(Pi)&&(Pi=null),bi!==null&&Yc(bi)&&(bi=null),Kl.forEach(Uw),Ql.forEach(Uw)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,Tm||(Tm=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,hD)))}function Yl(t){function e(i){return sl(i,t)}if(0<Tc.length){sl(Tc[0],t);for(var n=1;n<Tc.length;n++){var r=Tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&sl(Ci,t),Pi!==null&&sl(Pi,t),bi!==null&&sl(bi,t),Kl.forEach(e),Ql.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)iS(n),n.blockedOn===null&&hi.shift()}var Bo=Qr.ReactCurrentBatchConfig,Ad=!0;function fD(t,e,n,r){var i=xe,s=Bo.transition;Bo.transition=null;try{xe=1,py(t,e,n,r)}finally{xe=i,Bo.transition=s}}function pD(t,e,n,r){var i=xe,s=Bo.transition;Bo.transition=null;try{xe=4,py(t,e,n,r)}finally{xe=i,Bo.transition=s}}function py(t,e,n,r){if(Ad){var i=xm(t,e,n,r);if(i===null)fp(t,e,r,Cd,n),jw(t,r);else if(dD(i,t,e,n,r))r.stopPropagation();else if(jw(t,r),e&4&&-1<cD.indexOf(t)){for(;i!==null;){var s=Ou(i);if(s!==null&&eS(s),s=xm(t,e,n,r),s===null&&fp(t,e,r,Cd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fp(t,e,r,null,n)}}var Cd=null;function xm(t,e,n,r){if(Cd=null,t=cy(r),t=Es(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cd=t,null}function sS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tD()){case dy:return 1;case Yx:return 4;case Sd:case nD:return 16;case Xx:return 536870912;default:return 16}default:return 16}}var xi=null,my=null,Xc=null;function oS(){if(Xc)return Xc;var t,e=my,n=e.length,r,i="value"in xi?xi.value:xi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xc=i.slice(t,1<r?1-r:void 0)}function Jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xc(){return!0}function Bw(){return!1}function pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xc:Bw,this.isPropagationStopped=Bw,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),e}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gy=pn(Aa),Du=Fe({},Aa,{view:0,detail:0}),mD=pn(Du),ip,sp,ol,kh=Fe({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(ip=t.screenX-ol.screenX,sp=t.screenY-ol.screenY):sp=ip=0,ol=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:sp}}),$w=pn(kh),gD=Fe({},kh,{dataTransfer:0}),yD=pn(gD),vD=Fe({},Du,{relatedTarget:0}),op=pn(vD),wD=Fe({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=pn(wD),ED=Fe({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TD=pn(ED),xD=Fe({},Aa,{data:0}),zw=pn(xD),SD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ID={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AD[t])?!!e[t]:!1}function yy(){return CD}var PD=Fe({},Du,{key:function(t){if(t.key){var e=SD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ID[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?Jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bD=pn(PD),RD=Fe({},kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ww=pn(RD),kD=Fe({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),ND=pn(kD),DD=Fe({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=pn(DD),VD=Fe({},kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MD=pn(VD),LD=[9,13,27,32],vy=Fr&&"CompositionEvent"in window,Cl=null;Fr&&"documentMode"in document&&(Cl=document.documentMode);var FD=Fr&&"TextEvent"in window&&!Cl,aS=Fr&&(!vy||Cl&&8<Cl&&11>=Cl),Hw=" ",qw=!1;function lS(t,e){switch(t){case"keyup":return LD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function jD(t,e){switch(t){case"compositionend":return uS(e);case"keypress":return e.which!==32?null:(qw=!0,Hw);case"textInput":return t=e.data,t===Hw&&qw?null:t;default:return null}}function UD(t,e){if(To)return t==="compositionend"||!vy&&lS(t,e)?(t=oS(),Xc=my=xi=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aS&&e.locale!=="ko"?null:e.data;default:return null}}var BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BD[t.type]:e==="textarea"}function cS(t,e,n,r){Bx(r),e=Pd(e,"onChange"),0<e.length&&(n=new gy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pl=null,Xl=null;function $D(t){ES(t,0)}function Nh(t){var e=Io(t);if(Ox(e))return t}function zD(t,e){if(t==="change")return e}var dS=!1;if(Fr){var ap;if(Fr){var lp="oninput"in document;if(!lp){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),lp=typeof Kw.oninput=="function"}ap=lp}else ap=!1;dS=ap&&(!document.documentMode||9<document.documentMode)}function Qw(){Pl&&(Pl.detachEvent("onpropertychange",hS),Xl=Pl=null)}function hS(t){if(t.propertyName==="value"&&Nh(Xl)){var e=[];cS(e,Xl,t,cy(t)),Hx($D,e)}}function WD(t,e,n){t==="focusin"?(Qw(),Pl=e,Xl=n,Pl.attachEvent("onpropertychange",hS)):t==="focusout"&&Qw()}function HD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nh(Xl)}function qD(t,e){if(t==="click")return Nh(e)}function GD(t,e){if(t==="input"||t==="change")return Nh(e)}function KD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:KD;function Jl(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sm.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function Yw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xw(t,e){var n=Yw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yw(n)}}function fS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pS(){for(var t=window,e=Ed();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ed(t.document)}return e}function wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QD(t){var e=pS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fS(n.ownerDocument.documentElement,n)){if(r!==null&&wy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xw(n,s);var o=Xw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YD=Fr&&"documentMode"in document&&11>=document.documentMode,xo=null,Sm=null,bl=null,Im=!1;function Jw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||xo==null||xo!==Ed(r)||(r=xo,"selectionStart"in r&&wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Jl(bl,r)||(bl=r,r=Pd(Sm,"onSelect"),0<r.length&&(e=new gy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xo)))}function Sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var So={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},up={},mS={};Fr&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Dh(t){if(up[t])return up[t];if(!So[t])return t;var e=So[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mS)return up[t]=e[n];return t}var gS=Dh("animationend"),yS=Dh("animationiteration"),vS=Dh("animationstart"),wS=Dh("transitionend"),_S=new Map,Zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){_S.set(t,e),Gs(e,[t])}for(var cp=0;cp<Zw.length;cp++){var dp=Zw[cp],XD=dp.toLowerCase(),JD=dp[0].toUpperCase()+dp.slice(1);rs(XD,"on"+JD)}rs(gS,"onAnimationEnd");rs(yS,"onAnimationIteration");rs(vS,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(wS,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZD=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function e_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XN(r,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;e_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;e_(i,a,u),s=l}}}if(xd)throw t=_m,xd=!1,_m=null,t}function ke(t,e){var n=e[Rm];n===void 0&&(n=e[Rm]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function hp(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[Ic]){t[Ic]=!0,bx.forEach(function(n){n!=="selectionchange"&&(ZD.has(n)||hp(n,!1,t),hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ic]||(e[Ic]=!0,hp("selectionchange",!1,e))}}function TS(t,e,n,r){switch(sS(e)){case 1:var i=fD;break;case 4:i=pD;break;default:i=py}n=i.bind(null,e,n,t),i=void 0,!wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Es(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Hx(function(){var u=s,d=cy(n),h=[];e:{var f=_S.get(t);if(f!==void 0){var m=gy,y=t;switch(t){case"keypress":if(Jc(n)===0)break e;case"keydown":case"keyup":m=bD;break;case"focusin":y="focus",m=op;break;case"focusout":y="blur",m=op;break;case"beforeblur":case"afterblur":m=op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ND;break;case gS:case yS:case vS:m=_D;break;case wS:m=OD;break;case"scroll":m=mD;break;case"wheel":m=MD;break;case"copy":case"cut":case"paste":m=TD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ww}var w=(e&4)!==0,T=!w&&t==="scroll",E=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,_;v!==null;){_=v;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,E!==null&&(P=Gl(v,E),P!=null&&w.push(eu(v,P,_)))),T)break;v=v.return}0<w.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ym&&(y=n.relatedTarget||n.fromElement)&&(Es(y)||y[jr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Es(y):null,y!==null&&(T=Ks(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=$w,P="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ww,P="onPointerLeave",E="onPointerEnter",v="pointer"),T=m==null?f:Io(m),_=y==null?f:Io(y),f=new w(P,v+"leave",m,n,d),f.target=T,f.relatedTarget=_,P=null,Es(d)===u&&(w=new w(E,v+"enter",y,n,d),w.target=_,w.relatedTarget=T,P=w),T=P,m&&y)t:{for(w=m,E=y,v=0,_=w;_;_=ho(_))v++;for(_=0,P=E;P;P=ho(P))_++;for(;0<v-_;)w=ho(w),v--;for(;0<_-v;)E=ho(E),_--;for(;v--;){if(w===E||E!==null&&w===E.alternate)break t;w=ho(w),E=ho(E)}w=null}else w=null;m!==null&&t_(h,f,m,w,!1),y!==null&&T!==null&&t_(h,T,y,w,!0)}}e:{if(f=u?Io(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=zD;else if(Gw(f))if(dS)O=GD;else{O=HD;var V=WD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=qD);if(O&&(O=O(t,u))){cS(h,O,n,d);break e}V&&V(t,f,u),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&hm(f,"number",f.value)}switch(V=u?Io(u):window,t){case"focusin":(Gw(V)||V.contentEditable==="true")&&(xo=V,Sm=u,bl=null);break;case"focusout":bl=Sm=xo=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,Jw(h,n,d);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":Jw(h,n,d)}var I;if(vy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else To?lS(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(aS&&n.locale!=="ko"&&(To||x!=="onCompositionStart"?x==="onCompositionEnd"&&To&&(I=oS()):(xi=d,my="value"in xi?xi.value:xi.textContent,To=!0)),V=Pd(u,x),0<V.length&&(x=new zw(x,t,null,n,d),h.push({event:x,listeners:V}),I?x.data=I:(I=uS(n),I!==null&&(x.data=I)))),(I=FD?jD(t,n):UD(t,n))&&(u=Pd(u,"onBeforeInput"),0<u.length&&(d=new zw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}ES(h,e)})}function eu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gl(t,n),s!=null&&r.unshift(eu(t,s,i)),s=Gl(t,e),s!=null&&r.push(eu(t,s,i))),t=t.return}return r}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Gl(n,s),l!=null&&o.unshift(eu(n,l,a))):i||(l=Gl(n,s),l!=null&&o.push(eu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eO=/\r\n?/g,tO=/\u0000|\uFFFD/g;function n_(t){return(typeof t=="string"?t:""+t).replace(eO,`
`).replace(tO,"")}function Ac(t,e,n){if(e=n_(e),n_(t)!==e&&n)throw Error(z(425))}function bd(){}var Am=null,Cm=null;function Pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,nO=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,rO=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(iO)}:bm;function iO(t){setTimeout(function(){throw t})}function pp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yl(e)}function Ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),ir="__reactFiber$"+Ca,tu="__reactProps$"+Ca,jr="__reactContainer$"+Ca,Rm="__reactEvents$"+Ca,sO="__reactListeners$"+Ca,oO="__reactHandles$"+Ca;function Es(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i_(t);t!==null;){if(n=t[ir])return n;t=i_(t)}return e}t=n,n=t.parentNode}return null}function Ou(t){return t=t[ir]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Oh(t){return t[tu]||null}var km=[],Ao=-1;function is(t){return{current:t}}function De(t){0>Ao||(t.current=km[Ao],km[Ao]=null,Ao--)}function Ce(t,e){Ao++,km[Ao]=t.current,t.current=e}var zi={},Nt=is(zi),Yt=is(!1),Os=zi;function aa(t,e){var n=t.type.contextTypes;if(!n)return zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xt(t){return t=t.childContextTypes,t!=null}function Rd(){De(Yt),De(Nt)}function s_(t,e,n){if(Nt.current!==zi)throw Error(z(168));Ce(Nt,e),Ce(Yt,n)}function xS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,WN(t)||"Unknown",i));return Fe({},n,r)}function kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,Os=Nt.current,Ce(Nt,t),Ce(Yt,Yt.current),!0}function o_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=xS(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,De(Yt),De(Nt),Ce(Nt,t)):De(Yt),Ce(Yt,n)}var Cr=null,Vh=!1,mp=!1;function SS(t){Cr===null?Cr=[t]:Cr.push(t)}function aO(t){Vh=!0,SS(t)}function ss(){if(!mp&&Cr!==null){mp=!0;var t=0,e=xe;try{var n=Cr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,Vh=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),Qx(dy,ss),i}finally{xe=e,mp=!1}}return null}var Co=[],Po=0,Nd=null,Dd=0,wn=[],_n=0,Vs=null,Pr=1,br="";function ms(t,e){Co[Po++]=Dd,Co[Po++]=Nd,Nd=t,Dd=e}function IS(t,e,n){wn[_n++]=Pr,wn[_n++]=br,wn[_n++]=Vs,Vs=t;var r=Pr;t=br;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pr=1<<32-Un(e)+i|n<<i|r,br=s+t}else Pr=1<<s|n<<i|r,br=t}function _y(t){t.return!==null&&(ms(t,1),IS(t,1,0))}function Ey(t){for(;t===Nd;)Nd=Co[--Po],Co[Po]=null,Dd=Co[--Po],Co[Po]=null;for(;t===Vs;)Vs=wn[--_n],wn[_n]=null,br=wn[--_n],wn[_n]=null,Pr=wn[--_n],wn[_n]=null}var ln=null,an=null,Oe=!1,Ln=null;function AS(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,an=Ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:Pr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,an=null,!0):!1;default:return!1}}function Nm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dm(t){if(Oe){var e=an;if(e){var n=e;if(!a_(t,e)){if(Nm(t))throw Error(z(418));e=Ri(n.nextSibling);var r=ln;e&&a_(t,e)?AS(r,n):(t.flags=t.flags&-4097|2,Oe=!1,ln=t)}}else{if(Nm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Oe=!1,ln=t}}}function l_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Cc(t){if(t!==ln)return!1;if(!Oe)return l_(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pm(t.type,t.memoizedProps)),e&&(e=an)){if(Nm(t))throw CS(),Error(z(418));for(;e;)AS(t,e),e=Ri(e.nextSibling)}if(l_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=Ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=ln?Ri(t.stateNode.nextSibling):null;return!0}function CS(){for(var t=an;t;)t=Ri(t.nextSibling)}function la(){an=ln=null,Oe=!1}function Ty(t){Ln===null?Ln=[t]:Ln.push(t)}var lO=Qr.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Pc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u_(t){var e=t._init;return e(t._payload)}function PS(t){function e(E,v){if(t){var _=E.deletions;_===null?(E.deletions=[v],E.flags|=16):_.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=Oi(E,v),E.index=0,E.sibling=null,E}function s(E,v,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<v?(E.flags|=2,v):_):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,_,P){return v===null||v.tag!==6?(v=Tp(_,E.mode,P),v.return=E,v):(v=i(v,_),v.return=E,v)}function l(E,v,_,P){var O=_.type;return O===Eo?d(E,v,_.props.children,P,_.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ui&&u_(O)===v.type)?(P=i(v,_.props),P.ref=al(E,v,_),P.return=E,P):(P=sd(_.type,_.key,_.props,null,E.mode,P),P.ref=al(E,v,_),P.return=E,P)}function u(E,v,_,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=xp(_,E.mode,P),v.return=E,v):(v=i(v,_.children||[]),v.return=E,v)}function d(E,v,_,P,O){return v===null||v.tag!==7?(v=Ns(_,E.mode,P,O),v.return=E,v):(v=i(v,_),v.return=E,v)}function h(E,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Tp(""+v,E.mode,_),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yc:return _=sd(v.type,v.key,v.props,null,E.mode,_),_.ref=al(E,null,v),_.return=E,_;case _o:return v=xp(v,E.mode,_),v.return=E,v;case ui:var P=v._init;return h(E,P(v._payload),_)}if(ml(v)||nl(v))return v=Ns(v,E.mode,_,null),v.return=E,v;Pc(E,v)}return null}function f(E,v,_,P){var O=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(E,v,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yc:return _.key===O?l(E,v,_,P):null;case _o:return _.key===O?u(E,v,_,P):null;case ui:return O=_._init,f(E,v,O(_._payload),P)}if(ml(_)||nl(_))return O!==null?null:d(E,v,_,P,null);Pc(E,_)}return null}function m(E,v,_,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(_)||null,a(v,E,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case yc:return E=E.get(P.key===null?_:P.key)||null,l(v,E,P,O);case _o:return E=E.get(P.key===null?_:P.key)||null,u(v,E,P,O);case ui:var V=P._init;return m(E,v,_,V(P._payload),O)}if(ml(P)||nl(P))return E=E.get(_)||null,d(v,E,P,O,null);Pc(v,P)}return null}function y(E,v,_,P){for(var O=null,V=null,I=v,x=v=0,A=null;I!==null&&x<_.length;x++){I.index>x?(A=I,I=null):A=I.sibling;var b=f(E,I,_[x],P);if(b===null){I===null&&(I=A);break}t&&I&&b.alternate===null&&e(E,I),v=s(b,v,x),V===null?O=b:V.sibling=b,V=b,I=A}if(x===_.length)return n(E,I),Oe&&ms(E,x),O;if(I===null){for(;x<_.length;x++)I=h(E,_[x],P),I!==null&&(v=s(I,v,x),V===null?O=I:V.sibling=I,V=I);return Oe&&ms(E,x),O}for(I=r(E,I);x<_.length;x++)A=m(I,E,x,_[x],P),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?x:A.key),v=s(A,v,x),V===null?O=A:V.sibling=A,V=A);return t&&I.forEach(function(N){return e(E,N)}),Oe&&ms(E,x),O}function w(E,v,_,P){var O=nl(_);if(typeof O!="function")throw Error(z(150));if(_=O.call(_),_==null)throw Error(z(151));for(var V=O=null,I=v,x=v=0,A=null,b=_.next();I!==null&&!b.done;x++,b=_.next()){I.index>x?(A=I,I=null):A=I.sibling;var N=f(E,I,b.value,P);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(E,I),v=s(N,v,x),V===null?O=N:V.sibling=N,V=N,I=A}if(b.done)return n(E,I),Oe&&ms(E,x),O;if(I===null){for(;!b.done;x++,b=_.next())b=h(E,b.value,P),b!==null&&(v=s(b,v,x),V===null?O=b:V.sibling=b,V=b);return Oe&&ms(E,x),O}for(I=r(E,I);!b.done;x++,b=_.next())b=m(I,E,x,b.value,P),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?x:b.key),v=s(b,v,x),V===null?O=b:V.sibling=b,V=b);return t&&I.forEach(function(D){return e(E,D)}),Oe&&ms(E,x),O}function T(E,v,_,P){if(typeof _=="object"&&_!==null&&_.type===Eo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yc:e:{for(var O=_.key,V=v;V!==null;){if(V.key===O){if(O=_.type,O===Eo){if(V.tag===7){n(E,V.sibling),v=i(V,_.props.children),v.return=E,E=v;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ui&&u_(O)===V.type){n(E,V.sibling),v=i(V,_.props),v.ref=al(E,V,_),v.return=E,E=v;break e}n(E,V);break}else e(E,V);V=V.sibling}_.type===Eo?(v=Ns(_.props.children,E.mode,P,_.key),v.return=E,E=v):(P=sd(_.type,_.key,_.props,null,E.mode,P),P.ref=al(E,v,_),P.return=E,E=P)}return o(E);case _o:e:{for(V=_.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(E,v.sibling),v=i(v,_.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=xp(_,E.mode,P),v.return=E,E=v}return o(E);case ui:return V=_._init,T(E,v,V(_._payload),P)}if(ml(_))return y(E,v,_,P);if(nl(_))return w(E,v,_,P);Pc(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,_),v.return=E,E=v):(n(E,v),v=Tp(_,E.mode,P),v.return=E,E=v),o(E)):n(E,v)}return T}var ua=PS(!0),bS=PS(!1),Od=is(null),Vd=null,bo=null,xy=null;function Sy(){xy=bo=Vd=null}function Iy(t){var e=Od.current;De(Od),t._currentValue=e}function Om(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $o(t,e){Vd=t,xy=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(xy!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(Vd===null)throw Error(z(308));bo=t,Vd.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Ts=null;function Ay(t){Ts===null?Ts=[t]:Ts.push(t)}function RS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ay(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function Cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Ay(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ur(t,n)}function Zc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}function c_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Md(t,e,n,r){var i=t.updateQueue;ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Fe({},h,f);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ls|=o,t.lanes=o,t.memoizedState=h}}function d_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Vu={},or=is(Vu),nu=is(Vu),ru=is(Vu);function xs(t){if(t===Vu)throw Error(z(174));return t}function Py(t,e){switch(Ce(ru,e),Ce(nu,t),Ce(or,Vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pm(e,t)}De(or),Ce(or,e)}function ca(){De(or),De(nu),De(ru)}function NS(t){xs(ru.current);var e=xs(or.current),n=pm(e,t.type);e!==n&&(Ce(nu,t),Ce(or,n))}function by(t){nu.current===t&&(De(or),De(nu))}var Ve=is(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gp=[];function Ry(){for(var t=0;t<gp.length;t++)gp[t]._workInProgressVersionPrimary=null;gp.length=0}var ed=Qr.ReactCurrentDispatcher,yp=Qr.ReactCurrentBatchConfig,Ms=0,Le=null,nt=null,ct=null,Fd=!1,Rl=!1,iu=0,uO=0;function St(){throw Error(z(321))}function ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Ny(t,e,n,r,i,s){if(Ms=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ed.current=t===null||t.memoizedState===null?fO:pO,t=n(r,i),Rl){s=0;do{if(Rl=!1,iu=0,25<=s)throw Error(z(301));s+=1,ct=nt=null,e.updateQueue=null,ed.current=mO,t=n(r,i)}while(Rl)}if(ed.current=jd,e=nt!==null&&nt.next!==null,Ms=0,ct=nt=Le=null,Fd=!1,e)throw Error(z(300));return t}function Dy(){var t=iu!==0;return iu=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Le.memoizedState=ct=t:ct=ct.next=t,ct}function Cn(){if(nt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ct===null?Le.memoizedState:ct.next;if(e!==null)ct=e,nt=t;else{if(t===null)throw Error(z(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Le.memoizedState=ct=t:ct=ct.next=t}return ct}function su(t,e){return typeof e=="function"?e(t):e}function vp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ms&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Le.lanes|=d,Ls|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,$n(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$n(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DS(){}function OS(t,e){var n=Le,r=Cn(),i=e(),s=!$n(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Oy(LS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,ou(9,MS.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(z(349));Ms&30||VS(n,e,i)}return i}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MS(t,e,n,r){e.value=n,e.getSnapshot=r,FS(e)&&jS(t)}function LS(t,e,n){return n(function(){FS(e)&&jS(t)})}function FS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function jS(t){var e=Ur(t,1);e!==null&&Bn(e,t,1,-1)}function h_(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:t},e.queue=t,t=t.dispatch=hO.bind(null,Le,t),[e.memoizedState,t]}function ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function US(){return Cn().memoizedState}function td(t,e,n,r){var i=Zn();Le.flags|=t,i.memoizedState=ou(1|e,n,void 0,r===void 0?null:r)}function Mh(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&ky(r,o.deps)){i.memoizedState=ou(e,n,s,r);return}}Le.flags|=t,i.memoizedState=ou(1|e,n,s,r)}function f_(t,e){return td(8390656,8,t,e)}function Oy(t,e){return Mh(2048,8,t,e)}function BS(t,e){return Mh(4,2,t,e)}function $S(t,e){return Mh(4,4,t,e)}function zS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WS(t,e,n){return n=n!=null?n.concat([t]):null,Mh(4,4,zS.bind(null,e,t),n)}function Vy(){}function HS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GS(t,e,n){return Ms&21?($n(n,e)||(n=Jx(),Le.lanes|=n,Ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function cO(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=yp.transition;yp.transition={};try{t(!1),e()}finally{xe=n,yp.transition=r}}function KS(){return Cn().memoizedState}function dO(t,e,n){var r=Di(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QS(t))YS(e,n);else if(n=RS(t,e,n,r),n!==null){var i=Ut();Bn(n,t,r,i),XS(n,e,r)}}function hO(t,e,n){var r=Di(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QS(t))YS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,o)){var l=e.interleaved;l===null?(i.next=i,Ay(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RS(t,e,i,r),n!==null&&(i=Ut(),Bn(n,t,r,i),XS(n,e,r))}}function QS(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function YS(t,e){Rl=Fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}var jd={readContext:An,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},fO={readContext:An,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:f_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,td(4194308,4,zS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return td(4194308,4,t,e)},useInsertionEffect:function(t,e){return td(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dO.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:h_,useDebugValue:Vy,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=h_(!1),e=t[0];return t=cO.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Zn();if(Oe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),dt===null)throw Error(z(349));Ms&30||VS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,f_(LS.bind(null,r,s,t),[t]),r.flags|=2048,ou(9,MS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=dt.identifierPrefix;if(Oe){var n=br,r=Pr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pO={readContext:An,useCallback:HS,useContext:An,useEffect:Oy,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:$S,useMemo:qS,useReducer:vp,useRef:US,useState:function(){return vp(su)},useDebugValue:Vy,useDeferredValue:function(t){var e=Cn();return GS(e,nt.memoizedState,t)},useTransition:function(){var t=vp(su)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:OS,useId:KS,unstable_isNewReconciler:!1},mO={readContext:An,useCallback:HS,useContext:An,useEffect:Oy,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:$S,useMemo:qS,useReducer:wp,useRef:US,useState:function(){return wp(su)},useDebugValue:Vy,useDeferredValue:function(t){var e=Cn();return nt===null?e.memoizedState=t:GS(e,nt.memoizedState,t)},useTransition:function(){var t=wp(su)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:OS,useId:KS,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lh={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Di(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&(Bn(e,t,i,r),Zc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Di(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&(Bn(e,t,i,r),Zc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=Di(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,r),e!==null&&(Bn(e,t,r,n),Zc(e,t,r))}};function p_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,r)||!Jl(i,s):!0}function JS(t,e,n){var r=!1,i=zi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=Xt(e)?Os:Nt.current,r=e.contextTypes,s=(r=r!=null)?aa(t,i):zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function m_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lh.enqueueReplaceState(e,e.state,null)}function Mm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=Xt(e)?Os:Nt.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lh.enqueueReplaceState(i,i.state,null),Md(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=zN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gO=typeof WeakMap=="function"?WeakMap:Map;function ZS(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bd||(Bd=!0,Gm=r),Lm(t,e)},n}function eI(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lm(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function g_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RO.bind(null,t,e,n),e.then(t,t))}function y_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,ki(n,e,1))),n.lanes|=1),t)}var yO=Qr.ReactCurrentOwner,Qt=!1;function Ft(t,e,n,r){e.child=t===null?bS(e,null,n,r):ua(e,t.child,n,r)}function w_(t,e,n,r,i){n=n.render;var s=e.ref;return $o(e,i),r=Ny(t,e,n,r,s,i),n=Dy(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(Oe&&n&&_y(e),e.flags|=1,Ft(t,e,r,i),e.child)}function __(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tI(t,e,s,r,i)):(t=sd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(o,r)&&t.ref===e.ref)return Br(t,e,i)}return e.flags|=1,t=Oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function tI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Jl(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Br(t,e,i)}return Fm(t,e,n,r,i)}function nI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ko,sn),sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(ko,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(ko,sn),sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(ko,sn),sn|=r;return Ft(t,e,i,n),e.child}function rI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fm(t,e,n,r,i){var s=Xt(n)?Os:Nt.current;return s=aa(e,s),$o(e,i),n=Ny(t,e,n,r,s,i),r=Dy(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(Oe&&r&&_y(e),e.flags|=1,Ft(t,e,n,i),e.child)}function E_(t,e,n,r,i){if(Xt(n)){var s=!0;kd(e)}else s=!1;if($o(e,i),e.stateNode===null)nd(t,e),JS(e,n,r),Mm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=Xt(n)?Os:Nt.current,u=aa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&m_(e,o,r,u),ci=!1;var f=e.memoizedState;o.state=f,Md(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Yt.current||ci?(typeof d=="function"&&(Vm(e,n,d,r),l=e.memoizedState),(a=ci||p_(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=Xt(n)?Os:Nt.current,l=aa(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&m_(e,o,r,l),ci=!1,f=e.memoizedState,o.state=f,Md(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||Yt.current||ci?(typeof m=="function"&&(Vm(e,n,m,r),y=e.memoizedState),(u=ci||p_(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jm(t,e,n,r,s,i)}function jm(t,e,n,r,i,s){rI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&o_(e,n,!1),Br(t,e,s);r=e.stateNode,yO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,a,s)):Ft(t,e,a,s),e.memoizedState=r.state,i&&o_(e,n,!0),e.child}function iI(t){var e=t.stateNode;e.pendingContext?s_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&s_(t,e.context,!1),Py(t,e.containerInfo)}function T_(t,e,n,r,i){return la(),Ty(i),e.flags|=256,Ft(t,e,n,r),e.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function sI(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ve,i&1),t===null)return Dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Uh(o,r,0,null),t=Ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bm(n),e.memoizedState=Um,t):My(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Oi(a,s):(s=Ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Um,r}return s=t.child,t=s.sibling,r=Oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function My(t,e){return e=Uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bc(t,e,n,r){return r!==null&&Ty(r),ua(e,t.child,null,n),t=My(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(z(422))),bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Uh({mode:"visible",children:r.children},i,0,null),s=Ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=Bm(o),e.memoizedState=Um,s);if(!(e.mode&1))return bc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=_p(s,r,void 0),bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ur(t,i),Bn(r,t,i,-1))}return $y(),r=_p(Error(z(421))),bc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=Ri(i.nextSibling),ln=e,Oe=!0,Ln=null,t!==null&&(wn[_n++]=Pr,wn[_n++]=br,wn[_n++]=Vs,Pr=t.id,br=t.overflow,Vs=e),e=My(e,r.children),e.flags|=4096,e)}function x_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Om(t.return,e,n)}function Ep(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x_(t,n,e);else if(t.tag===19)x_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ep(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ep(e,!0,n,null,s);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wO(t,e,n){switch(e.tag){case 3:iI(e),la();break;case 5:NS(e);break;case 1:Xt(e.type)&&kd(e);break;case 4:Py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?sI(t,e,n):(Ce(Ve,Ve.current&1),t=Br(t,e,n),t!==null?t.sibling:null);Ce(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,nI(t,e,n)}return Br(t,e,n)}var aI,$m,lI,uI;aI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$m=function(){};lI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(or.current);var s=null;switch(n){case"input":i=cm(t,i),r=cm(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=fm(t,i),r=fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bd)}mm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};uI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _O(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Xt(e.type)&&Rd(),It(e),null;case 3:return r=e.stateNode,ca(),De(Yt),De(Nt),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Ym(Ln),Ln=null))),$m(t,e),It(e),null;case 5:by(e);var i=xs(ru.current);if(n=e.type,t!==null&&e.stateNode!=null)lI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return It(e),null}if(t=xs(or.current),Cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[tu]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<yl.length;i++)ke(yl[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Nw(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":Ow(r,s),ke("invalid",r)}mm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ac(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ac(r.textContent,a,t),i=["children",""+a]):Hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":vc(r),Dw(r,s,!0);break;case"textarea":vc(r),Vw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[tu]=r,aI(t,e,!1,!1),e.stateNode=t;e:{switch(o=gm(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<yl.length;i++)ke(yl[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":Nw(t,r),i=cm(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Ow(t,r),i=fm(t,r),ke("invalid",t);break;default:i=r}mm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ux(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",t):l!=null&&oy(t,s,l,o))}switch(n){case"input":vc(t),Dw(t,r,!1);break;case"textarea":vc(t),Vw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)uI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=xs(ru.current),xs(or.current),Cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ac(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return It(e),null;case 13:if(De(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&an!==null&&e.mode&1&&!(e.flags&128))CS(),la(),e.flags|=98560,s=!1;else if(s=Cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[ir]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else Ln!==null&&(Ym(Ln),Ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?it===0&&(it=3):$y())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return ca(),$m(t,e),t===null&&Zl(e.stateNode.containerInfo),It(e),null;case 10:return Iy(e.type._context),It(e),null;case 17:return Xt(e.type)&&Rd(),It(e),null;case 19:if(De(Ve),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ll(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ld(t),o!==null){for(e.flags|=128,ll(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>ha&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return It(e),null}else 2*qe()-s.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Ve.current,Ce(Ve,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function EO(t,e){switch(Ey(e),e.tag){case 1:return Xt(e.type)&&Rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),De(Yt),De(Nt),Ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return by(e),null;case 13:if(De(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Ve),null;case 4:return ca(),null;case 10:return Iy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Rc=!1,Rt=!1,TO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function zm(t,e,n){try{n()}catch(r){We(t,e,r)}}var S_=!1;function xO(t,e){if(Am=Ad,t=pS(),wy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cm={focusedElem:t,selectionRange:n},Ad=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,T=y.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:Dn(e.type,w),T);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){We(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=S_,S_=!1,y}function kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zm(e,n,s)}i=i.next}while(i!==r)}}function Fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cI(t){var e=t.alternate;e!==null&&(t.alternate=null,cI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[tu],delete e[Rm],delete e[sO],delete e[oO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dI(t){return t.tag===5||t.tag===3||t.tag===4}function I_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bd));else if(r!==4&&(t=t.child,t!==null))for(Hm(t,e,n),t=t.sibling;t!==null;)Hm(t,e,n),t=t.sibling}function qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qm(t,e,n),t=t.sibling;t!==null;)qm(t,e,n),t=t.sibling}var pt=null,Mn=!1;function ri(t,e,n){for(n=n.child;n!==null;)hI(t,e,n),n=n.sibling}function hI(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Rh,n)}catch{}switch(n.tag){case 5:Rt||Ro(n,e);case 6:var r=pt,i=Mn;pt=null,ri(t,e,n),pt=r,Mn=i,pt!==null&&(Mn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Mn?(t=pt,n=n.stateNode,t.nodeType===8?pp(t.parentNode,n):t.nodeType===1&&pp(t,n),Yl(t)):pp(pt,n.stateNode));break;case 4:r=pt,i=Mn,pt=n.stateNode.containerInfo,Mn=!0,ri(t,e,n),pt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zm(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Rt&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,ri(t,e,n),Rt=r):ri(t,e,n);break;default:ri(t,e,n)}}function A_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TO),e.forEach(function(r){var i=NO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Mn=!1;break e;case 3:pt=a.stateNode.containerInfo,Mn=!0;break e;case 4:pt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(pt===null)throw Error(z(160));hI(s,o,i),pt=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fI(e,t),e=e.sibling}function fI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Jn(t),r&4){try{kl(3,t,t.return),Fh(3,t)}catch(w){We(t,t.return,w)}try{kl(5,t,t.return)}catch(w){We(t,t.return,w)}}break;case 1:Nn(e,t),Jn(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(Nn(e,t),Jn(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var i=t.stateNode;try{ql(i,"")}catch(w){We(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Vx(i,s),gm(a,o);var u=gm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ux(i,h):d==="dangerouslySetInnerHTML"?Fx(i,h):d==="children"?ql(i,h):oy(i,d,h,u)}switch(a){case"input":dm(i,s);break;case"textarea":Mx(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Fo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[tu]=s}catch(w){We(t,t.return,w)}}break;case 6:if(Nn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){We(t,t.return,w)}}break;case 3:if(Nn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(w){We(t,t.return,w)}break;case 4:Nn(e,t),Jn(t);break;case 13:Nn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jy=qe())),r&4&&A_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,Nn(e,t),Rt=u):Nn(e,t),Jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:kl(4,f,f.return);break;case 1:Ro(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){We(r,n,w)}}break;case 5:Ro(f,f.return);break;case 22:if(f.memoizedState!==null){P_(h);continue}}m!==null?(m.return=f,Y=m):P_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jx("display",o))}catch(w){We(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){We(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),Jn(t),r&4&&A_(t);break;case 21:break;default:Nn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ql(i,""),r.flags&=-33);var s=I_(t);qm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=I_(t);Hm(t,a,o);break;default:throw Error(z(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SO(t,e,n){Y=t,pI(t)}function pI(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=Rc;var u=Rt;if(Rc=o,(Rt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?b_(i):l!==null?(l.return=o,Y=l):b_(i);for(;s!==null;)Y=s,pI(s),s=s.sibling;Y=i,Rc=a,Rt=u}C_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):C_(t)}}function C_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Fh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&d_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Rt||e.flags&512&&Wm(e)}catch(f){We(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function P_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function b_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fh(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{Wm(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{Wm(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var IO=Math.ceil,Ud=Qr.ReactCurrentDispatcher,Ly=Qr.ReactCurrentOwner,Sn=Qr.ReactCurrentBatchConfig,ve=0,dt=null,Je=null,yt=0,sn=0,ko=is(0),it=0,au=null,Ls=0,jh=0,Fy=0,Nl=null,Kt=null,jy=0,ha=1/0,Ar=null,Bd=!1,Gm=null,Ni=null,kc=!1,Si=null,$d=0,Dl=0,Km=null,rd=-1,id=0;function Ut(){return ve&6?qe():rd!==-1?rd:rd=qe()}function Di(t){return t.mode&1?ve&2&&yt!==0?yt&-yt:lO.transition!==null?(id===0&&(id=Jx()),id):(t=xe,t!==0||(t=window.event,t=t===void 0?16:sS(t.type)),t):1}function Bn(t,e,n,r){if(50<Dl)throw Dl=0,Km=null,Error(z(185));Nu(t,n,r),(!(ve&2)||t!==dt)&&(t===dt&&(!(ve&2)&&(jh|=n),it===4&&fi(t,yt)),Jt(t,r),n===1&&ve===0&&!(e.mode&1)&&(ha=qe()+500,Vh&&ss()))}function Jt(t,e){var n=t.callbackNode;lD(t,e);var r=Id(t,t===dt?yt:0);if(r===0)n!==null&&Fw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fw(n),e===1)t.tag===0?aO(R_.bind(null,t)):SS(R_.bind(null,t)),rO(function(){!(ve&6)&&ss()}),n=null;else{switch(Zx(r)){case 1:n=dy;break;case 4:n=Yx;break;case 16:n=Sd;break;case 536870912:n=Xx;break;default:n=Sd}n=TI(n,mI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mI(t,e){if(rd=-1,id=0,ve&6)throw Error(z(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=Id(t,t===dt?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zd(t,r);else{e=r;var i=ve;ve|=2;var s=yI();(dt!==t||yt!==e)&&(Ar=null,ha=qe()+500,ks(t,e));do try{PO();break}catch(a){gI(t,a)}while(!0);Sy(),Ud.current=s,ve=i,Je!==null?e=0:(dt=null,yt=0,e=it)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(r=i,e=Qm(t,i))),e===1)throw n=au,ks(t,0),fi(t,r),Jt(t,qe()),n;if(e===6)fi(t,r);else{if(i=t.current.alternate,!(r&30)&&!AO(i)&&(e=zd(t,r),e===2&&(s=Em(t),s!==0&&(r=s,e=Qm(t,s))),e===1))throw n=au,ks(t,0),fi(t,r),Jt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:gs(t,Kt,Ar);break;case 3:if(fi(t,r),(r&130023424)===r&&(e=jy+500-qe(),10<e)){if(Id(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bm(gs.bind(null,t,Kt,Ar),e);break}gs(t,Kt,Ar);break;case 4:if(fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IO(r/1960))-r,10<r){t.timeoutHandle=bm(gs.bind(null,t,Kt,Ar),r);break}gs(t,Kt,Ar);break;case 5:gs(t,Kt,Ar);break;default:throw Error(z(329))}}}return Jt(t,qe()),t.callbackNode===n?mI.bind(null,t):null}function Qm(t,e){var n=Nl;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=zd(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Ym(e)),t}function Ym(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function AO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~Fy,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function R_(t){if(ve&6)throw Error(z(327));zo();var e=Id(t,0);if(!(e&1))return Jt(t,qe()),null;var n=zd(t,e);if(t.tag!==0&&n===2){var r=Em(t);r!==0&&(e=r,n=Qm(t,r))}if(n===1)throw n=au,ks(t,0),fi(t,e),Jt(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gs(t,Kt,Ar),Jt(t,qe()),null}function Uy(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ha=qe()+500,Vh&&ss())}}function Fs(t){Si!==null&&Si.tag===0&&!(ve&6)&&zo();var e=ve;ve|=1;var n=Sn.transition,r=xe;try{if(Sn.transition=null,xe=1,t)return t()}finally{xe=r,Sn.transition=n,ve=e,!(ve&6)&&ss()}}function By(){sn=ko.current,De(ko)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nO(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rd();break;case 3:ca(),De(Yt),De(Nt),Ry();break;case 5:by(r);break;case 4:ca();break;case 13:De(Ve);break;case 19:De(Ve);break;case 10:Iy(r.type._context);break;case 22:case 23:By()}n=n.return}if(dt=t,Je=t=Oi(t.current,null),yt=sn=e,it=0,au=null,Fy=jh=Ls=0,Kt=Nl=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return t}function gI(t,e){do{var n=Je;try{if(Sy(),ed.current=jd,Fd){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fd=!1}if(Ms=0,ct=nt=Le=null,Rl=!1,iu=0,Ly.current=null,n===null||n.return===null){it=1,au=e,Je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=y_(o);if(m!==null){m.flags&=-257,v_(m,o,a,s,e),m.mode&1&&g_(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){g_(s,u,e),$y();break e}l=Error(z(426))}}else if(Oe&&a.mode&1){var T=y_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),v_(T,o,a,s,e),Ty(da(l,a));break e}}s=l=da(l,a),it!==4&&(it=2),Nl===null?Nl=[s]:Nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=ZS(s,l,e);c_(s,E);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ni===null||!Ni.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=eI(s,a,e);c_(s,P);break e}}s=s.return}while(s!==null)}wI(n)}catch(O){e=O,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function yI(){var t=Ud.current;return Ud.current=jd,t===null?jd:t}function $y(){(it===0||it===3||it===2)&&(it=4),dt===null||!(Ls&268435455)&&!(jh&268435455)||fi(dt,yt)}function zd(t,e){var n=ve;ve|=2;var r=yI();(dt!==t||yt!==e)&&(Ar=null,ks(t,e));do try{CO();break}catch(i){gI(t,i)}while(!0);if(Sy(),ve=n,Ud.current=r,Je!==null)throw Error(z(261));return dt=null,yt=0,it}function CO(){for(;Je!==null;)vI(Je)}function PO(){for(;Je!==null&&!ZN();)vI(Je)}function vI(t){var e=EI(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?wI(t):Je=e,Ly.current=null}function wI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EO(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=_O(n,e,sn),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function gs(t,e,n){var r=xe,i=Sn.transition;try{Sn.transition=null,xe=1,bO(t,e,n,r)}finally{Sn.transition=i,xe=r}return null}function bO(t,e,n,r){do zo();while(Si!==null);if(ve&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uD(t,s),t===dt&&(Je=dt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,TI(Sd,function(){return zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=xe;xe=1;var a=ve;ve|=4,Ly.current=null,xO(t,n),fI(n,t),QD(Cm),Ad=!!Am,Cm=Am=null,t.current=n,SO(n),eD(),ve=a,xe=o,Sn.transition=s}else t.current=n;if(kc&&(kc=!1,Si=t,$d=i),s=t.pendingLanes,s===0&&(Ni=null),rD(n.stateNode),Jt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bd)throw Bd=!1,t=Gm,Gm=null,t;return $d&1&&t.tag!==0&&zo(),s=t.pendingLanes,s&1?t===Km?Dl++:(Dl=0,Km=t):Dl=0,ss(),null}function zo(){if(Si!==null){var t=Zx($d),e=Sn.transition,n=xe;try{if(Sn.transition=null,xe=16>t?16:t,Si===null)var r=!1;else{if(t=Si,Si=null,$d=0,ve&6)throw Error(z(331));var i=ve;for(ve|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:kl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(cI(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Y=_;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fh(9,a)}}catch(O){We(a,a.return,O)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(ve=i,ss(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Rh,t)}catch{}r=!0}return r}finally{xe=n,Sn.transition=e}}return!1}function k_(t,e,n){e=da(n,e),e=ZS(t,e,1),t=ki(t,e,1),e=Ut(),t!==null&&(Nu(t,1,e),Jt(t,e))}function We(t,e,n){if(t.tag===3)k_(t,t,n);else for(;e!==null;){if(e.tag===3){k_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=da(n,t),t=eI(e,t,1),e=ki(e,t,1),t=Ut(),e!==null&&(Nu(e,1,t),Jt(e,t));break}}e=e.return}}function RO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(yt&n)===n&&(it===4||it===3&&(yt&130023424)===yt&&500>qe()-jy?ks(t,0):Fy|=n),Jt(t,e)}function _I(t,e){e===0&&(t.mode&1?(e=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):e=1);var n=Ut();t=Ur(t,e),t!==null&&(Nu(t,e,n),Jt(t,n))}function kO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_I(t,n)}function NO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),_I(t,n)}var EI;EI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,wO(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Oe&&e.flags&1048576&&IS(e,Dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nd(t,e),t=e.pendingProps;var i=aa(e,Nt.current);$o(e,n),i=Ny(null,e,r,t,i,n);var s=Dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(s=!0,kd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cy(e),i.updater=Lh,e.stateNode=i,i._reactInternals=e,Mm(e,r,t,n),e=jm(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&_y(e),Ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OO(r),t=Dn(r,t),i){case 0:e=Fm(null,e,r,t,n);break e;case 1:e=E_(null,e,r,t,n);break e;case 11:e=w_(null,e,r,t,n);break e;case 14:e=__(null,e,r,Dn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),Fm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),E_(t,e,r,i,n);case 3:e:{if(iI(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kS(t,e),Md(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(z(423)),e),e=T_(t,e,r,n,i);break e}else if(r!==i){i=da(Error(z(424)),e),e=T_(t,e,r,n,i);break e}else for(an=Ri(e.stateNode.containerInfo.firstChild),ln=e,Oe=!0,Ln=null,n=bS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=Br(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return NS(e),t===null&&Dm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pm(r,i)?o=null:s!==null&&Pm(r,s)&&(e.flags|=32),rI(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&Dm(e),null;case 13:return sI(t,e,n);case 4:return Py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),w_(t,e,r,i,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Od,r._currentValue),r._currentValue=o,s!==null)if($n(s.value,o)){if(s.children===i.children&&!Yt.current){e=Br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Om(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Om(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$o(e,n),i=An(i),r=r(i),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),__(t,e,r,i,n);case 15:return tI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),nd(t,e),e.tag=1,Xt(r)?(t=!0,kd(e)):t=!1,$o(e,n),JS(e,r,i),Mm(e,r,i,n),jm(null,e,r,!0,t,n);case 19:return oI(t,e,n);case 22:return nI(t,e,n)}throw Error(z(156,e.tag))};function TI(t,e){return Qx(t,e)}function DO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new DO(t,e,n,r)}function zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OO(t){if(typeof t=="function")return zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===uy)return 14}return 2}function Oi(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eo:return Ns(n.children,i,s,e);case ay:o=8,i|=8;break;case om:return t=xn(12,n,e,i|2),t.elementType=om,t.lanes=s,t;case am:return t=xn(13,n,e,i),t.elementType=am,t.lanes=s,t;case lm:return t=xn(19,n,e,i),t.elementType=lm,t.lanes=s,t;case Nx:return Uh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rx:o=10;break e;case kx:o=9;break e;case ly:o=11;break e;case uy:o=14;break e;case ui:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ns(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Uh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=Nx,t.lanes=n,t.stateNode={isHidden:!1},t}function Tp(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wy(t,e,n,r,i,s,o,a,l){return t=new VO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(s),t}function MO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xI(t){if(!t)return zi;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Xt(n))return xS(t,n,e)}return e}function SI(t,e,n,r,i,s,o,a,l){return t=Wy(n,r,!0,t,i,s,o,a,l),t.context=xI(null),n=t.current,r=Ut(),i=Di(n),s=Dr(r,i),s.callback=e??null,ki(n,s,i),t.current.lanes=i,Nu(t,i,r),Jt(t,r),t}function Bh(t,e,n,r){var i=e.current,s=Ut(),o=Di(i);return n=xI(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ki(i,e,o),t!==null&&(Bn(t,i,o,s),Zc(t,i,o)),o}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){N_(t,e),(t=t.alternate)&&N_(t,e)}function LO(){return null}var II=typeof reportError=="function"?reportError:function(t){console.error(t)};function qy(t){this._internalRoot=t}$h.prototype.render=qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Bh(t,e,null,null)};$h.prototype.unmount=qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){Bh(null,t,null,null)}),e[jr]=null}};function $h(t){this._internalRoot=t}$h.prototype.unstable_scheduleHydration=function(t){if(t){var e=nS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&iS(t)}};function Gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function D_(){}function FO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wd(o);s.call(u)}}var o=SI(e,r,t,0,null,!1,!1,"",D_);return t._reactRootContainer=o,t[jr]=o.current,Zl(t.nodeType===8?t.parentNode:t),Fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wd(l);a.call(u)}}var l=Wy(t,0,!1,null,null,!1,!1,"",D_);return t._reactRootContainer=l,t[jr]=l.current,Zl(t.nodeType===8?t.parentNode:t),Fs(function(){Bh(e,l,n,r)}),l}function Wh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Wd(o);a.call(l)}}Bh(e,o,t,i)}else o=FO(n,e,t,i,r);return Wd(o)}eS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gl(e.pendingLanes);n!==0&&(hy(e,n|1),Jt(e,qe()),!(ve&6)&&(ha=qe()+500,ss()))}break;case 13:Fs(function(){var r=Ur(t,1);if(r!==null){var i=Ut();Bn(r,t,1,i)}}),Hy(t,1)}};fy=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Ut();Bn(e,t,134217728,n)}Hy(t,134217728)}};tS=function(t){if(t.tag===13){var e=Di(t),n=Ur(t,e);if(n!==null){var r=Ut();Bn(n,t,e,r)}Hy(t,e)}};nS=function(){return xe};rS=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};vm=function(t,e,n){switch(e){case"input":if(dm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Oh(r);if(!i)throw Error(z(90));Ox(r),dm(r,i)}}}break;case"textarea":Mx(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};zx=Uy;Wx=Fs;var jO={usingClientEntryPoint:!1,Events:[Ou,Io,Oh,Bx,$x,Uy]},ul={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UO={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gx(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||LO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Rh=Nc.inject(UO),sr=Nc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gy(e))throw Error(z(200));return MO(t,e,null,n)};fn.createRoot=function(t,e){if(!Gy(t))throw Error(z(299));var n=!1,r="",i=II;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wy(t,1,!1,null,null,n,!1,r,i),t[jr]=e.current,Zl(t.nodeType===8?t.parentNode:t),new qy(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Gx(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Fs(t)};fn.hydrate=function(t,e,n){if(!zh(e))throw Error(z(200));return Wh(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Gy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=II;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SI(e,null,t,1,n??null,i,!1,s,o),t[jr]=e.current,Zl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $h(e)};fn.render=function(t,e,n){if(!zh(e))throw Error(z(200));return Wh(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!zh(t))throw Error(z(40));return t._reactRootContainer?(Fs(function(){Wh(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};fn.unstable_batchedUpdates=Uy;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Wh(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function AI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AI)}catch(t){console.error(t)}}AI(),Ax.exports=fn;var Mu=Ax.exports;const CI=px(Mu);var PI,O_=Mu;PI=O_.createRoot,O_.hydrateRoot;const BO=1,$O=1e6;let Sp=0;function zO(){return Sp=(Sp+1)%Number.MAX_SAFE_INTEGER,Sp.toString()}const Ip=new Map,V_=t=>{if(Ip.has(t))return;const e=setTimeout(()=>{Ip.delete(t),Ol({type:"REMOVE_TOAST",toastId:t})},$O);Ip.set(t,e)},WO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,BO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?V_(n):t.toasts.forEach(r=>{V_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},od=[];let ad={toasts:[]};function Ol(t){ad=WO(ad,t),od.forEach(e=>{e(ad)})}function HO({...t}){const e=zO(),n=i=>Ol({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ol({type:"DISMISS_TOAST",toastId:e});return Ol({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function bI(){const[t,e]=S.useState(ad);return S.useEffect(()=>(od.push(e),()=>{const n=od.indexOf(e);n>-1&&od.splice(n,1)}),[t]),{...t,toast:HO,dismiss:n=>Ol({type:"DISMISS_TOAST",toastId:n})}}function rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function qO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function RI(...t){return e=>t.forEach(n=>qO(n,e))}function zn(...t){return S.useCallback(RI(...t),t)}function GO(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...y}=h,w=(f==null?void 0:f[t][l])||a,T=S.useMemo(()=>y,Object.values(y));return k.jsx(w.Provider,{value:T,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,KO(i,...e)]}function KO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var lu=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),s=i.find(QO);if(s){const o=s.props.children,a=i.map(l=>l===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:l);return k.jsx(Xm,{...r,ref:e,children:S.isValidElement(o)?S.cloneElement(o,void 0,a):null})}return k.jsx(Xm,{...r,ref:e,children:n})});lu.displayName="Slot";var Xm=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=XO(n);return S.cloneElement(n,{...YO(r,n.props),ref:e?RI(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});Xm.displayName="SlotClone";var kI=({children:t})=>k.jsx(k.Fragment,{children:t});function QO(t){return S.isValidElement(t)&&t.type===kI}function YO(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function XO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function JO(t){const e=t+"CollectionProvider",[n,r]=GO(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:w}=m,T=q.useRef(null),E=q.useRef(new Map).current;return k.jsx(i,{scope:y,itemMap:E,collectionRef:T,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((m,y)=>{const{scope:w,children:T}=m,E=s(a,w),v=zn(y,E.collectionRef);return k.jsx(lu,{ref:v,children:T})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=q.forwardRef((m,y)=>{const{scope:w,children:T,...E}=m,v=q.useRef(null),_=zn(y,v),P=s(u,w);return q.useEffect(()=>(P.itemMap.set(v,{ref:v,...E}),()=>void P.itemMap.delete(v))),k.jsx(lu,{[d]:"",ref:_,children:T})});h.displayName=u;function f(m){const y=s(t+"CollectionConsumer",m);return q.useCallback(()=>{const T=y.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((P,O)=>E.indexOf(P.ref.current)-E.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function NI(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const u=h=>{var E;const{scope:f,children:m,...y}=h,w=((E=f==null?void 0:f[t])==null?void 0:E[l])||a,T=S.useMemo(()=>y,Object.values(y));return k.jsx(w.Provider,{value:T,children:m})};u.displayName=s+"Provider";function d(h,f){var w;const m=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,ZO(i,...e)]}function ZO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var eV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wt=eV.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?lu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function DI(t,e){t&&Mu.flushSync(()=>t.dispatchEvent(e))}function fr(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function tV(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nV="DismissableLayer",Jm="dismissableLayer.update",rV="dismissableLayer.pointerDownOutside",iV="dismissableLayer.focusOutside",M_,OI=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ky=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=S.useContext(OI),[d,h]=S.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),y=zn(e,I=>h(I)),w=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(T),v=d?w.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,P=v>=E,O=oV(I=>{const x=I.target,A=[...u.branches].some(b=>b.contains(x));!P||A||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),V=aV(I=>{const x=I.target;[...u.branches].some(b=>b.contains(x))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return tV(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(M_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),L_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=M_)}},[d,f,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),L_())},[d,u]),S.useEffect(()=>{const I=()=>m({});return document.addEventListener(Jm,I),()=>document.removeEventListener(Jm,I)},[]),k.jsx(Wt.div,{...l,ref:y,style:{pointerEvents:_?P?"auto":"none":void 0,...t.style},onFocusCapture:rt(t.onFocusCapture,V.onFocusCapture),onBlurCapture:rt(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:rt(t.onPointerDownCapture,O.onPointerDownCapture)})});Ky.displayName=nV;var sV="DismissableLayerBranch",VI=S.forwardRef((t,e)=>{const n=S.useContext(OI),r=S.useRef(null),i=zn(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),k.jsx(Wt.div,{...t,ref:i})});VI.displayName=sV;function oV(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){MI(rV,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function aV(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&MI(iV,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L_(){const t=new CustomEvent(Jm);document.dispatchEvent(t)}function MI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?DI(i,s):i.dispatchEvent(s)}var lV=Ky,uV=VI,js=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},cV="Portal",LI=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);js(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?CI.createPortal(k.jsx(Wt.div,{...r,ref:e}),o):null});LI.displayName=cV;function dV(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Qy=t=>{const{present:e,children:n}=t,r=hV(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=zn(r.ref,fV(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Qy.displayName="Presence";function hV(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=dV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Dc(r.current);s.current=a==="mounted"?u:"none"},[a]),js(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,m=Dc(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),js(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const w=Dc(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=m=>{m.target===e&&(s.current=Dc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Dc(t){return(t==null?void 0:t.animationName)||"none"}function fV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pV({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=mV({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=fr(n),l=S.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else i(u)},[s,t,i,a]);return[o,l]}function mV({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),s=fr(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var gV="VisuallyHidden",Hh=S.forwardRef((t,e)=>k.jsx(Wt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hh.displayName=gV;var yV=Hh,Yy="ToastProvider",[Xy,vV,wV]=JO("Toast"),[FI,s8]=NI("Toast",[wV]),[_V,qh]=FI(Yy),jI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=S.useState(null),[u,d]=S.useState(0),h=S.useRef(!1),f=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yy}\`. Expected non-empty \`string\`.`),k.jsx(Xy.Provider,{scope:e,children:k.jsx(_V,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};jI.displayName=Yy;var UI="ToastViewport",EV=["F8"],Zm="toast.viewportPause",eg="toast.viewportResume",BI=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=EV,label:i="Notifications ({hotkey})",...s}=t,o=qh(UI,n),a=vV(n),l=S.useRef(null),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),f=zn(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;S.useEffect(()=>{const T=E=>{var _;r.length!==0&&r.every(P=>E[P]||E.code===P)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),S.useEffect(()=>{const T=l.current,E=h.current;if(y&&T&&E){const v=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(Zm);E.dispatchEvent(V),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(eg);E.dispatchEvent(V),o.isClosePausedRef.current=!1}},P=V=>{!T.contains(V.relatedTarget)&&_()},O=()=>{T.contains(document.activeElement)||_()};return T.addEventListener("focusin",v),T.addEventListener("focusout",P),T.addEventListener("pointermove",v),T.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{T.removeEventListener("focusin",v),T.removeEventListener("focusout",P),T.removeEventListener("pointermove",v),T.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const w=S.useCallback(({tabbingDirection:T})=>{const v=a().map(_=>{const P=_.ref.current,O=[P,...OV(P)];return T==="forwards"?O:O.reverse()});return(T==="forwards"?v.reverse():v).flat()},[a]);return S.useEffect(()=>{const T=h.current;if(T){const E=v=>{var O,V,I;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const x=document.activeElement,A=v.shiftKey;if(v.target===T&&A){(O=u.current)==null||O.focus();return}const D=w({tabbingDirection:A?"backwards":"forwards"}),R=D.findIndex($=>$===x);Ap(D.slice(R+1))?v.preventDefault():A?(V=u.current)==null||V.focus():(I=d.current)==null||I.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,w]),k.jsxs(uV,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&k.jsx(tg,{ref:u,onFocusFromOutsideViewport:()=>{const T=w({tabbingDirection:"forwards"});Ap(T)}}),k.jsx(Xy.Slot,{scope:n,children:k.jsx(Wt.ol,{tabIndex:-1,...s,ref:f})}),y&&k.jsx(tg,{ref:d,onFocusFromOutsideViewport:()=>{const T=w({tabbingDirection:"backwards"});Ap(T)}})]})});BI.displayName=UI;var $I="ToastFocusProxy",tg=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=qh($I,n);return k.jsx(Hh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});tg.displayName=$I;var Gh="Toast",TV="toast.swipeStart",xV="toast.swipeMove",SV="toast.swipeCancel",IV="toast.swipeEnd",zI=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=pV({prop:r,defaultProp:i,onChange:s});return k.jsx(Qy,{present:n||a,children:k.jsx(PV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:fr(t.onPause),onResume:fr(t.onResume),onSwipeStart:rt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:rt(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:rt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:rt(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});zI.displayName=Gh;var[AV,CV]=FI(Gh,{onClose(){}}),PV=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...y}=t,w=qh(Gh,n),[T,E]=S.useState(null),v=zn(e,$=>E($)),_=S.useRef(null),P=S.useRef(null),O=i||w.duration,V=S.useRef(0),I=S.useRef(O),x=S.useRef(0),{onToastAdd:A,onToastRemove:b}=w,N=fr(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=w.viewport)==null||re.focus()),o()}),D=S.useCallback($=>{!$||$===1/0||(window.clearTimeout(x.current),V.current=new Date().getTime(),x.current=window.setTimeout(N,$))},[N]);S.useEffect(()=>{const $=w.viewport;if($){const re=()=>{D(I.current),u==null||u()},Q=()=>{const ne=new Date().getTime()-V.current;I.current=I.current-ne,window.clearTimeout(x.current),l==null||l()};return $.addEventListener(Zm,Q),$.addEventListener(eg,re),()=>{$.removeEventListener(Zm,Q),$.removeEventListener(eg,re)}}},[w.viewport,O,l,u,D]),S.useEffect(()=>{s&&!w.isClosePausedRef.current&&D(O)},[s,O,w.isClosePausedRef,D]),S.useEffect(()=>(A(),()=>b()),[A,b]);const R=S.useMemo(()=>T?YI(T):null,[T]);return w.viewport?k.jsxs(k.Fragment,{children:[R&&k.jsx(bV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),k.jsx(AV,{scope:n,onClose:N,children:Mu.createPortal(k.jsx(Xy.ItemSlot,{scope:n,children:k.jsx(lV,{asChild:!0,onEscapeKeyDown:rt(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:k.jsx(Wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:rt(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:rt(t.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:rt(t.onPointerMove,$=>{if(!_.current)return;const re=$.clientX-_.current.x,Q=$.clientY-_.current.y,ne=!!P.current,L=["left","right"].includes(w.swipeDirection),W=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Z=L?W(0,re):0,H=L?0:W(0,Q),J=$.pointerType==="touch"?10:2,ee={x:Z,y:H},Se={originalEvent:$,delta:ee};ne?(P.current=ee,Oc(xV,h,Se,{discrete:!1})):F_(ee,w.swipeDirection,J)?(P.current=ee,Oc(TV,d,Se,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(re)>J||Math.abs(Q)>J)&&(_.current=null)}),onPointerUp:rt(t.onPointerUp,$=>{const re=P.current,Q=$.target;if(Q.hasPointerCapture($.pointerId)&&Q.releasePointerCapture($.pointerId),P.current=null,_.current=null,re){const ne=$.currentTarget,L={originalEvent:$,delta:re};F_(re,w.swipeDirection,w.swipeThreshold)?Oc(IV,m,L,{discrete:!0}):Oc(SV,f,L,{discrete:!0}),ne.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),bV=t=>{const{__scopeToast:e,children:n,...r}=t,i=qh(Gh,e),[s,o]=S.useState(!1),[a,l]=S.useState(!1);return NV(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:k.jsx(LI,{asChild:!0,children:k.jsx(Hh,{...r,children:s&&k.jsxs(k.Fragment,{children:[i.label," ",n]})})})},RV="ToastTitle",WI=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return k.jsx(Wt.div,{...r,ref:e})});WI.displayName=RV;var kV="ToastDescription",HI=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return k.jsx(Wt.div,{...r,ref:e})});HI.displayName=kV;var qI="ToastAction",GI=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?k.jsx(QI,{altText:n,asChild:!0,children:k.jsx(Jy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qI}\`. Expected non-empty \`string\`.`),null)});GI.displayName=qI;var KI="ToastClose",Jy=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=CV(KI,n);return k.jsx(QI,{asChild:!0,children:k.jsx(Wt.button,{type:"button",...r,ref:e,onClick:rt(t.onClick,i.onClose)})})});Jy.displayName=KI;var QI=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return k.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function YI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),DV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...YI(r))}}),e}function Oc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?DI(i,s):i.dispatchEvent(s)}var F_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function NV(t=()=>{}){const e=fr(t);js(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function DV(t){return t.nodeType===t.ELEMENT_NODE}function OV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ap(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var VV=jI,XI=BI,JI=zI,ZI=WI,eA=HI,tA=GI,nA=Jy;function rA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iA(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rA(t))&&(r&&(r+=" "),r+=e);return r}const j_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U_=iA,Zy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const f=j_(d)||j_(h);return i[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(y=>{let[w,T]=y;return Array.isArray(T)?T.includes({...s,...a}[w]):{...s,...a}[w]===T})?[...u,h,f]:u},[]);return U_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...LV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sA("lucide",i),...a},[...o.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(FV,{ref:s,iconNode:e,className:sA(`lucide-${MV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=yr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=yr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=yr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=yr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=yr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=yr("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=yr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=yr("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=yr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=yr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ev="-",WV=t=>{const e=qV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ev);return a[0]===""&&a.length!==1&&a.shift(),lA(a,e)||HV(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?lA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(ev);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},$_=/^\[(.+)\]$/,HV=t=>{if($_.test(t)){const e=$_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KV(Object.entries(t.classGroups),n).forEach(([s,o])=>{ng(o,r,s,e)}),r},ng=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:z_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(GV(i)){ng(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ng(o,z_(e,s),n,r)})})},z_=(t,e)=>{let n=t;return e.split(ev).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GV=t=>t.isThemeGetter,KV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,QV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},uA="!",YV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let T=0;T<a.length;T++){let E=a[T];if(u===0){if(E===i&&(r||a.slice(T,T+s)===e)){l.push(a.slice(d,T)),d=T+s;continue}if(E==="/"){h=T;continue}}E==="["?u++:E==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(uA),y=m?f.substring(1):f,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},XV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JV=t=>({cache:QV(t.cacheSize),parseClassName:YV(t),...WV(t)}),ZV=/\s+/,e2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ZV);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let y=!!m,w=r(y?f.substring(0,m):f);if(!w){if(!y){a=u+(a.length>0?" "+a:a);continue}if(w=r(f),!w){a=u+(a.length>0?" "+a:a);continue}y=!1}const T=XV(d).join(":"),E=h?T+uA:T,v=E+w;if(s.includes(v))continue;s.push(v);const _=i(w,y);for(let P=0;P<_.length;++P){const O=_[P];s.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function t2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cA(e))&&(r&&(r+=" "),r+=n);return r}const cA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cA(t[r]))&&(n&&(n+=" "),n+=e);return n};function n2(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=JV(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=e2(l,n);return i(l,d),d}return function(){return s(t2.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dA=/^\[(?:([a-z-]+):)?(.+)\]$/i,r2=/^\d+\/\d+$/,i2=new Set(["px","full","screen"]),s2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>Wo(t)||i2.has(t)||r2.test(t),ii=t=>Pa(t,"length",y2),Wo=t=>!!t&&!Number.isNaN(Number(t)),Cp=t=>Pa(t,"number",Wo),cl=t=>!!t&&Number.isInteger(Number(t)),c2=t=>t.endsWith("%")&&Wo(t.slice(0,-1)),ce=t=>dA.test(t),si=t=>s2.test(t),d2=new Set(["length","size","percentage"]),h2=t=>Pa(t,d2,hA),f2=t=>Pa(t,"position",hA),p2=new Set(["image","url"]),m2=t=>Pa(t,p2,w2),g2=t=>Pa(t,"",v2),dl=()=>!0,Pa=(t,e,n)=>{const r=dA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},y2=t=>o2.test(t)&&!a2.test(t),hA=()=>!1,v2=t=>l2.test(t),w2=t=>u2.test(t),_2=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),i=Re("borderColor"),s=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),l=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),h=Re("invert"),f=Re("gap"),m=Re("gradientColorStops"),y=Re("gradientColorStopPositions"),w=Re("inset"),T=Re("margin"),E=Re("opacity"),v=Re("padding"),_=Re("saturate"),P=Re("scale"),O=Re("sepia"),V=Re("skew"),I=Re("space"),x=Re("translate"),A=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ce,e],D=()=>[ce,e],R=()=>["",Sr,ii],$=()=>["auto",Wo,ce],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",ce],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Wo,ce];return{cacheSize:500,separator:":",theme:{colors:[dl],spacing:[Sr,ii],blur:["none","",si,ce],brightness:H(),borderColor:[t],borderRadius:["none","","full",si,ce],borderSpacing:D(),borderWidth:R(),contrast:H(),grayscale:W(),hueRotate:H(),invert:W(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[c2,ii],inset:N(),margin:N(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:W(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[si]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ce]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cl,ce]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",cl,ce]}],"grid-cols":[{"grid-cols":[dl]}],"col-start-end":[{col:["auto",{span:["full",cl,ce]},ce]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[dl]}],"row-start-end":[{row:["auto",{span:[cl,ce]},ce]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[si]},si]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",si,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cp]}],"font-family":[{font:[dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Wo,Cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,ii]}],"underline-offset":[{"underline-offset":["auto",Sr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),f2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",h2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},m2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Sr,ce]}],"outline-w":[{outline:[Sr,ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Sr,ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",si,g2]}],"shadow-color":[{shadow:[dl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",si,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[cl,ce]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,ii,Cp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E2=n2(_2);function at(...t){return E2(iA(t))}const T2=VV,fA=S.forwardRef(({className:t,...e},n)=>k.jsx(XI,{ref:n,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fA.displayName=XI.displayName;const x2=Zy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pA=S.forwardRef(({className:t,variant:e,...n},r)=>k.jsx(JI,{ref:r,className:at(x2({variant:e}),t),...n}));pA.displayName=JI.displayName;const S2=S.forwardRef(({className:t,...e},n)=>k.jsx(tA,{ref:n,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));S2.displayName=tA.displayName;const mA=S.forwardRef(({className:t,...e},n)=>k.jsx(nA,{ref:n,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:k.jsx(zV,{className:"h-4 w-4"})}));mA.displayName=nA.displayName;const gA=S.forwardRef(({className:t,...e},n)=>k.jsx(ZI,{ref:n,className:at("text-sm font-semibold",t),...e}));gA.displayName=ZI.displayName;const yA=S.forwardRef(({className:t,...e},n)=>k.jsx(eA,{ref:n,className:at("text-sm opacity-90",t),...e}));yA.displayName=eA.displayName;function I2(){const{toasts:t}=bI();return k.jsxs(T2,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return k.jsxs(pA,{...s,children:[k.jsxs("div",{className:"grid gap-1",children:[n&&k.jsx(gA,{children:n}),r&&k.jsx(yA,{children:r})]}),i,k.jsx(mA,{})]},e)}),k.jsx(fA,{})]})}var W_=["light","dark"],A2="(prefers-color-scheme: dark)",C2=S.createContext(void 0),P2={setTheme:t=>{},themes:[]},b2=()=>{var t;return(t=S.useContext(C2))!=null?t:P2};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?W_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,w=!1,T=!0)=>{let E=o?o[y]:y,v=w?y+"|| ''":`'${E}'`,_="";return i&&T&&!w&&W_.includes(y)&&(_+=`d.style.colorScheme = '${y}';`),n==="class"?w||E?_+=`c.add(${v})`:_+="null":E&&(_+=`d[s](n,${v})`),_},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${A2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var R2=t=>{switch(t){case"success":return D2;case"info":return V2;case"warning":return O2;case"error":return M2;default:return null}},k2=Array(12).fill(0),N2=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},k2.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),D2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L2=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},rg=1,F2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:rg++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(U2(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||rg++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},rn=new F2,j2=(t,e)=>{let n=(e==null?void 0:e.id)||rg++;return rn.addToast({title:t,...e,id:n}),n},U2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",B2=j2,$2=()=>rn.toasts;Object.assign(B2,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:$2});function z2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}z2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vc(t){return t.label!==void 0}var W2=3,H2="32px",q2=4e3,G2=356,K2=14,Q2=20,Y2=200;function X2(...t){return t.filter(Boolean).join(" ")}var J2=t=>{var e,n,r,i,s,o,a,l,u,d;let{invert:h,toast:f,unstyled:m,interacting:y,setHeights:w,visibleToasts:T,heights:E,index:v,toasts:_,expanded:P,removeToast:O,defaultRichColors:V,closeButton:I,style:x,cancelButtonStyle:A,actionButtonStyle:b,className:N="",descriptionClassName:D="",duration:R,position:$,gap:re,loadingIcon:Q,expandByDefault:ne,classNames:L,icons:W,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:H,cn:J}=t,[ee,Se]=q.useState(!1),[Ue,fe]=q.useState(!1),[tt,mn]=q.useState(!1),[Ht,lt]=q.useState(!1),[ht,Pn]=q.useState(0),[bn,wr]=q.useState(0),Yr=q.useRef(null),Rn=q.useRef(null),ja=v===0,Ua=v+1<=T,Ke=f.type,Yn=f.dismissible!==!1,Ju=f.className||"",Mf=f.descriptionClassName||"",Xr=q.useMemo(()=>E.findIndex(ae=>ae.toastId===f.id)||0,[E,f.id]),Ba=q.useMemo(()=>{var ae;return(ae=f.closeButton)!=null?ae:I},[f.closeButton,I]),$a=q.useMemo(()=>f.duration||R||q2,[f.duration,R]),Qe=q.useRef(0),Be=q.useRef(0),us=q.useRef(0),_r=q.useRef(null),[za,Lf]=$.split("-"),Jr=q.useMemo(()=>E.reduce((ae,Ie,Te)=>Te>=Xr?ae:ae+Ie.height,0),[E,Xr]),Wa=L2(),Zu=f.invert||h,cs=Ke==="loading";Be.current=q.useMemo(()=>Xr*re+Jr,[Xr,Jr]),q.useEffect(()=>{Se(!0)},[]),q.useLayoutEffect(()=>{if(!ee)return;let ae=Rn.current,Ie=ae.style.height;ae.style.height="auto";let Te=ae.getBoundingClientRect().height;ae.style.height=Ie,wr(Te),w(_t=>_t.find(qt=>qt.toastId===f.id)?_t.map(qt=>qt.toastId===f.id?{...qt,height:Te}:qt):[{toastId:f.id,height:Te,position:f.position},..._t])},[ee,f.title,f.description,w,f.id]);let Xn=q.useCallback(()=>{fe(!0),Pn(Be.current),w(ae=>ae.filter(Ie=>Ie.toastId!==f.id)),setTimeout(()=>{O(f)},Y2)},[f,O,w,Be]);q.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let ae,Ie=$a;return P||y||H&&Wa?(()=>{if(us.current<Qe.current){let Te=new Date().getTime()-Qe.current;Ie=Ie-Te}us.current=new Date().getTime()})():Ie!==1/0&&(Qe.current=new Date().getTime(),ae=setTimeout(()=>{var Te;(Te=f.onAutoClose)==null||Te.call(f,f),Xn()},Ie)),()=>clearTimeout(ae)},[P,y,ne,f,$a,Xn,f.promise,Ke,H,Wa]),q.useEffect(()=>{let ae=Rn.current;if(ae){let Ie=ae.getBoundingClientRect().height;return wr(Ie),w(Te=>[{toastId:f.id,height:Ie,position:f.position},...Te]),()=>w(Te=>Te.filter(_t=>_t.toastId!==f.id))}},[w,f.id]),q.useEffect(()=>{f.delete&&Xn()},[Xn,f.delete]);function Ff(){return W!=null&&W.loading?q.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},W.loading):Q?q.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},Q):q.createElement(N2,{visible:Ke==="loading"})}return q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rn,className:J(N,Ju,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ke],(n=f==null?void 0:f.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:V,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":Ue,"data-visible":Ua,"data-y-position":za,"data-x-position":Lf,"data-index":v,"data-front":ja,"data-swiping":tt,"data-dismissible":Yn,"data-type":Ke,"data-invert":Zu,"data-swipe-out":Ht,"data-expanded":!!(P||ne&&ee),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${Ue?ht:Be.current}px`,"--initial-height":ne?"auto":`${bn}px`,...x,...f.style},onPointerDown:ae=>{cs||!Yn||(Yr.current=new Date,Pn(Be.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(mn(!0),_r.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Ie,Te,_t;if(Ht||!Yn)return;_r.current=null;let qt=Number(((ae=Rn.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Zr=new Date().getTime()-((Ie=Yr.current)==null?void 0:Ie.getTime()),Er=Math.abs(qt)/Zr;if(Math.abs(qt)>=Q2||Er>.11){Pn(Be.current),(Te=f.onDismiss)==null||Te.call(f,f),Xn(),lt(!0);return}(_t=Rn.current)==null||_t.style.setProperty("--swipe-amount","0px"),mn(!1)},onPointerMove:ae=>{var Ie;if(!_r.current||!Yn)return;let Te=ae.clientY-_r.current.y,_t=ae.clientX-_r.current.x,qt=(za==="top"?Math.min:Math.max)(0,Te),Zr=ae.pointerType==="touch"?10:2;Math.abs(qt)>Zr?(Ie=Rn.current)==null||Ie.style.setProperty("--swipe-amount",`${Te}px`):Math.abs(_t)>Zr&&(_r.current=null)}},Ba&&!f.jsx?q.createElement("button",{"aria-label":Z,"data-disabled":cs,"data-close-button":!0,onClick:cs||!Yn?()=>{}:()=>{var ae;Xn(),(ae=f.onDismiss)==null||ae.call(f,f)},className:J(L==null?void 0:L.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||q.isValidElement(f.title)?f.jsx||f.title:q.createElement(q.Fragment,null,Ke||f.icon||f.promise?q.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ff():null,f.type!=="loading"?f.icon||(W==null?void 0:W[Ke])||R2(Ke):null):null,q.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?q.createElement("div",{"data-description":"",className:J(D,Mf,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&Vc(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:ae=>{var Ie,Te;Vc(f.cancel)&&Yn&&((Te=(Ie=f.cancel).onClick)==null||Te.call(Ie,ae),Xn())},className:J(L==null?void 0:L.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&Vc(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||b,onClick:ae=>{var Ie,Te;Vc(f.action)&&(ae.defaultPrevented||((Te=(Ie=f.action).onClick)==null||Te.call(Ie,ae),Xn()))},className:J(L==null?void 0:L.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function H_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Z2=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:h,visibleToasts:f=W2,toastOptions:m,dir:y=H_(),gap:w=K2,loadingIcon:T,icons:E,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:_,cn:P=X2}=t,[O,V]=q.useState([]),I=q.useMemo(()=>Array.from(new Set([n].concat(O.filter(H=>H.position).map(H=>H.position)))),[O,n]),[x,A]=q.useState([]),[b,N]=q.useState(!1),[D,R]=q.useState(!1),[$,re]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=q.useRef(null),ne=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),W=q.useRef(!1),Z=q.useCallback(H=>{var J;(J=O.find(ee=>ee.id===H.id))!=null&&J.delete||rn.dismiss(H.id),V(ee=>ee.filter(({id:Se})=>Se!==H.id))},[O]);return q.useEffect(()=>rn.subscribe(H=>{if(H.dismiss){V(J=>J.map(ee=>ee.id===H.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{CI.flushSync(()=>{V(J=>{let ee=J.findIndex(Se=>Se.id===H.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...H},...J.slice(ee+1)]:[H,...J]})})})}),[]),q.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{re(H?"dark":"light")})},[l]),q.useEffect(()=>{O.length<=1&&N(!1)},[O]),q.useEffect(()=>{let H=J=>{var ee,Se;r.every(Ue=>J[Ue]||J.code===Ue)&&(N(!0),(ee=Q.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===Q.current||(Se=Q.current)!=null&&Se.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),q.useEffect(()=>{if(Q.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[Q.current]),O.length?q.createElement("section",{"aria-label":`${v} ${ne}`,tabIndex:-1},I.map((H,J)=>{var ee;let[Se,Ue]=H.split("-");return q.createElement("ol",{key:H,dir:y==="auto"?H_():y,tabIndex:-1,ref:Q,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":Se,"data-x-position":Ue,style:{"--front-toast-height":`${((ee=x[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||H2,"--width":`${G2}px`,"--gap":`${w}px`,...h},onBlur:fe=>{W.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=fe.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{D||N(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},O.filter(fe=>!fe.position&&J===0||fe.position===H).map((fe,tt)=>{var mn,Ht;return q.createElement(J2,{key:fe.id,icons:E,index:tt,toast:fe,defaultRichColors:u,duration:(mn=m==null?void 0:m.duration)!=null?mn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ht=m==null?void 0:m.closeButton)!=null?Ht:s,interacting:D,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Z,toasts:O.filter(lt=>lt.position==fe.position),heights:x.filter(lt=>lt.position==fe.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:T,expanded:b,pauseWhenPageIsHidden:_,cn:P})}))})):null};const eM=({...t})=>{const{theme:e="system"}=b2();return k.jsx(Z2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},tM=["top","right","bottom","left"],Wi=Math.min,on=Math.max,qd=Math.round,Mc=Math.floor,Hi=t=>({x:t,y:t}),nM={left:"right",right:"left",bottom:"top",top:"bottom"},rM={start:"end",end:"start"};function ig(t,e,n){return on(t,Wi(e,n))}function $r(t,e){return typeof t=="function"?t(e):t}function zr(t){return t.split("-")[0]}function ba(t){return t.split("-")[1]}function tv(t){return t==="x"?"y":"x"}function nv(t){return t==="y"?"height":"width"}function qi(t){return["top","bottom"].includes(zr(t))?"y":"x"}function rv(t){return tv(qi(t))}function iM(t,e,n){n===void 0&&(n=!1);const r=ba(t),i=rv(t),s=nv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Gd(o)),[o,Gd(o)]}function sM(t){const e=Gd(t);return[sg(t),e,sg(e)]}function sg(t){return t.replace(/start|end/g,e=>rM[e])}function oM(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function aM(t,e,n,r){const i=ba(t);let s=oM(zr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(sg)))),s}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>nM[e])}function lM(t){return{top:0,right:0,bottom:0,left:0,...t}}function vA(t){return typeof t!="number"?lM(t):{top:t,right:t,bottom:t,left:t}}function Kd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function q_(t,e,n){let{reference:r,floating:i}=t;const s=qi(e),o=rv(e),a=nv(o),l=zr(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ba(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const uM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=q_(u,r,l),f=r,m={},y=0;for(let w=0;w<a.length;w++){const{name:T,fn:E}=a[w],{x:v,y:_,data:P,reset:O}=await E({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=_??h,m={...m,[T]:{...m[T],...P}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=q_(u,f,l)),w=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function uu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=$r(e,t),y=vA(m),T=a[f?h==="floating"?"reference":"floating":h],E=Kd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},O=Kd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(E.top-O.top+y.top)/P.y,bottom:(O.bottom-E.bottom+y.bottom)/P.y,left:(E.left-O.left+y.left)/P.x,right:(O.right-E.right+y.right)/P.x}}const cM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=$r(t,e)||{};if(u==null)return{};const h=vA(d),f={x:n,y:r},m=rv(i),y=nv(m),w=await o.getDimensions(u),T=m==="y",E=T?"top":"left",v=T?"bottom":"right",_=T?"clientHeight":"clientWidth",P=s.reference[y]+s.reference[m]-f[m]-s.floating[y],O=f[m]-s.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=V?V[_]:0;(!I||!await(o.isElement==null?void 0:o.isElement(V)))&&(I=a.floating[_]||s.floating[y]);const x=P/2-O/2,A=I/2-w[y]/2-1,b=Wi(h[E],A),N=Wi(h[v],A),D=b,R=I-w[y]-N,$=I/2-w[y]/2+x,re=ig(D,$,R),Q=!l.arrow&&ba(i)!=null&&$!==re&&s.reference[y]/2-($<D?b:N)-w[y]/2<0,ne=Q?$<D?$-D:$-R:0;return{[m]:f[m]+ne,data:{[m]:re,centerOffset:$-re-ne,...Q&&{alignmentOffset:ne}},reset:Q}}}),dM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...T}=$r(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=zr(i),v=qi(a),_=zr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=f||(_||!w?[Gd(a)]:sM(a)),V=y!=="none";!f&&V&&O.push(...aM(a,w,y,P));const I=[a,...O],x=await uu(e,T),A=[];let b=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(x[E]),h){const $=iM(i,o,P);A.push(x[$[0]],x[$[1]])}if(b=[...b,{placement:i,overflows:A}],!A.every($=>$<=0)){var N,D;const $=(((N=s.flip)==null?void 0:N.index)||0)+1,re=I[$];if(re)return{data:{index:$,overflows:b},reset:{placement:re}};let Q=(D=b.filter(ne=>ne.overflows[0]<=0).sort((ne,L)=>ne.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(m){case"bestFit":{var R;const ne=(R=b.filter(L=>{if(V){const W=qi(L.placement);return W===v||W==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(W=>W>0).reduce((W,Z)=>W+Z,0)]).sort((L,W)=>L[1]-W[1])[0])==null?void 0:R[0];ne&&(Q=ne);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function G_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function K_(t){return tM.some(e=>t[e]>=0)}const hM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=$r(t,e);switch(r){case"referenceHidden":{const s=await uu(e,{...i,elementContext:"reference"}),o=G_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K_(o)}}}case"escaped":{const s=await uu(e,{...i,altBoundary:!0}),o=G_(s,n.floating);return{data:{escapedOffsets:o,escaped:K_(o)}}}default:return{}}}}};async function fM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zr(n),a=ba(n),l=qi(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=$r(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const pM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await fM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},mM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:E,y:v}=T;return{x:E,y:v}}},...l}=$r(t,e),u={x:n,y:r},d=await uu(e,l),h=qi(zr(i)),f=tv(h);let m=u[f],y=u[h];if(s){const T=f==="y"?"top":"left",E=f==="y"?"bottom":"right",v=m+d[T],_=m-d[E];m=ig(v,m,_)}if(o){const T=h==="y"?"top":"left",E=h==="y"?"bottom":"right",v=y+d[T],_=y-d[E];y=ig(v,y,_)}const w=a.fn({...e,[f]:m,[h]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:s,[h]:o}}}}}},gM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=$r(t,e),d={x:n,y:r},h=qi(i),f=tv(h);let m=d[f],y=d[h];const w=$r(a,e),T=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const _=f==="y"?"height":"width",P=s.reference[f]-s.floating[_]+T.mainAxis,O=s.reference[f]+s.reference[_]-T.mainAxis;m<P?m=P:m>O&&(m=O)}if(u){var E,v;const _=f==="y"?"width":"height",P=["top","left"].includes(zr(i)),O=s.reference[h]-s.floating[_]+(P&&((E=o.offset)==null?void 0:E[h])||0)+(P?0:T.crossAxis),V=s.reference[h]+s.reference[_]+(P?0:((v=o.offset)==null?void 0:v[h])||0)-(P?T.crossAxis:0);y<O?y=O:y>V&&(y=V)}return{[f]:m,[h]:y}}}},yM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=$r(t,e),d=await uu(e,u),h=zr(i),f=ba(i),m=qi(i)==="y",{width:y,height:w}=s.floating;let T,E;h==="top"||h==="bottom"?(T=h,E=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,T=f==="end"?"top":"bottom");const v=w-d.top-d.bottom,_=y-d.left-d.right,P=Wi(w-d[T],v),O=Wi(y-d[E],_),V=!e.middlewareData.shift;let I=P,x=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),V&&!f){const b=on(d.left,0),N=on(d.right,0),D=on(d.top,0),R=on(d.bottom,0);m?x=y-2*(b!==0||N!==0?b+N:on(d.left,d.right)):I=w-2*(D!==0||R!==0?D+R:on(d.top,d.bottom))}await l({...e,availableWidth:x,availableHeight:I});const A=await o.getDimensions(a.floating);return y!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function Qh(){return typeof window<"u"}function Ra(t){return wA(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vr(t){var e;return(e=(wA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wA(t){return Qh()?t instanceof Node||t instanceof un(t).Node:!1}function Wn(t){return Qh()?t instanceof Element||t instanceof un(t).Element:!1}function pr(t){return Qh()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function Q_(t){return!Qh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}function Lu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function vM(t){return["table","td","th"].includes(Ra(t))}function Yh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function iv(t){const e=sv(),n=Wn(t)?Hn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wM(t){let e=Gi(t);for(;pr(e)&&!fa(e);){if(iv(e))return e;if(Yh(e))return null;e=Gi(e)}return null}function sv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fa(t){return["html","body","#document"].includes(Ra(t))}function Hn(t){return un(t).getComputedStyle(t)}function Xh(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gi(t){if(Ra(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q_(t)&&t.host||vr(t);return Q_(e)?e.host:e}function _A(t){const e=Gi(t);return fa(e)?t.ownerDocument?t.ownerDocument.body:t.body:pr(e)&&Lu(e)?e:_A(e)}function cu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=_A(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=un(i);if(s){const a=og(o);return e.concat(o,o.visualViewport||[],Lu(i)?i:[],a&&n?cu(a):[])}return e.concat(i,cu(i,[],n))}function og(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EA(t){const e=Hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=qd(n)!==s||qd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ov(t){return Wn(t)?t:t.contextElement}function Ho(t){const e=ov(t);if(!pr(e))return Hi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=EA(e);let o=(s?qd(n.width):n.width)/r,a=(s?qd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _M=Hi(0);function TA(t){const e=un(t);return!sv()||!e.visualViewport?_M:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==un(t)?!1:e}function Us(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ov(t);let o=Hi(1);e&&(r?Wn(r)&&(o=Ho(r)):o=Ho(t));const a=EM(s,n,r)?TA(s):Hi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=un(s),m=r&&Wn(r)?un(r):r;let y=f,w=og(y);for(;w&&r&&m!==y;){const T=Ho(w),E=w.getBoundingClientRect(),v=Hn(w),_=E.left+(w.clientLeft+parseFloat(v.paddingLeft))*T.x,P=E.top+(w.clientTop+parseFloat(v.paddingTop))*T.y;l*=T.x,u*=T.y,d*=T.x,h*=T.y,l+=_,u+=P,y=un(w),w=og(y)}}return Kd({width:d,height:h,x:l,y:u})}function TM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=vr(r),a=e?Yh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Hi(1);const d=Hi(0),h=pr(r);if((h||!h&&!s)&&((Ra(r)!=="body"||Lu(o))&&(l=Xh(r)),pr(r))){const f=Us(r);u=Ho(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function xM(t){return Array.from(t.getClientRects())}function ag(t,e){const n=Xh(t).scrollLeft;return e?e.left+n:Us(vr(t)).left+n}function SM(t){const e=vr(t),n=Xh(t),r=t.ownerDocument.body,i=on(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=on(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ag(t);const a=-n.scrollTop;return Hn(r).direction==="rtl"&&(o+=on(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function IM(t,e){const n=un(t),r=vr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=sv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function AM(t,e){const n=Us(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=pr(t)?Ho(t):Hi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Y_(t,e,n){let r;if(e==="viewport")r=IM(t,n);else if(e==="document")r=SM(vr(t));else if(Wn(e))r=AM(e,n);else{const i=TA(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Kd(r)}function xA(t,e){const n=Gi(t);return n===e||!Wn(n)||fa(n)?!1:Hn(n).position==="fixed"||xA(n,e)}function CM(t,e){const n=e.get(t);if(n)return n;let r=cu(t,[],!1).filter(a=>Wn(a)&&Ra(a)!=="body"),i=null;const s=Hn(t).position==="fixed";let o=s?Gi(t):t;for(;Wn(o)&&!fa(o);){const a=Hn(o),l=iv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Lu(o)&&!l&&xA(t,o))?r=r.filter(d=>d!==o):i=a,o=Gi(o)}return e.set(t,r),r}function PM(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Yh(e)?[]:CM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=Y_(e,d,i);return u.top=on(h.top,u.top),u.right=Wi(h.right,u.right),u.bottom=Wi(h.bottom,u.bottom),u.left=on(h.left,u.left),u},Y_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bM(t){const{width:e,height:n}=EA(t);return{width:e,height:n}}function RM(t,e,n){const r=pr(e),i=vr(e),s=n==="fixed",o=Us(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Hi(0);if(r||!r&&!s)if((Ra(e)!=="body"||Lu(i))&&(a=Xh(e)),r){const m=Us(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=ag(i));let u=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,u=m.left+a.scrollLeft-ag(i,m)}const h=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Pp(t){return Hn(t).position==="static"}function X_(t,e){if(!pr(t)||Hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vr(t)===n&&(n=n.ownerDocument.body),n}function SA(t,e){const n=un(t);if(Yh(t))return n;if(!pr(t)){let i=Gi(t);for(;i&&!fa(i);){if(Wn(i)&&!Pp(i))return i;i=Gi(i)}return n}let r=X_(t,e);for(;r&&vM(r)&&Pp(r);)r=X_(r,e);return r&&fa(r)&&Pp(r)&&!iv(r)?n:r||wM(t)||n}const kM=async function(t){const e=this.getOffsetParent||SA,n=this.getDimensions,r=await n(t.floating);return{reference:RM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NM(t){return Hn(t).direction==="rtl"}const DM={convertOffsetParentRelativeRectToViewportRelativeRect:TM,getDocumentElement:vr,getClippingRect:PM,getOffsetParent:SA,getElementRects:kM,getClientRects:xM,getDimensions:bM,getScale:Ho,isElement:Wn,isRTL:NM};function OM(t,e){let n=null,r;const i=vr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Mc(d),y=Mc(i.clientWidth-(u+h)),w=Mc(i.clientHeight-(d+f)),T=Mc(u),v={rootMargin:-m+"px "+-y+"px "+-w+"px "+-T+"px",threshold:on(0,Wi(1,l))||1};let _=!0;function P(O){const V=O[0].intersectionRatio;if(V!==l){if(!_)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(P,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,v)}n.observe(t)}return o(!0),s}function VM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ov(t),d=i||s?[...u?cu(u):[],...cu(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const h=u&&a?OM(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(E=>{let[v]=E;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,w=l?Us(t):null;l&&T();function T(){const E=Us(t);w&&(E.x!==w.x||E.y!==w.y||E.width!==w.width||E.height!==w.height)&&n(),w=E,y=requestAnimationFrame(T)}return n(),()=>{var E;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const MM=pM,LM=mM,FM=dM,jM=yM,UM=hM,J_=cM,BM=gM,$M=(t,e,n)=>{const r=new Map,i={platform:DM,...n},s={...i.platform,_c:r};return uM(t,e,{...i,platform:s})};var ld=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Qd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function IA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(t,e){const n=IA(t);return Math.round(e*n)/n}function bp(t){const e=S.useRef(t);return ld(()=>{e.current=t}),e}function zM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=S.useState(r);Qd(f,r)||m(r);const[y,w]=S.useState(null),[T,E]=S.useState(null),v=S.useCallback(L=>{L!==V.current&&(V.current=L,w(L))},[]),_=S.useCallback(L=>{L!==I.current&&(I.current=L,E(L))},[]),P=s||y,O=o||T,V=S.useRef(null),I=S.useRef(null),x=S.useRef(d),A=l!=null,b=bp(l),N=bp(i),D=bp(u),R=S.useCallback(()=>{if(!V.current||!I.current)return;const L={placement:e,strategy:n,middleware:f};N.current&&(L.platform=N.current),$M(V.current,I.current,L).then(W=>{const Z={...W,isPositioned:D.current!==!1};$.current&&!Qd(x.current,Z)&&(x.current=Z,Mu.flushSync(()=>{h(Z)}))})},[f,e,n,N,D]);ld(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const $=S.useRef(!1);ld(()=>($.current=!0,()=>{$.current=!1}),[]),ld(()=>{if(P&&(V.current=P),O&&(I.current=O),P&&O){if(b.current)return b.current(P,O,R);R()}},[P,O,R,b,A]);const re=S.useMemo(()=>({reference:V,floating:I,setReference:v,setFloating:_}),[v,_]),Q=S.useMemo(()=>({reference:P,floating:O}),[P,O]),ne=S.useMemo(()=>{const L={position:n,left:0,top:0};if(!Q.floating)return L;const W=Z_(Q.floating,d.x),Z=Z_(Q.floating,d.y);return a?{...L,transform:"translate("+W+"px, "+Z+"px)",...IA(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:Z}},[n,a,Q.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:R,refs:re,elements:Q,floatingStyles:ne}),[d,R,re,Q,ne])}const WM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J_({element:r.current,padding:i}).fn(n):{}:r?J_({element:r,padding:i}).fn(n):{}}}},HM=(t,e)=>({...MM(t),options:[t,e]}),qM=(t,e)=>({...LM(t),options:[t,e]}),GM=(t,e)=>({...BM(t),options:[t,e]}),KM=(t,e)=>({...FM(t),options:[t,e]}),QM=(t,e)=>({...jM(t),options:[t,e]}),YM=(t,e)=>({...UM(t),options:[t,e]}),XM=(t,e)=>({...WM(t),options:[t,e]});var JM="Arrow",AA=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return k.jsx(Wt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});AA.displayName=JM;var ZM=AA;function eL(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...y}=h,w=(f==null?void 0:f[t][l])||a,T=S.useMemo(()=>y,Object.values(y));return k.jsx(w.Provider,{value:T,children:m})}function d(h,f){const m=(f==null?void 0:f[t][l])||a,y=S.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,tL(i,...e)]}function tL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function nL(t){const[e,n]=S.useState(void 0);return js(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var CA="Popper",[PA,bA]=eL(CA),[a8,RA]=PA(CA),kA="PopperAnchor",NA=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=RA(kA,n),o=S.useRef(null),a=zn(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:k.jsx(Wt.div,{...i,ref:a})});NA.displayName=kA;var av="PopperContent",[rL,iL]=PA(av),DA=S.forwardRef((t,e)=>{var tt,mn,Ht,lt,ht,Pn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...w}=t,T=RA(av,n),[E,v]=S.useState(null),_=zn(e,bn=>v(bn)),[P,O]=S.useState(null),V=nL(P),I=(V==null?void 0:V.width)??0,x=(V==null?void 0:V.height)??0,A=r+(s!=="center"?"-"+s:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,R={padding:b,boundary:N.filter(oL),altBoundary:D},{refs:$,floatingStyles:re,placement:Q,isPositioned:ne,middlewareData:L}=zM({strategy:"fixed",placement:A,whileElementsMounted:(...bn)=>VM(...bn,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[HM({mainAxis:i+x,alignmentAxis:o}),l&&qM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?GM():void 0,...R}),l&&KM({...R}),QM({...R,apply:({elements:bn,rects:wr,availableWidth:Yr,availableHeight:Rn})=>{const{width:ja,height:Ua}=wr.reference,Ke=bn.floating.style;Ke.setProperty("--radix-popper-available-width",`${Yr}px`),Ke.setProperty("--radix-popper-available-height",`${Rn}px`),Ke.setProperty("--radix-popper-anchor-width",`${ja}px`),Ke.setProperty("--radix-popper-anchor-height",`${Ua}px`)}}),P&&XM({element:P,padding:a}),aL({arrowWidth:I,arrowHeight:x}),f&&YM({strategy:"referenceHidden",...R})]}),[W,Z]=MA(Q),H=fr(y);js(()=>{ne&&(H==null||H())},[ne,H]);const J=(tt=L.arrow)==null?void 0:tt.x,ee=(mn=L.arrow)==null?void 0:mn.y,Se=((Ht=L.arrow)==null?void 0:Ht.centerOffset)!==0,[Ue,fe]=S.useState();return js(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),k.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ne?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(lt=L.transformOrigin)==null?void 0:lt.x,(ht=L.transformOrigin)==null?void 0:ht.y].join(" "),...((Pn=L.hide)==null?void 0:Pn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:k.jsx(rL,{scope:n,placedSide:W,onArrowChange:O,arrowX:J,arrowY:ee,shouldHideArrow:Se,children:k.jsx(Wt.div,{"data-side":W,"data-align":Z,...w,ref:_,style:{...w.style,animation:ne?void 0:"none"}})})})});DA.displayName=av;var OA="PopperArrow",sL={top:"bottom",right:"left",bottom:"top",left:"right"},VA=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=iL(OA,r),o=sL[s.placedSide];return k.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:k.jsx(ZM,{...i,ref:n,style:{...i.style,display:"block"}})})});VA.displayName=OA;function oL(t){return t!==null}var aL=t=>({name:"transformOrigin",options:t,fn(e){var T,E,v;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=MA(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let y="",w="";return u==="bottom"?(y=o?h:`${f}px`,w=`${-l}px`):u==="top"?(y=o?h:`${f}px`,w=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,w=o?h:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,w=o?h:`${m}px`),{data:{x:y,y:w}}}});function MA(t){const[e,n="center"]=t.split("-");return[e,n]}var lL=NA,uL=DA,cL=VA,[Jh,l8]=NI("Tooltip",[bA]),lv=bA(),LA="TooltipProvider",dL=700,eE="tooltip.open",[hL,FA]=Jh(LA),jA=t=>{const{__scopeTooltip:e,delayDuration:n=dL,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=S.useState(!0),l=S.useRef(!1),u=S.useRef(0);return S.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),k.jsx(hL,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};jA.displayName=LA;var UA="Tooltip",[u8,Zh]=Jh(UA),lg="TooltipTrigger",fL=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Zh(lg,n),s=FA(lg,n),o=lv(n),a=S.useRef(null),l=zn(e,a,i.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),h=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),k.jsx(lL,{asChild:!0,...o,children:k.jsx(Wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:rt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:rt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:rt(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:rt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:rt(t.onBlur,i.onClose),onClick:rt(t.onClick,i.onClose)})})});fL.displayName=lg;var pL="TooltipPortal",[c8,mL]=Jh(pL,{forceMount:void 0}),pa="TooltipContent",BA=S.forwardRef((t,e)=>{const n=mL(pa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Zh(pa,t.__scopeTooltip);return k.jsx(Qy,{present:r||o.open,children:o.disableHoverableContent?k.jsx($A,{side:i,...s,ref:e}):k.jsx(gL,{side:i,...s,ref:e})})}),gL=S.forwardRef((t,e)=>{const n=Zh(pa,t.__scopeTooltip),r=FA(pa,t.__scopeTooltip),i=S.useRef(null),s=zn(e,i),[o,a]=S.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,f=S.useCallback(()=>{a(null),h(!1)},[h]),m=S.useCallback((y,w)=>{const T=y.currentTarget,E={x:y.clientX,y:y.clientY},v=_L(E,T.getBoundingClientRect()),_=EL(E,v),P=TL(w.getBoundingClientRect()),O=SL([..._,...P]);a(O),h(!0)},[h]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(l&&d){const y=T=>m(T,d),w=T=>m(T,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",w)}}},[l,d,m,f]),S.useEffect(()=>{if(o){const y=w=>{const T=w.target,E={x:w.clientX,y:w.clientY},v=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),_=!xL(E,o);v?f():_&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,u,f]),k.jsx($A,{...t,ref:s})}),[yL,vL]=Jh(UA,{isInside:!1}),$A=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Zh(pa,n),u=lv(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(eE,d),()=>document.removeEventListener(eE,d)),[d]),S.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),k.jsx(Ky,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:k.jsxs(uL,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(kI,{children:r}),k.jsx(yL,{scope:n,isInside:!0,children:k.jsx(yV,{id:l.contentId,role:"tooltip",children:i||r})})]})})});BA.displayName=pa;var zA="TooltipArrow",wL=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=lv(n);return vL(zA,n).isInside?null:k.jsx(cL,{...i,...r,ref:e})});wL.displayName=zA;function _L(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function TL(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function xL(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function SL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),IL(e)}function IL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AL=jA,WA=BA;const CL=AL,PL=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>k.jsx(WA,{ref:r,sideOffset:e,className:at("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));PL.displayName=WA.displayName;var ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tf=typeof window>"u"||"Deno"in globalThis;function On(){}function bL(t,e){return typeof t=="function"?t(e):t}function RL(t){return typeof t=="number"&&t>=0&&t!==1/0}function kL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tE(t,e){return typeof t=="function"?t(e):t}function NL(t,e){return typeof t=="function"?t(e):t}function nE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==uv(o,e.options))return!1}else if(!hu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function rE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(du(e.options.mutationKey)!==du(s))return!1}else if(!hu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function uv(t,e){return((e==null?void 0:e.queryKeyHashFn)||du)(t)}function du(t){return JSON.stringify(t,(e,n)=>ug(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function hu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!hu(t[n],e[n])):!1}function HA(t,e){if(t===e)return t;const n=iE(t)&&iE(e);if(n||ug(t)&&ug(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=HA(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function iE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ug(t){if(!sE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sE(t){return Object.prototype.toString.call(t)==="[object Object]"}function DL(t){return new Promise(e=>{setTimeout(e,t)})}function OL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?HA(t,e):e}function VL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ML(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cv=Symbol();function qA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Cs,vi,Xo,ox,LL=(ox=class extends ef{constructor(){super();_e(this,Cs);_e(this,vi);_e(this,Xo);de(this,Xo,e=>{if(!tf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,vi)||this.setEventListener(U(this,Xo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,vi))==null||e.call(this),de(this,vi,void 0))}setEventListener(e){var n;de(this,Xo,e),(n=U(this,vi))==null||n.call(this),de(this,vi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Cs)!==e&&(de(this,Cs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Cs)=="boolean"?U(this,Cs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cs=new WeakMap,vi=new WeakMap,Xo=new WeakMap,ox),GA=new LL,Jo,wi,Zo,ax,FL=(ax=class extends ef{constructor(){super();_e(this,Jo,!0);_e(this,wi);_e(this,Zo);de(this,Zo,e=>{if(!tf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,wi)||this.setEventListener(U(this,Zo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,wi))==null||e.call(this),de(this,wi,void 0))}setEventListener(e){var n;de(this,Zo,e),(n=U(this,wi))==null||n.call(this),de(this,wi,e(this.setOnline.bind(this)))}setOnline(e){U(this,Jo)!==e&&(de(this,Jo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Jo)}},Jo=new WeakMap,wi=new WeakMap,Zo=new WeakMap,ax),Yd=new FL;function jL(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function UL(t){return Math.min(1e3*2**t,3e4)}function KA(t){return(t??"online")==="online"?Yd.isOnline():!0}var QA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rp(t){return t instanceof QA}function YA(t){let e=!1,n=0,r=!1,i;const s=jL(),o=w=>{var T;r||(f(new QA(w)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>GA.isFocused()&&(t.networkMode==="always"||Yd.isOnline())&&t.canRun(),d=()=>KA(t.networkMode)&&t.canRun(),h=w=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,w),i==null||i(),s.resolve(w))},f=w=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,w),i==null||i(),s.reject(w))},m=()=>new Promise(w=>{var T;i=E=>{(r||u())&&w(E)},(T=t.onPause)==null||T.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),y=()=>{if(r)return;let w;const T=n===0?t.initialPromise:void 0;try{w=T??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(h).catch(E=>{var V;if(r)return;const v=t.retry??(tf?0:3),_=t.retryDelay??UL,P=typeof _=="function"?_(n,E):_,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,E);if(e||!O){f(E);return}n++,(V=t.onFail)==null||V.call(t,n,E),DL(P).then(()=>u()?void 0:m()).then(()=>{e?f(E):y()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),s)}}function BL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var jt=BL(),Ps,lx,XA=(lx=class{constructor(){_e(this,Ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RL(this.gcTime)&&de(this,Ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tf?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ps)&&(clearTimeout(U(this,Ps)),de(this,Ps,void 0))}},Ps=new WeakMap,lx),ea,ta,vn,Ct,bu,bs,Vn,Ir,ux,$L=(ux=class extends XA{constructor(n){super();_e(this,Vn);_e(this,ea);_e(this,ta);_e(this,vn);_e(this,Ct);_e(this,bu);_e(this,bs);de(this,bs,!1),de(this,bu,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,vn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,ea,WL(this.options)),this.state=n.state??U(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ct))==null?void 0:n.promise}setOptions(n){this.options={...U(this,bu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,vn).remove(this)}setData(n,r){const i=OL(this.state.data,n,this.options);return xt(this,Vn,Ir).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){xt(this,Vn,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,Ct))==null?void 0:i.promise;return(s=U(this,Ct))==null||s.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ea))}isActive(){return this.observers.some(n=>NL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!kL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ct)&&(U(this,bs)?U(this,Ct).cancel({revert:!0}):U(this,Ct).cancelRetry()),this.scheduleGc()),U(this,vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,Vn,Ir).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ct))return U(this,Ct).continueRetry(),U(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(de(this,bs,!0),i.signal)})},o=()=>{const f=qA(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),de(this,bs,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),de(this,ta,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&xt(this,Vn,Ir).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,y,w,T;Rp(f)&&f.silent||xt(this,Vn,Ir).call(this,{type:"error",error:f}),Rp(f)||((y=(m=U(this,vn).config).onError)==null||y.call(m,f,this),(T=(w=U(this,vn).config).onSettled)==null||T.call(w,this.state.data,f,this)),this.scheduleGc()};return de(this,Ct,YA({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,y,w,T;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(E){l(E);return}(y=(m=U(this,vn).config).onSuccess)==null||y.call(m,f,this),(T=(w=U(this,vn).config).onSettled)==null||T.call(w,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{xt(this,Vn,Ir).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{xt(this,Vn,Ir).call(this,{type:"pause"})},onContinue:()=>{xt(this,Vn,Ir).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Ct).start()}},ea=new WeakMap,ta=new WeakMap,vn=new WeakMap,Ct=new WeakMap,bu=new WeakMap,bs=new WeakMap,Vn=new WeakSet,Ir=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...zL(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Rp(s)&&s.revert&&U(this,ta)?{...U(this,ta),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,vn).notify({query:this,type:"updated",action:n})})},ux);function zL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tr,cx,HL=(cx=class extends ef{constructor(e={}){super();_e(this,tr);this.config=e,de(this,tr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??uv(i,n);let o=this.get(s);return o||(o=new $L({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,tr).has(e.queryHash)||(U(this,tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,tr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,tr).get(e)}getAll(){return[...U(this,tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>nE(e,r)):n}notify(e){jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tr=new WeakMap,cx),nr,Mt,Rs,rr,ai,dx,qL=(dx=class extends XA{constructor(n){super();_e(this,rr);_e(this,nr);_e(this,Mt);_e(this,Rs);this.mutationId=n.mutationId,de(this,Mt,n.mutationCache),de(this,nr,[]),this.state=n.state||GL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,nr).includes(n)||(U(this,nr).push(n),this.clearGcTimeout(),U(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,nr,U(this,nr).filter(r=>r!==n)),this.scheduleGc(),U(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,nr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Mt).remove(this))}continue(){var n;return((n=U(this,Rs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,d,h,f,m,y,w,T,E,v,_,P,O,V,I,x;de(this,Rs,YA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,b)=>{xt(this,rr,ai).call(this,{type:"failed",failureCount:A,error:b})},onPause:()=>{xt(this,rr,ai).call(this,{type:"pause"})},onContinue:()=>{xt(this,rr,ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Mt).canRun(this)}));const r=this.state.status==="pending",i=!U(this,Rs).canStart();try{if(!r){xt(this,rr,ai).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=U(this,Mt).config).onMutate)==null?void 0:o.call(s,n,this));const b=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));b!==this.state.context&&xt(this,rr,ai).call(this,{type:"pending",context:b,variables:n,isPaused:i})}const A=await U(this,Rs).start();return await((d=(u=U(this,Mt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,A,n,this.state.context)),await((y=(m=U(this,Mt).config).onSettled)==null?void 0:y.call(m,A,null,this.state.variables,this.state.context,this)),await((T=(w=this.options).onSettled)==null?void 0:T.call(w,A,null,n,this.state.context)),xt(this,rr,ai).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(E=U(this,Mt).config).onError)==null?void 0:v.call(E,A,n,this.state.context,this)),await((P=(_=this.options).onError)==null?void 0:P.call(_,A,n,this.state.context)),await((V=(O=U(this,Mt).config).onSettled)==null?void 0:V.call(O,void 0,A,this.state.variables,this.state.context,this)),await((x=(I=this.options).onSettled)==null?void 0:x.call(I,void 0,A,n,this.state.context)),A}finally{xt(this,rr,ai).call(this,{type:"error",error:A})}}finally{U(this,Mt).runNext(this)}}},nr=new WeakMap,Mt=new WeakMap,Rs=new WeakMap,rr=new WeakSet,ai=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{U(this,nr).forEach(i=>{i.onMutationUpdate(n)}),U(this,Mt).notify({mutation:this,type:"updated",action:n})})},dx);function GL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nn,Ru,hx,KL=(hx=class extends ef{constructor(e={}){super();_e(this,nn);_e(this,Ru);this.config=e,de(this,nn,new Map),de(this,Ru,Date.now())}build(e,n,r){const i=new qL({mutationCache:this,mutationId:++mc(this,Ru)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Lc(e),r=U(this,nn).get(n)??[];r.push(e),U(this,nn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Lc(e);if(U(this,nn).has(n)){const i=(r=U(this,nn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?U(this,nn).delete(n):U(this,nn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,nn).get(Lc(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,nn).get(Lc(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,nn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rE(n,r))}findAll(e={}){return this.getAll().filter(n=>rE(e,n))}notify(e){jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},nn=new WeakMap,Ru=new WeakMap,hx);function Lc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function oE(t){return{onFetch:(e,n)=>{var d,h,f,m,y;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const T=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=qA(e.options,e.fetchOptions),v=async(_,P,O)=>{if(w)return Promise.reject();if(P==null&&_.pages.length)return Promise.resolve(_);const V={queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};T(V);const I=await E(V),{maxPages:x}=e.options,A=O?ML:VL;return{pages:A(_.pages,I,x),pageParams:A(_.pageParams,P,x)}};if(i&&s.length){const _=i==="backward",P=_?QL:aE,O={pages:s,pageParams:o},V=P(r,O);a=await v(O,V,_)}else{const _=t??s.length;do{const P=l===0?o[0]??r.initialPageParam:aE(r,a);if(l>0&&P==null)break;a=await v(a,P),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var w,T;return(T=(w=e.options).persister)==null?void 0:T.call(w,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function aE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function QL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,_i,Ei,na,ra,Ti,ia,sa,fx,YL=(fx=class{constructor(t={}){_e(this,ze);_e(this,_i);_e(this,Ei);_e(this,na);_e(this,ra);_e(this,Ti);_e(this,ia);_e(this,sa);de(this,ze,t.queryCache||new HL),de(this,_i,t.mutationCache||new KL),de(this,Ei,t.defaultOptions||{}),de(this,na,new Map),de(this,ra,new Map),de(this,Ti,0)}mount(){mc(this,Ti)._++,U(this,Ti)===1&&(de(this,ia,GA.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onFocus())})),de(this,sa,Yd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onOnline())})))}unmount(){var t,e;mc(this,Ti)._--,U(this,Ti)===0&&((t=U(this,ia))==null||t.call(this),de(this,ia,void 0),(e=U(this,sa))==null||e.call(this),de(this,sa,void 0))}isFetching(t){return U(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,_i).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(tE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=bL(e,s);if(o!==void 0)return U(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return jt.batch(()=>U(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,ze);jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,ze),r={type:"active",...t};return jt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=jt.batch(()=>U(this,ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t={},e={}){return jt.batch(()=>{if(U(this,ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=jt.batch(()=>U(this,ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(On)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,ze).build(this,e);return n.isStaleByTime(tE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=oE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=oE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yd.isOnline()?U(this,_i).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ze)}getMutationCache(){return U(this,_i)}getDefaultOptions(){return U(this,Ei)}setDefaultOptions(t){de(this,Ei,t)}setQueryDefaults(t,e){U(this,na).set(du(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,na).values()];let n={};return e.forEach(r=>{hu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,ra).set(du(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,ra).values()];let n={};return e.forEach(r=>{hu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ei).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ei).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,ze).clear(),U(this,_i).clear()}},ze=new WeakMap,_i=new WeakMap,Ei=new WeakMap,na=new WeakMap,ra=new WeakMap,Ti=new WeakMap,ia=new WeakMap,sa=new WeakMap,fx),XL=S.createContext(void 0),JL=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),k.jsx(XL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}var Ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ii||(Ii={}));const lE="popstate";function ZL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return cg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xd(i)}return tF(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eF(){return Math.random().toString(36).substr(2,8)}function uE(t,e){return{usr:t.state,key:t.key,idx:e}}function cg(t,e,n,r){return n===void 0&&(n=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ka(e):e,{state:n,key:e&&e.key||r||eF()})}function Xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ii.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(fu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ii.Pop;let T=d(),E=T==null?null:T-u;u=T,l&&l({action:a,location:w.location,delta:E})}function f(T,E){a=Ii.Push;let v=cg(w.location,T,E);u=d()+1;let _=uE(v,u),P=w.createHref(v);try{o.pushState(_,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function m(T,E){a=Ii.Replace;let v=cg(w.location,T,E);u=d();let _=uE(v,u),P=w.createHref(v);o.replaceState(_,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function y(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:Xd(T);return v=v.replace(/ $/,"%20"),et(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let w={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lE,h),l=T,()=>{i.removeEventListener(lE,h),l=null}},createHref(T){return e(i,T)},createURL:y,encodeLocation(T){let E=y(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:m,go(T){return o.go(T)}};return w}var cE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cE||(cE={}));function nF(t,e,n){return n===void 0&&(n="/"),rF(t,e,n,!1)}function rF(t,e,n,r){let i=typeof e=="string"?ka(e):e,s=dv(i.pathname||"/",n);if(s==null)return null;let o=ZA(t);iF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=mF(s);a=fF(o[l],u,r)}return a}function ZA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZA(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:dF(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of eC(s.path))i(s,o,l)}),e}function eC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sF=/^:[\w-]+$/,oF=3,aF=2,lF=1,uF=10,cF=-2,dE=t=>t==="*";function dF(t,e){let n=t.split("/"),r=n.length;return n.some(dE)&&(r+=cF),e&&(r+=aF),n.filter(i=>!dE(i)).reduce((i,s)=>i+(sF.test(s)?oF:s===""?lF:uF),r)}function hF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=hE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=hE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Vi([s,h.pathname]),pathnameBase:wF(Vi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Vi([s,h.pathnameBase]))}return o}function hE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function pF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ka(t):t;return{pathname:n?n.startsWith("/")?n:yF(n,e):e,search:_F(r),hash:EF(i)}}function yF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tC(t,e){let n=vF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ka(t):(i=fu({},t),et(!i.pathname||!i.pathname.includes("?"),kp("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),kp("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),kp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=gF(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),wF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_F=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rC=["post","put","patch","delete"];new Set(rC);const xF=["get",...rC];new Set(xF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const hv=S.createContext(null),SF=S.createContext(null),Qs=S.createContext(null),nf=S.createContext(null),Ys=S.createContext({outlet:null,matches:[],isDataRoute:!1}),iC=S.createContext(null);function IF(t,e){let{relative:n}=e===void 0?{}:e;Fu()||et(!1);let{basename:r,navigator:i}=S.useContext(Qs),{hash:s,pathname:o,search:a}=aC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Fu(){return S.useContext(nf)!=null}function rf(){return Fu()||et(!1),S.useContext(nf).location}function sC(t){S.useContext(Qs).static||S.useLayoutEffect(t)}function oC(){let{isDataRoute:t}=S.useContext(Ys);return t?FF():AF()}function AF(){Fu()||et(!1);let t=S.useContext(hv),{basename:e,future:n,navigator:r}=S.useContext(Qs),{matches:i}=S.useContext(Ys),{pathname:s}=rf(),o=JSON.stringify(tC(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return sC(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=nC(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function aC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Qs),{matches:i}=S.useContext(Ys),{pathname:s}=rf(),o=JSON.stringify(tC(i,r.v7_relativeSplatPath));return S.useMemo(()=>nC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function CF(t,e){return PF(t,e)}function PF(t,e,n,r){Fu()||et(!1);let{navigator:i}=S.useContext(Qs),{matches:s}=S.useContext(Ys),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=rf(),d;if(e){var h;let T=typeof e=="string"?ka(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||et(!1),d=T}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=nF(t,{pathname:m}),w=DF(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Vi([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Vi([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&w?S.createElement(nf.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ii.Pop}},w):w}function bF(){let t=LF(),e=TF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const RF=S.createElement(bF,null);class kF extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Ys.Provider,{value:this.props.routeContext},S.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NF(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(hv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ys.Provider,{value:e},r)}function DF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,w=null,T=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||RF,l&&(u<0&&f===0?(y=!0,T=null):u===f&&(y=!0,T=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),v=()=>{let _;return m?_=w:y?_=T:h.route.Component?_=S.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,S.createElement(NF,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(kF,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var lC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lC||{}),Jd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jd||{});function OF(t){let e=S.useContext(hv);return e||et(!1),e}function VF(t){let e=S.useContext(SF);return e||et(!1),e}function MF(t){let e=S.useContext(Ys);return e||et(!1),e}function uC(t){let e=MF(),n=e.matches[e.matches.length-1];return n.route.id||et(!1),n.route.id}function LF(){var t;let e=S.useContext(iC),n=VF(Jd.UseRouteError),r=uC(Jd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FF(){let{router:t}=OF(lC.UseNavigateStable),e=uC(Jd.UseNavigateStable),n=S.useRef(!1);return sC(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},s)))},[t,e])}function fo(t){et(!1)}function jF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ii.Pop,navigator:s,static:o=!1,future:a}=t;Fu()&&et(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:o,future:pu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ka(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,w=S.useMemo(()=>{let T=dv(d,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:m,key:y},navigationType:i}},[l,d,h,f,m,y,i]);return w==null?null:S.createElement(Qs.Provider,{value:u},S.createElement(nf.Provider,{children:n,value:w}))}function UF(t){let{children:e,location:n}=t;return CF(dg(e),n)}new Promise(()=>{});function dg(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,dg(r.props.children,s));return}r.type!==fo&&et(!1),!r.props.index||!r.props.children||et(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function BF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $F(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zF(t,e){return t.button===0&&(!e||e==="_self")&&!$F(t)}const WF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HF="6";try{window.__reactRouterVersion=HF}catch{}const qF="startTransition",fE=RN[qF];function GF(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=ZL({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&fE?fE(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(jF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const KF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qo=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=BF(e,WF),{basename:m}=S.useContext(Qs),y,w=!1;if(typeof u=="string"&&QF.test(u)&&(y=u,KF))try{let _=new URL(window.location.href),P=u.startsWith("//")?new URL(_.protocol+u):new URL(u),O=dv(P.pathname,m);P.origin===_.origin&&O!=null?u=O+P.search+P.hash:w=!0}catch{}let T=IF(u,{relative:i}),E=YF(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(_){r&&r(_),_.defaultPrevented||E(_)}return S.createElement("a",hg({},f,{href:y||T,onClick:w||s?r:v,ref:n,target:l}))});var pE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pE||(pE={}));var mE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mE||(mE={}));function YF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=oC(),u=rf(),d=aC(t,{relative:o});return S.useCallback(h=>{if(zF(h,n)){h.preventDefault();let f=r!==void 0?r:Xd(u)===Xd(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const sf=({className:t,children:e})=>k.jsx("div",{className:at("tech-circle relative rounded-full animate-pulse-glow",t),children:e}),XF=Zy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),cC=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?lu:"button";return k.jsx(o,{className:at(XF({variant:e,size:n,className:t})),ref:s,...i})});cC.displayName="Button";const fv=({className:t,variant:e="primary",size:n="default",children:r,...i})=>{const s=()=>{switch(e){case"fraud":return"fraud-gradient text-white hover:brightness-110";case"safe":return"safe-gradient text-white hover:brightness-110";case"primary":return"bg-game-cyan text-white hover:bg-opacity-90";case"secondary":return"bg-accent text-white hover:bg-opacity-90";default:return"bg-game-cyan text-white hover:bg-opacity-90"}},o=()=>{switch(n){case"sm":return"py-1 px-3 text-sm";case"lg":return"py-3 px-6 text-lg";case"xl":return"py-4 px-8 text-xl";default:return"py-2 px-4"}};return k.jsx(cC,{className:at("font-medium rounded-full transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg",s(),o(),t),...i,children:r})},JF=()=>k.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-center items-center game-container relative overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:k.jsx(sf,{className:"w-[120vh] h-[120vh] opacity-20"})}),k.jsxs("div",{className:"relative z-10 max-w-xl w-full px-6 py-12 text-center animate-float",children:[k.jsxs("div",{className:"flex items-center justify-center mb-6",children:[k.jsx(Kh,{className:"text-game-cyan w-12 h-12 mr-2"}),k.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:["Fraud",k.jsx("span",{className:"text-game-cyan",children:"Safe"})]})]}),k.jsx("h2",{className:"text-xl md:text-2xl font-medium mb-8",children:"CATCH THE FAKE"}),k.jsx("p",{className:"text-muted-foreground mb-12 max-w-md mx-auto",children:"Beware of Fraud Messages! Test your skills at identifying fraud content, collect points, and compete with others on the leaderboard."}),k.jsx("div",{className:"flex justify-center",children:k.jsx(qo,{to:"/auth",children:k.jsx(fv,{size:"lg",children:k.jsxs("span",{className:"flex items-center gap-2",children:["Login to Play ",k.jsx(oA,{className:"w-5 h-5"})]})})})})]}),k.jsx("div",{className:"absolute bottom-0 left-0 w-full flex justify-center p-4 z-10",children:k.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[" 2025 FraudSafe Game. All rights reserved.",k.jsx("br",{}),"Spot the fraud and collect points."]})}),k.jsx("div",{className:"absolute top-20 left-10 w-24 h-24 rounded-full bg-game-fraud/5 blur-2xl"}),k.jsx("div",{className:"absolute bottom-20 right-10 w-32 h-32 rounded-full bg-game-safe/5 blur-3xl"})]}),ZF=()=>{};var gE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new t4;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(t){const e=dC(t);return hC.encodeByteArray(e,!0)},Zd=function(t){return n4(t).replace(/\./g,"")},fC=function(t){try{return hC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=()=>r4().__FIREBASE_DEFAULTS__,s4=()=>{if(typeof process>"u"||typeof gE>"u")return;const t=gE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fC(t[1]);return e&&JSON.parse(e)},of=()=>{try{return ZF()||i4()||s4()||o4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pC=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a4=t=>{const e=pC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mC=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},gC=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zd(JSON.stringify(n)),Zd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function d4(){var t;const e=(t=of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p4(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m4(){return!d4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function wC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function g4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y4,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs.prototype.create)}}class Xs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function v4(t,e){return t.replace(w4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const w4=/\{\$([^}]+)}/g;function _4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ki(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yE(s)&&yE(o)){if(!Ki(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E4(t,e){const n=new T4(t,e);return n.subscribe.bind(n)}class T4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Np),i.error===void 0&&(i.error=Np),i.complete===void 0&&(i.complete=Np);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=1e3,I4=2,A4=4*60*60*1e3,C4=.5;function vE(t,e=S4,n=I4){const r=e*Math.pow(n,t),i=Math.round(C4*r*(Math.random()-.5)*2);return Math.min(A4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return t.endsWith(".cloudworkstations.dev")}async function _C(t){return(await fetch(t,{credentials:"include"})).ok}class qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R4(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b4(t){return t===ys?void 0:t}function R4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const N4={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},D4=me.INFO,O4={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},V4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=O4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=D4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const M4=(t,e)=>e.some(n=>t instanceof n);let wE,_E;function L4(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F4(){return _E||(_E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,fg=new WeakMap,TC=new WeakMap,Dp=new WeakMap,pv=new WeakMap;function j4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EC.set(n,t)}).catch(()=>{}),pv.set(e,t),e}function U4(t){if(fg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B4(t){pg=t(pg)}function $4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Op(this),e,...n);return TC.set(r,e.sort?e.sort():[e]),Mi(r)}:F4().includes(t)?function(...e){return t.apply(Op(this),e),Mi(EC.get(this))}:function(...e){return Mi(t.apply(Op(this),e))}}function z4(t){return typeof t=="function"?$4(t):(t instanceof IDBTransaction&&U4(t),M4(t,L4())?new Proxy(t,pg):t)}function Mi(t){if(t instanceof IDBRequest)return j4(t);if(Dp.has(t))return Dp.get(t);const e=z4(t);return e!==t&&(Dp.set(t,e),pv.set(e,t)),e}const Op=t=>pv.get(t);function xC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const W4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],Vp=new Map;function EE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vp.set(e,s),s}B4(t=>({...t,get:(e,n,r)=>EE(e,n)||t.get(e,n,r),has:(e,n)=>!!EE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",TE="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new lf("@firebase/app"),K4="@firebase/app-compat",Q4="@firebase/analytics-compat",Y4="@firebase/analytics",X4="@firebase/app-check-compat",J4="@firebase/app-check",Z4="@firebase/auth",ej="@firebase/auth-compat",tj="@firebase/database",nj="@firebase/data-connect",rj="@firebase/database-compat",ij="@firebase/functions",sj="@firebase/functions-compat",oj="@firebase/installations",aj="@firebase/installations-compat",lj="@firebase/messaging",uj="@firebase/messaging-compat",cj="@firebase/performance",dj="@firebase/performance-compat",hj="@firebase/remote-config",fj="@firebase/remote-config-compat",pj="@firebase/storage",mj="@firebase/storage-compat",gj="@firebase/firestore",yj="@firebase/vertexai",vj="@firebase/firestore-compat",wj="firebase",_j="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",Ej={[mg]:"fire-core",[K4]:"fire-core-compat",[Y4]:"fire-analytics",[Q4]:"fire-analytics-compat",[J4]:"fire-app-check",[X4]:"fire-app-check-compat",[Z4]:"fire-auth",[ej]:"fire-auth-compat",[tj]:"fire-rtdb",[nj]:"fire-data-connect",[rj]:"fire-rtdb-compat",[ij]:"fire-fn",[sj]:"fire-fn-compat",[oj]:"fire-iid",[aj]:"fire-iid-compat",[lj]:"fire-fcm",[uj]:"fire-fcm-compat",[cj]:"fire-perf",[dj]:"fire-perf-compat",[hj]:"fire-rc",[fj]:"fire-rc-compat",[pj]:"fire-gcs",[mj]:"fire-gcs-compat",[gj]:"fire-fst",[vj]:"fire-fst-compat",[yj]:"fire-vertex","fire-js":"fire-js",[wj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,Tj=new Map,yg=new Map;function xE(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mr(t){const e=t.name;if(yg.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of eh.values())xE(n,t);for(const n of Tj.values())xE(n,t);return!0}function Js(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Xs("app","Firebase",xj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=_j;function SC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=mC()),!n)throw Li.create("no-options");const s=eh.get(i);if(s){if(Ki(n,s.options)&&Ki(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new k4(i);for(const l of yg.values())o.addComponent(l);const a=new Sj(n,r,o);return eh.set(i,a),a}function mv(t=gg){const e=eh.get(t);if(!e&&t===gg&&mC())return SC();if(!e)throw Li.create("no-app",{appName:t});return e}function In(t,e,n){var r;let i=(r=Ej[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}mr(new qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="firebase-heartbeat-database",Aj=1,mu="firebase-heartbeat-store";let Mp=null;function IC(){return Mp||(Mp=xC(Ij,Aj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Mp}async function Cj(t){try{const n=(await IC()).transaction(mu),r=await n.objectStore(mu).get(AC(t));return await n.done,r}catch(e){if(e instanceof Qn)Wr.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function SE(t,e){try{const r=(await IC()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,AC(t)),await r.done}catch(n){if(n instanceof Qn)Wr.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function AC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=1024,bj=30;class Rj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>bj){const o=Dj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IE(),{heartbeatsToSend:r,unsentEntries:i}=kj(this._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wr.warn(n),""}}}function IE(){return new Date().toISOString().substring(0,10)}function kj(t,e=Pj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?wC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AE(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function Dj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){mr(new qn("platform-logger",e=>new q4(e),"PRIVATE")),mr(new qn("heartbeat",e=>new Rj(e),"PRIVATE")),In(mg,TE,t),In(mg,TE,"esm2017"),In("fire-js","")}Oj("");function gv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vj=CC,PC=new Xs("auth","Firebase",CC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new lf("@firebase/auth");function Mj(t,...e){th.logLevel<=me.WARN&&th.warn(`Auth (${Na}): ${t}`,...e)}function ud(t,...e){th.logLevel<=me.ERROR&&th.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw yv(t,...e)}function ar(t,...e){return yv(t,...e)}function bC(t,e,n){const r=Object.assign(Object.assign({},Vj()),{[e]:n});return new Xs("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return bC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PC.create(t,...e)}function se(t,e,...n){if(!t)throw yv(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ud(e),new Error(e)}function Hr(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Lj(){return CE()==="http:"||CE()==="https:"}function CE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lj()||yC()||"connection"in navigator)?navigator.onLine:!0}function jj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=c4()||f4()}get(){return Fj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$j=new Uu(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function as(t,e,n,r,i={}){return kC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ju(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return h4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&af(t.emulatorConfig.host)&&(u.credentials="include"),RC.fetch()(await NC(t,t.config.apiHost,n,a),u)})}async function kC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Uj),e);try{const i=new Wj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bC(t,d,u);Gn(t,d)}}catch(i){if(i instanceof Qn)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function Bu(t,e,n,r,i={}){const s=await as(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function NC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?vv(t.config,i):`${t.config.apiScheme}://${i}`;return Bj.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function zj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),$j.get())})}}function Fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(t,e,r);return i.customData._tokenResponse=n,i}function PE(t){return t!==void 0&&t.enterprise!==void 0}class Hj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qj(t,e){return as(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return as(t,"POST","/v1/accounts:delete",e)}async function nh(t,e){return as(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kj(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=wv(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vl(Lp(i.auth_time)),issuedAtTime:Vl(Lp(i.iat)),expirationTime:Vl(Lp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lp(t){return Number(t)*1e3}function wv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const i=fC(n);return i?JSON.parse(i):(ud("Failed to decode base64 JWT payload"),null)}catch(i){return ud("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bE(t){const e=wv(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&Qj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Qj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gu(t,nh(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DC(s.providerUserInfo):[],a=Jj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Xj(t){const e=Ot(t);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DC(t){return t.map(e=>{var{providerId:n}=e,r=gv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e){const n=await kC(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await NC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eU(t,e){return as(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Zj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Go;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kj(this,e)}reload(){return Xj(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await gu(this,Gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:P,isAnonymous:O,providerData:V,stsTokenManager:I}=n;se(_&&I,e,"internal-error");const x=Go.fromJSON(this.name,I);se(typeof _=="string",e,"internal-error"),oi(h,e.name),oi(f,e.name),se(typeof P=="boolean",e,"internal-error"),se(typeof O=="boolean",e,"internal-error"),oi(m,e.name),oi(y,e.name),oi(w,e.name),oi(T,e.name),oi(E,e.name),oi(v,e.name);const A=new Fn({uid:_,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:x,createdAt:E,lastLoginAt:v});return V&&Array.isArray(V)&&(A.providerData=V.map(b=>Object.assign({},b))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Go;i.updateFromServerResponse(n);const s=new Fn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Go;a.updateFromIdToken(r);const l=new Fn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function kr(t){Hr(t instanceof Function,"Expected a class definition");let e=RE.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OC.type="NONE";const kE=OC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cd(this.userKey,i.apiKey,s),this.fullPersistenceKey=cd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ko(kr(kE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||kr(kE);const o=cd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await nh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Fn._fromGetAccountInfoResponse(e,f,d)}else h=Fn._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ko(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ko(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UC(e))return"Blackberry";if(BC(e))return"Webos";if(MC(e))return"Safari";if((e.includes("chrome/")||LC(e))&&!e.includes("edge/"))return"Chrome";if(jC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VC(t=Dt()){return/firefox\//i.test(t)}function MC(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LC(t=Dt()){return/crios\//i.test(t)}function FC(t=Dt()){return/iemobile/i.test(t)}function jC(t=Dt()){return/android/i.test(t)}function UC(t=Dt()){return/blackberry/i.test(t)}function BC(t=Dt()){return/webos/i.test(t)}function _v(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tU(t=Dt()){var e;return _v(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nU(){return p4()&&document.documentMode===10}function $C(t=Dt()){return _v(t)||jC(t)||BC(t)||UC(t)||/windows phone/i.test(t)||FC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e=[]){let n;switch(t){case"Browser":n=NE(Dt());break;case"Worker":n=`${NE(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e={}){return as(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=6;class oU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new rU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nh(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Or(this));const n=e?Ot(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iU(this),n=new oU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Mj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(t){return Ot(t)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=E4(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lU(t){uf=t}function WC(t){return uf.loadJS(t)}function uU(){return uf.recaptchaEnterpriseScript}function cU(){return uf.gapiScript}function dU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hU{constructor(){this.enterprise=new fU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pU="recaptcha-enterprise",HC="NO_RECAPTCHA";class mU{constructor(e){this.type=pU,this.auth=Zs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Hj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;PE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(HC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hU().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uU();l.length!==0&&(l+=a),WC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function OE(t,e,n,r=!1,i=!1){const s=new mU(t);let o;if(i)o=HC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _g(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await OE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await OE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e){const n=Js(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ki(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function yU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vU(t,e,n){const r=Zs(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qC(e),{host:o,port:a}=wU(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Ki(u,r.config.emulator)&&Ki(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,_U(),af(o)&&_C(`${s}//${o}${l}`)}function qC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wU(t){const e=qC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:VE(o)}}}function VE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _U(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function EU(t,e){return as(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function SU(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Ev{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,n,"signInWithPassword",TU);case"emailLink":return xU(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,r,"signUpPassword",EU);case"emailLink":return SU(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="http://localhost";class Bs extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:IU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CU(t){const e=vl(wl(t)).link,n=e?vl(wl(e)).deep_link_id:null,r=vl(wl(t)).deep_link_id;return(r?vl(wl(r)).link:null)||r||n||e||t}class Tv{constructor(e){var n,r,i,s,o,a;const l=vl(wl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=AU((i=l.mode)!==null&&i!==void 0?i:null);se(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=CU(e);try{return new Tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tv.parseLink(n);return se(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends GC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends $u{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends $u{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends $u{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(t,e){return Bu(t,"POST","/v1/accounts:signUp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fn._fromIdTokenResponse(e,r,i),o=ME(r);return new $s({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ME(r);return new $s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ME(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ih(e,n,r,i)}}function KC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(t,s,e,r):s})}async function bU(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(Or(r));const i="reauthenticate";try{const s=await gu(t,KC(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=wv(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),$s._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(t,e,n=!1){if(En(t.app))return Promise.reject(Or(t));const r="signIn",i=await KC(t,r,e),s=await $s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kU(t,e){return QC(Zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t){const e=Zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NU(t,e,n){if(En(t.app))return Promise.reject(Or(t));const r=Zs(t),o=await _g(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YC(t),l}),a=await $s._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function DU(t,e,n){return En(t.app)?Promise.reject(Or(t)):kU(Ot(t),Da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YC(t),r})}function OU(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function VU(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=1e3,LU=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const FU=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZC.type="SESSION";const eP=ZC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await jU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=xv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function BU(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function $U(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WU(){return tP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firebaseLocalStorageDb",HU=1,oh="firebaseLocalStorage",rP="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function qU(){const t=indexedDB.deleteDatabase(nP);return new zu(t).toPromise()}function Eg(){const t=indexedDB.open(nP,HU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oh,{keyPath:rP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await qU(),e(await Eg()))})})}async function LE(t,e,n){const r=df(t,!0).put({[rP]:e,value:n});return new zu(r).toPromise()}async function GU(t,e){const n=df(t,!1).get(e),r=await new zu(n).toPromise();return r===void 0?null:r.value}function FE(t,e){const n=df(t,!0).delete(e);return new zu(n).toPromise()}const KU=800,QU=3;class iP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(WU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $U(),!this.activeServiceWorker)return;this.sender=new UU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await LE(e,sh,"1"),await FE(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=df(i,!1).getAll();return new zu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iP.type="LOCAL";const YU=iP;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e){return e?kr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JU(t){return QC(t.auth,new Sv(t),t.bypassAuthState)}function ZU(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),RU(n,new Sv(t),t.bypassAuthState)}async function e5(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),bU(n,new Sv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JU;case"linkViaPopup":case"linkViaRedirect":return e5;case"reauthViaPopup":case"reauthViaRedirect":return ZU;default:Gn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Uu(2e3,1e4);class No extends sP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t5.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="pendingRedirect",dd=new Map;class r5 extends sP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dd.get(this.auth._key());if(!e){try{const r=await i5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dd.set(this.auth._key(),e)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i5(t,e){const n=a5(e),r=o5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s5(t,e){dd.set(t._key(),e)}function o5(t){return kr(t._redirectPersistence)}function a5(t){return cd(n5,t.config.apiKey,t.name)}async function l5(t,e,n=!1){if(En(t.app))return Promise.reject(Or(t));const r=Zs(t),i=XU(r,e),o=await new r5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=10*60*1e3;class c5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(e))}saveEventToCache(e){this.cachedEventUids.add(jE(e)),this.lastProcessedEventTime=Date.now()}}function jE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e={}){return as(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p5=/^https?/;async function m5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h5(t);for(const n of e)try{if(g5(n))return}catch{}Gn(t,"unauthorized-domain")}function g5(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p5.test(n))return!1;if(f5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new Uu(3e4,6e4);function UE(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v5(t){return new Promise((e,n)=>{var r,i,s;function o(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(ar(t,"network-request-failed"))},timeout:y5.get()})}if(!((i=(r=lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=lr().gapi)===null||s===void 0)&&s.load)o();else{const a=dU("iframefcb");return lr()[a]=()=>{gapi.load?o():n(ar(t,"network-request-failed"))},WC(`${cU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hd=null,e})}let hd=null;function w5(t){return hd=hd||v5(t),hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new Uu(5e3,15e3),E5="__/auth/iframe",T5="emulator/auth/iframe",x5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vv(e,T5):`https://${t.config.authDomain}/${E5}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=S5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function A5(t){const e=await w5(t),n=lr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:I5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ar(t,"network-request-failed"),a=lr().setTimeout(()=>{s(o)},_5.get());function l(){lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P5=500,b5=600,R5="_blank",k5="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N5(t,e,n,r=P5,i=b5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C5),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Dt().toLowerCase();n&&(a=LC(u)?R5:n),VC(u)&&(e=e||k5,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(tU(u)&&a!=="_self")return D5(e||"",a),new BE(null);const h=window.open(e||"",a,d);se(h,t,"popup-blocked");try{h.focus()}catch{}return new BE(h)}function D5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="__/auth/handler",V5="emulator/auth/handler",M5=encodeURIComponent("fac");async function $E(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof GC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof $u){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${M5}=${encodeURIComponent(l)}`:"";return`${L5(t)}?${ju(a).slice(1)}${u}`}function L5({config:t}){return t.emulator?vv(t,V5):`https://${t.authDomain}/${O5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class F5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eP,this._completeRedirectFn=l5,this._overrideRedirectResult=s5}async _openPopup(e,n,r,i){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $E(e,n,r,vg(),i);return N5(e,o,xv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $E(e,n,r,vg(),i);return BU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await A5(e),r=new c5(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Fp];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $C()||MC()||_v()}}const j5=F5;var zE="@firebase/auth",WE="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $5(t){mr(new qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zC(t)},u=new aU(r,i,s,l);return yU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mr(new qn("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(r=>new U5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(zE,WE,B5(t)),In(zE,WE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=5*60,W5=gC("authIdTokenMaxAge")||z5;let HE=null;const H5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W5)return;const i=n==null?void 0:n.token;HE!==i&&(HE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function q5(t=mv()){const e=Js(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gU(t,{popupRedirectResolver:j5,persistence:[YU,FU,eP]}),r=gC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=H5(s.toString());VU(n,o,()=>o(n.currentUser)),OU(n,a=>o(a))}}const i=pC("auth");return i&&vU(n,`http://${i}`),n}function G5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",G5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$5("Browser");var K5="firebase",Q5="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(K5,Q5,"app");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,aP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function A(){}A.prototype=x.prototype,I.D=x.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(b,N,D){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return x.prototype[N].apply(b,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,x,A){A||(A=0);var b=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)b[N]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(N=0;16>N;++N)b[N]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=I.g[0],A=I.g[1],N=I.g[2];var D=I.g[3],R=x+(D^A&(N^D))+b[0]+3614090360&4294967295;x=A+(R<<7&4294967295|R>>>25),R=D+(N^x&(A^N))+b[1]+3905402710&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(A^D&(x^A))+b[2]+606105819&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(x^N&(D^x))+b[3]+3250441966&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(D^A&(N^D))+b[4]+4118548399&4294967295,x=A+(R<<7&4294967295|R>>>25),R=D+(N^x&(A^N))+b[5]+1200080426&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(A^D&(x^A))+b[6]+2821735955&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(x^N&(D^x))+b[7]+4249261313&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(D^A&(N^D))+b[8]+1770035416&4294967295,x=A+(R<<7&4294967295|R>>>25),R=D+(N^x&(A^N))+b[9]+2336552879&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(A^D&(x^A))+b[10]+4294925233&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(x^N&(D^x))+b[11]+2304563134&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(D^A&(N^D))+b[12]+1804603682&4294967295,x=A+(R<<7&4294967295|R>>>25),R=D+(N^x&(A^N))+b[13]+4254626195&4294967295,D=x+(R<<12&4294967295|R>>>20),R=N+(A^D&(x^A))+b[14]+2792965006&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(x^N&(D^x))+b[15]+1236535329&4294967295,A=N+(R<<22&4294967295|R>>>10),R=x+(N^D&(A^N))+b[1]+4129170786&4294967295,x=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(x^A))+b[6]+3225465664&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(D^x))+b[11]+643717713&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^x&(N^D))+b[0]+3921069994&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(A^N))+b[5]+3593408605&4294967295,x=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(x^A))+b[10]+38016083&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(D^x))+b[15]+3634488961&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^x&(N^D))+b[4]+3889429448&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(A^N))+b[9]+568446438&4294967295,x=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(x^A))+b[14]+3275163606&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(D^x))+b[3]+4107603335&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^x&(N^D))+b[8]+1163531501&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(N^D&(A^N))+b[13]+2850285829&4294967295,x=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(x^A))+b[2]+4243563512&4294967295,D=x+(R<<9&4294967295|R>>>23),R=N+(x^A&(D^x))+b[7]+1735328473&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^x&(N^D))+b[12]+2368359562&4294967295,A=N+(R<<20&4294967295|R>>>12),R=x+(A^N^D)+b[5]+4294588738&4294967295,x=A+(R<<4&4294967295|R>>>28),R=D+(x^A^N)+b[8]+2272392833&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^A)+b[11]+1839030562&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^x)+b[14]+4259657740&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(A^N^D)+b[1]+2763975236&4294967295,x=A+(R<<4&4294967295|R>>>28),R=D+(x^A^N)+b[4]+1272893353&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^A)+b[7]+4139469664&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^x)+b[10]+3200236656&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(A^N^D)+b[13]+681279174&4294967295,x=A+(R<<4&4294967295|R>>>28),R=D+(x^A^N)+b[0]+3936430074&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^A)+b[3]+3572445317&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^x)+b[6]+76029189&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(A^N^D)+b[9]+3654602809&4294967295,x=A+(R<<4&4294967295|R>>>28),R=D+(x^A^N)+b[12]+3873151461&4294967295,D=x+(R<<11&4294967295|R>>>21),R=N+(D^x^A)+b[15]+530742520&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^x)+b[2]+3299628645&4294967295,A=N+(R<<23&4294967295|R>>>9),R=x+(N^(A|~D))+b[0]+4096336452&4294967295,x=A+(R<<6&4294967295|R>>>26),R=D+(A^(x|~N))+b[7]+1126891415&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~A))+b[14]+2878612391&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~x))+b[5]+4237533241&4294967295,A=N+(R<<21&4294967295|R>>>11),R=x+(N^(A|~D))+b[12]+1700485571&4294967295,x=A+(R<<6&4294967295|R>>>26),R=D+(A^(x|~N))+b[3]+2399980690&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~A))+b[10]+4293915773&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~x))+b[1]+2240044497&4294967295,A=N+(R<<21&4294967295|R>>>11),R=x+(N^(A|~D))+b[8]+1873313359&4294967295,x=A+(R<<6&4294967295|R>>>26),R=D+(A^(x|~N))+b[15]+4264355552&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~A))+b[6]+2734768916&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~x))+b[13]+1309151649&4294967295,A=N+(R<<21&4294967295|R>>>11),R=x+(N^(A|~D))+b[4]+4149444226&4294967295,x=A+(R<<6&4294967295|R>>>26),R=D+(A^(x|~N))+b[11]+3174756917&4294967295,D=x+(R<<10&4294967295|R>>>22),R=N+(x^(D|~A))+b[2]+718787259&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~x))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var A=x-this.blockSize,b=this.B,N=this.h,D=0;D<x;){if(N==0)for(;D<=A;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<x;)if(b[N++]=I.charCodeAt(D++),N==this.blockSize){i(this,b),N=0;break}}else for(;D<x;)if(b[N++]=I[D++],N==this.blockSize){i(this,b),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var A=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.u(I),I=Array(16),x=A=0;4>x;++x)for(var b=0;32>b;b+=8)I[A++]=this.g[x]>>>b&255;return I};function s(I,x){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=x(I)}function o(I,x){this.h=x;for(var A=[],b=!0,N=I.length-1;0<=N;N--){var D=I[N]|0;b&&D==x||(A[N]=D,b=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?s(I,function(x){return new o([x|0],0>x?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return T(u(-I));for(var x=[],A=1,b=0;I>=A;b++)x[b]=I/A|0,A*=4294967296;return new o(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return T(d(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(x,8)),b=h,N=0;N<I.length;N+=8){var D=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+D),x);8>D?(D=u(Math.pow(x,D)),b=b.j(D).add(u(R))):(b=b.j(A),b=b.add(u(R)))}return b}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var I=0,x=1,A=0;A<this.g.length;A++){var b=this.i(A);I+=(0<=b?b:4294967296+b)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(w(this))return"-"+T(this).toString(I);for(var x=u(Math.pow(I,6)),A=this,b="";;){var N=P(A,x).g;A=E(A,N.j(x));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=N,y(A))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=E(this,I),w(I)?-1:y(I)?0:1};function T(I){for(var x=I.g.length,A=[],b=0;b<x;b++)A[b]=~I.g[b];return new o(A,~I.h).add(f)}t.abs=function(){return w(this)?T(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0,N=0;N<=x;N++){var D=b+(this.i(N)&65535)+(I.i(N)&65535),R=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);b=R>>>16,D&=65535,R&=65535,A[N]=R<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(I,x){return I.add(T(x))}t.j=function(I){if(y(this)||y(I))return h;if(w(this))return w(I)?T(this).j(T(I)):T(T(this).j(I));if(w(I))return T(this.j(T(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var x=this.g.length+I.g.length,A=[],b=0;b<2*x;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<I.g.length;N++){var D=this.i(b)>>>16,R=this.i(b)&65535,$=I.i(N)>>>16,re=I.i(N)&65535;A[2*b+2*N]+=R*re,v(A,2*b+2*N),A[2*b+2*N+1]+=D*re,v(A,2*b+2*N+1),A[2*b+2*N+1]+=R*$,v(A,2*b+2*N+1),A[2*b+2*N+2]+=D*$,v(A,2*b+2*N+2)}for(b=0;b<x;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=x;b<2*x;b++)A[b]=0;return new o(A,0)};function v(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function _(I,x){this.g=I,this.h=x}function P(I,x){if(y(x))throw Error("division by zero");if(y(I))return new _(h,h);if(w(I))return x=P(T(I),x),new _(T(x.g),T(x.h));if(w(x))return x=P(I,T(x)),new _(T(x.g),x.h);if(30<I.g.length){if(w(I)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var A=f,b=x;0>=b.l(I);)A=O(A),b=O(b);var N=V(A,1),D=V(b,1);for(b=V(b,2),A=V(A,2);!y(b);){var R=D.add(b);0>=R.l(I)&&(N=N.add(A),D=R),b=V(b,1),A=V(A,1)}return x=E(I,N.j(x)),new _(N,x)}for(N=h;0<=I.l(x);){for(A=Math.max(1,Math.floor(I.m()/x.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(A),R=D.j(x);w(R)||0<R.l(I);)A-=b,D=u(A),R=D.j(x);y(D)&&(D=f),N=N.add(D),I=E(I,R)}return new _(N,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)&I.i(b);return new o(A,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)|I.i(b);return new o(A,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)^I.i(b);return new o(A,this.h^I.h)};function O(I){for(var x=I.g.length+1,A=[],b=0;b<x;b++)A[b]=I.i(b)<<1|I.i(b-1)>>>31;return new o(A,I.h)}function V(I,x){var A=x>>5;x%=32;for(var b=I.g.length-A,N=[],D=0;D<b;D++)N[D]=0<x?I.i(D+A)>>>x|I.i(D+A+1)<<32-x:I.i(D+A);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Fi=o}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lP,_l,uP,fd,Tg,cP,dP,hP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var M=c[C];if(!(M in g))break e;g=g[M]}c=c[c.length-1],C=g[c],p=p(C),p!=C&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,C=!1,M={next:function(){if(!C&&g<c.length){var F=g++;return{value:p(F,c[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function h(c,p,g){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function y(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(C,M,F){for(var G=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)G[Ae-2]=arguments[Ae];return p.prototype[M].apply(C,G)}}function w(c){const p=c.length;if(0<p){const g=Array(p);for(let C=0;C<p;C++)g[C]=c[C];return g}return[]}function T(c,p){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(l(C)){const M=c.length||0,F=C.length||0;c.length=M+F;for(let G=0;G<F;G++)c[M+G]=C[G]}else c.push(C)}}class E{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function V(c,p,g){for(const C in c)p.call(g,c[C],C,c)}function I(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function x(c){const p={};for(const g in c)p[g]=c[g];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let g,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(g in C)c[g]=C[g];for(let F=0;F<A.length;F++)g=A[F],Object.prototype.hasOwnProperty.call(C,g)&&(c[g]=C[g])}}function N(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function D(c){a.setTimeout(()=>{throw c},0)}function R(){var c=W;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ${constructor(){this.h=this.g=null}add(p,g){const C=re.get();C.set(p,g),this.h?this.h.next=C:this.g=C,this.h=C}}var re=new E(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,L=!1,W=new $,Z=()=>{const c=a.Promise.resolve(void 0);ne=()=>{c.then(H)}};var H=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(g){D(g)}var p=re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function Ue(c,p){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{P(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ue.aa.h.call(this)}}y(Ue,ee);var fe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),mn=0;function Ht(c,p,g,C,M){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!C,this.ha=M,this.key=++mn,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ht(c){this.src=c,this.g={},this.h=0}ht.prototype.add=function(c,p,g,C,M){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var G=bn(c,p,C,M);return-1<G?(p=c[G],g||(p.fa=!1)):(p=new Ht(p,this.src,F,!!C,M),p.fa=g,c.push(p)),p};function Pn(c,p){var g=p.type;if(g in c.g){var C=c.g[g],M=Array.prototype.indexOf.call(C,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(C,M,1),F&&(lt(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function bn(c,p,g,C){for(var M=0;M<c.length;++M){var F=c[M];if(!F.da&&F.listener==p&&F.capture==!!g&&F.ha==C)return M}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),Yr={};function Rn(c,p,g,C,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Rn(c,p[F],g,C,M);return null}return g=$a(g),c&&c[tt]?c.K(p,g,u(C)?!!C.capture:!!C,M):ja(c,p,g,!1,C,M)}function ja(c,p,g,C,M,F){if(!p)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,Ae=Xr(c);if(Ae||(c[wr]=Ae=new ht(c)),g=Ae.add(p,g,C,G,F),g.proxy)return g;if(C=Ua(),g.proxy=C,C.src=c,C.listener=g,c.addEventListener)Se||(M=G),M===void 0&&(M=!1),c.addEventListener(p.toString(),C,M);else if(c.attachEvent)c.attachEvent(Ju(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ua(){function c(g){return p.call(c.src,c.listener,g)}const p=Mf;return c}function Ke(c,p,g,C,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)Ke(c,p[F],g,C,M);else C=u(C)?!!C.capture:!!C,g=$a(g),c&&c[tt]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],g=bn(F,g,C,M),-1<g&&(lt(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Xr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=bn(p,g,C,M)),(g=-1<c?p[c]:null)&&Yn(g))}function Yn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[tt])Pn(p.i,c);else{var g=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(g,C,c.capture):p.detachEvent?p.detachEvent(Ju(g),C):p.addListener&&p.removeListener&&p.removeListener(C),(g=Xr(p))?(Pn(g,c),g.h==0&&(g.src=null,p[wr]=null)):lt(c)}}}function Ju(c){return c in Yr?Yr[c]:Yr[c]="on"+c}function Mf(c,p){if(c.da)c=!0;else{p=new Ue(p,this);var g=c.listener,C=c.ha||c.src;c.fa&&Yn(c),c=g.call(C,p)}return c}function Xr(c){return c=c[wr],c instanceof ht?c:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(c){return typeof c=="function"?c:(c[Ba]||(c[Ba]=function(p){return c.handleEvent(p)}),c[Ba])}function Qe(){J.call(this),this.i=new ht(this),this.M=this,this.F=null}y(Qe,J),Qe.prototype[tt]=!0,Qe.prototype.removeEventListener=function(c,p,g,C){Ke(this,c,p,g,C)};function Be(c,p){var g,C=c.F;if(C)for(g=[];C;C=C.F)g.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new ee(p,c);else if(p instanceof ee)p.target=p.target||c;else{var M=p;p=new ee(C,c),b(p,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var G=p.g=g[F];M=us(G,C,!0,p)&&M}if(G=p.g=c,M=us(G,C,!0,p)&&M,M=us(G,C,!1,p)&&M,g)for(F=0;F<g.length;F++)G=p.g=g[F],M=us(G,C,!1,p)&&M}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],C=0;C<g.length;C++)lt(g[C]);delete c.g[p],c.h--}}this.F=null},Qe.prototype.K=function(c,p,g,C){return this.i.add(String(c),p,!1,g,C)},Qe.prototype.L=function(c,p,g,C){return this.i.add(String(c),p,!0,g,C)};function us(c,p,g,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var G=p[F];if(G&&!G.da&&G.capture==g){var Ae=G.listener,ft=G.ha||G.src;G.fa&&Pn(c.i,G),M=Ae.call(ft,C)!==!1&&M}}return M&&!C.defaultPrevented}function _r(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function za(c){c.g=_r(()=>{c.g=null,c.i&&(c.i=!1,za(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Lf extends J{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(c){J.call(this),this.h=c,this.g={}}y(Jr,J);var Wa=[];function Zu(c){V(c.g,function(p,g){this.g.hasOwnProperty(g)&&Yn(p)},c),c.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),Zu(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=a.JSON.stringify,Xn=a.JSON.parse,Ff=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ae(){}ae.prototype.h=null;function Ie(c){return c.h||(c.h=c.i())}function Te(){}var _t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qt(){ee.call(this,"d")}y(qt,ee);function Zr(){ee.call(this,"c")}y(Zr,ee);var Er={},M0=null;function ec(){return M0=M0||new Qe}Er.La="serverreachability";function L0(c){ee.call(this,Er.La,c)}y(L0,ee);function Ha(c){const p=ec();Be(p,new L0(p))}Er.STAT_EVENT="statevent";function F0(c,p){ee.call(this,Er.STAT_EVENT,c),this.stat=p}y(F0,ee);function Vt(c){const p=ec();Be(p,new F0(p,c))}Er.Ma="timingevent";function j0(c,p){ee.call(this,Er.Ma,c),this.size=p}y(j0,ee);function qa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Ga(){this.g=!0}Ga.prototype.xa=function(){this.g=!1};function Hk(c,p,g,C,M,F){c.info(function(){if(c.g)if(F)for(var G="",Ae=F.split("&"),ft=0;ft<Ae.length;ft++){var we=Ae[ft].split("=");if(1<we.length){var Et=we[0];we=we[1];var Tt=Et.split("_");G=2<=Tt.length&&Tt[1]=="type"?G+(Et+"="+we+"&"):G+(Et+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+p+`
`+g+`
`+G})}function qk(c,p,g,C,M,F,G){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+p+`
`+g+`
`+F+" "+G})}function ao(c,p,g,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Kk(c,g)+(C?" "+C:"")})}function Gk(c,p){c.info(function(){return"TIMEOUT: "+p})}Ga.prototype.info=function(){};function Kk(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var C=g[c];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return cs(g)}catch{return p}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},U0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jf;function nc(){}y(nc,ae),nc.prototype.g=function(){return new XMLHttpRequest},nc.prototype.i=function(){return{}},jf=new nc;function ei(c,p,g,C){this.j=c,this.i=p,this.l=g,this.R=C||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new B0}function B0(){this.i=null,this.g="",this.h=!1}var $0={},Uf={};function Bf(c,p,g){c.L=1,c.v=oc(Tr(p)),c.m=g,c.P=!0,z0(c,null)}function z0(c,p){c.F=Date.now(),rc(c),c.A=Tr(c.v);var g=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),rw(g.i,"t",C),c.C=0,g=c.j.J,c.h=new B0,c.g=Ew(c.j,g?p:null,!c.m),0<c.O&&(c.M=new Lf(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,C=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Wa[0]=M.toString()),M=Wa);for(var F=0;F<M.length;F++){var G=Rn(g,M[F],C||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ha(),Hk(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const p=this.M;p&&xr(c)==3?p.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=xr(this.g);var p=this.g.Ba();const co=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||cw(this.g)))){this.J||Tt!=4||p==7||(p==8||0>=co?Ha(3):Ha(2)),$f(this);var g=this.g.Z();this.X=g;t:if(W0(this)){var C=cw(this.g);c="";var M=C.length,F=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),Ka(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(F&&p==M-1)});C.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,qk(this.i,this.u,this.A,this.l,this.R,Tt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ft=this.g;if((Ae=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ae)){var we=Ae;break t}}we=null}if(g=we)ao(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,g);else{this.o=!1,this.s=3,Vt(12),ds(this),Ka(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<G.length;)if(kn=Qk(this,G),kn==Uf){Tt==4&&(this.s=4,Vt(14),g=!1),ao(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==$0){this.s=4,Vt(15),ao(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else ao(this.i,this.l,kn,null),zf(this,kn);if(W0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||G.length!=0||this.h.h||(this.s=1,Vt(16),g=!1),this.o=this.o&&g,!g)ao(this.i,this.l,G,"[Invalid Chunked Response]"),ds(this),Ka(this);else if(0<G.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Qf(Et),Et.M=!0,Vt(11))}}else ao(this.i,this.l,G,null),zf(this,G);Tt==4&&ds(this),this.o&&!this.J&&(Tt==4?yw(this.j,this):(this.o=!1,rc(this)))}else hN(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),ds(this),Ka(this)}}}catch{}finally{}};function W0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qk(c,p){var g=c.C,C=p.indexOf(`
`,g);return C==-1?Uf:(g=Number(p.substring(g,C)),isNaN(g)?$0:(C+=1,C+g>p.length?Uf:(p=p.slice(C,C+g),c.C=C+g,p)))}ei.prototype.cancel=function(){this.J=!0,ds(this)};function rc(c){c.S=Date.now()+c.I,H0(c,c.I)}function H0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qa(f(c.ba,c),p)}function $f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gk(this.i,this.A),this.L!=2&&(Ha(),Vt(17)),ds(this),this.s=2,Ka(this)):H0(this,this.S-c)};function Ka(c){c.j.G==0||c.J||yw(c.j,c)}function ds(c){$f(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Zu(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function zf(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||Wf(g.h,c))){if(!c.K&&Wf(g.h,c)&&g.G==3){try{var C=g.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)hc(g),cc(g);else break e;Kf(g),Vt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=qa(f(g.Za,g),6e3));if(1>=K0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else fs(g,11)}else if((c.K||g.g==c)&&hc(g),!v(p))for(M=g.Da.g.parse(p),p=0;p<M.length;p++){let we=M[p];if(g.T=we[0],we=we[1],g.G==2)if(we[0]=="c"){g.K=we[1],g.ia=we[2];const Et=we[3];Et!=null&&(g.la=Et,g.j.info("VER="+g.la));const Tt=we[4];Tt!=null&&(g.Aa=Tt,g.j.info("SVER="+g.Aa));const co=we[5];co!=null&&typeof co=="number"&&0<co&&(C=1.5*co,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const kn=c.g;if(kn){const pc=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var F=C.h;F.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Hf(F,F.h),F.h=null))}if(C.D){const Yf=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(C.ya=Yf,be(C.I,C.D,Yf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var G=c;if(C.qa=_w(C,C.J?C.ia:null,C.W),G.K){Q0(C.h,G);var Ae=G,ft=C.L;ft&&(Ae.I=ft),Ae.B&&($f(Ae),rc(Ae)),C.g=G}else mw(C);0<g.i.length&&dc(g)}else we[0]!="stop"&&we[0]!="close"||fs(g,7);else g.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?fs(g,7):Gf(g):we[0]!="noop"&&g.l&&g.l.ta(we),g.v=0)}}Ha(4)}catch{}}var Yk=class{constructor(c,p){this.g=c,this.map=p}};function q0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function G0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function K0(c){return c.h?1:c.g?c.g.size:0}function Wf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Hf(c,p){c.g?c.g.add(p):c.h=p}function Q0(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}q0.prototype.cancel=function(){if(this.i=Y0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Y0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return w(c.i)}function Xk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,C=0;C<g;C++)p.push(c[C]);return p}p=[],g=0;for(C in c)p[g++]=c[C];return p}function Jk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const C in c)p[g++]=C;return p}}}function X0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=Jk(c),C=Xk(c),M=C.length,F=0;F<M;F++)p.call(void 0,C[F],g&&g[F],c)}var J0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zk(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var C=c[g].indexOf("="),M=null;if(0<=C){var F=c[g].substring(0,C);M=c[g].substring(C+1)}else F=c[g];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function hs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hs){this.h=c.h,ic(this,c.j),this.o=c.o,this.g=c.g,sc(this,c.s),this.l=c.l;var p=c.i,g=new Xa;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Z0(this,g),this.m=c.m}else c&&(p=String(c).match(J0))?(this.h=!1,ic(this,p[1]||"",!0),this.o=Qa(p[2]||""),this.g=Qa(p[3]||"",!0),sc(this,p[4]),this.l=Qa(p[5]||"",!0),Z0(this,p[6]||"",!0),this.m=Qa(p[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}hs.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ya(p,ew,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ya(p,ew,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Ya(g,g.charAt(0)=="/"?nN:tN,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Ya(g,iN)),c.join("")};function Tr(c){return new hs(c)}function ic(c,p,g){c.j=g?Qa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function sc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Z0(c,p,g){p instanceof Xa?(c.i=p,sN(c.i,c.h)):(g||(p=Ya(p,rN)),c.i=new Xa(p,c.h))}function be(c,p,g){c.i.set(p,g)}function oc(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ya(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,eN),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ew=/[#\/\?@]/g,tN=/[#\?:]/g,nN=/[#\?]/g,rN=/[#\?@]/g,iN=/#/g;function Xa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&Zk(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Xa.prototype,t.add=function(c,p){ti(this),this.i=null,c=lo(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function tw(c,p){ti(c),p=lo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function nw(c,p){return ti(c),p=lo(c,p),c.g.has(p)}t.forEach=function(c,p){ti(this),this.g.forEach(function(g,C){g.forEach(function(M){c.call(p,M,C,this)},this)},this)},t.na=function(){ti(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let C=0;C<p.length;C++){const M=c[C];for(let F=0;F<M.length;F++)g.push(p[C])}return g},t.V=function(c){ti(this);let p=[];if(typeof c=="string")nw(this,c)&&(p=p.concat(this.g.get(lo(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return ti(this),this.i=null,c=lo(this,c),nw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function rw(c,p,g){tw(c,p),0<g.length&&(c.i=null,c.g.set(lo(c,p),w(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var C=p[g];const F=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var M=F;G[C]!==""&&(M+="="+encodeURIComponent(String(G[C]))),c.push(M)}}return this.i=c.join("&")};function lo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function sN(c,p){p&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(g,C){var M=C.toLowerCase();C!=M&&(tw(this,C),rw(this,M,g))},c)),c.j=p}function oN(c,p){const g=new Ga;if(a.Image){const C=new Image;C.onload=m(ni,g,"TestLoadImage: loaded",!0,p,C),C.onerror=m(ni,g,"TestLoadImage: error",!1,p,C),C.onabort=m(ni,g,"TestLoadImage: abort",!1,p,C),C.ontimeout=m(ni,g,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function aN(c,p){const g=new Ga,C=new AbortController,M=setTimeout(()=>{C.abort(),ni(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(F=>{clearTimeout(M),F.ok?ni(g,"TestPingServer: ok",!0,p):ni(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ni(g,"TestPingServer: error",!1,p)})}function ni(c,p,g,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(g)}catch{}}function lN(){this.g=new Ff}function uN(c,p,g){const C=g||"";try{X0(c,function(M,F){let G=M;u(M)&&(G=cs(M)),p.push(C+F+"="+encodeURIComponent(G))})}catch(M){throw p.push(C+"type="+encodeURIComponent("_badmap")),M}}function ac(c){this.l=c.Ub||null,this.j=c.eb||!1}y(ac,ae),ac.prototype.g=function(){return new lc(this.l,this.j)},ac.prototype.i=function(c){return function(){return c}}({});function lc(c,p){Qe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(lc,Qe),t=lc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ja(this):Za(this),this.readyState==3&&iw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ja(this))},t.Qa=function(c){this.g&&(this.response=c,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Za(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function Za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sw(c){let p="";return V(c,function(g,C){p+=C,p+=":",p+=g,p+=`\r
`}),p}function qf(c,p,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=sw(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):be(c,p,g))}function $e(c){Qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y($e,Qe);var cN=/^https?$/i,dN=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jf.g(),this.v=this.o?Ie(this.o):Ie(jf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){ow(this,F);return}if(c=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)g.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())g.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dN,p,void 0))||C||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of g)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uw(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){ow(this,F)}};function ow(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,aw(c),uc(c)}function aw(c){c.A||(c.A=!0,Be(c,"complete"),Be(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Be(this,"complete"),Be(this,"abort"),uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uc(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lw(this):this.bb())},t.bb=function(){lw(this)};function lw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||xr(c)!=4||c.Z()!=2)){if(c.u&&xr(c)==4)_r(c.Ea,0,c);else if(Be(c,"readystatechange"),xr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var C;if(C=G===0){var M=String(c.D).match(J0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!cN.test(M?M.toLowerCase():"")}g=C}if(g)Be(c,"complete"),Be(c,"success");else{c.m=6;try{var F=2<xr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",aw(c)}}finally{uc(c)}}}}function uc(c,p){if(c.g){uw(c);const g=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Be(c,"ready");try{g.onreadystatechange=C}catch{}}}function uw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function xr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xn(p)}};function cw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hN(c){const p={};c=(c.g&&2<=xr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(v(c[C]))continue;var g=N(c[C]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=p[M]||[];p[M]=F,F.push(g)}I(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function dw(c){this.Aa=0,this.i=[],this.j=new Ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=el("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=el("baseRetryDelayMs",5e3,c),this.cb=el("retryDelaySeedMs",1e4,c),this.Wa=el("forwardChannelMaxRetries",2,c),this.wa=el("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new q0(c&&c.concurrentRequestLimit),this.Da=new lN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dw.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,C){Vt(0),this.W=c,this.H=p||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=_w(this,null,this.W),dc(this)};function Gf(c){if(hw(c),c.G==3){var p=c.U++,g=Tr(c.I);if(be(g,"SID",c.K),be(g,"RID",p),be(g,"TYPE","terminate"),tl(c,g),p=new ei(c,c.j,p),p.L=2,p.v=oc(Tr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Ew(p.j,null),p.g.ea(p.v)),p.F=Date.now(),rc(p)}ww(c)}function cc(c){c.g&&(Qf(c),c.g.cancel(),c.g=null)}function hw(c){cc(c),c.u&&(a.clearTimeout(c.u),c.u=null),hc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function dc(c){if(!G0(c.h)&&!c.s){c.s=!0;var p=c.Ga;ne||Z(),L||(ne(),L=!0),W.add(p,c),c.B=0}}function fN(c,p){return K0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qa(f(c.Ga,c,p),vw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new ei(this,this.j,c);let F=this.o;if(this.S&&(F?(F=x(F),b(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=pw(this,M,p),g=Tr(this.I),be(g,"RID",c),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),tl(this,g),F&&(this.O?p="headers="+encodeURIComponent(String(sw(F)))+"&"+p:this.m&&qf(g,this.m,F)),Hf(this.h,M),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",p),be(g,"SID","null"),M.T=!0,Bf(M,g,null)):Bf(M,g,p),this.G=2}}else this.G==3&&(c?fw(this,c):this.i.length==0||G0(this.h)||fw(this))};function fw(c,p){var g;p?g=p.l:g=c.U++;const C=Tr(c.I);be(C,"SID",c.K),be(C,"RID",g),be(C,"AID",c.T),tl(c,C),c.m&&c.o&&qf(C,c.m,c.o),g=new ei(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=pw(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hf(c.h,g),Bf(g,C,p)}function tl(c,p){c.H&&V(c.H,function(g,C){be(p,C,g)}),c.l&&X0({},function(g,C){be(p,C,g)})}function pw(c,p,g){g=Math.min(c.i.length,g);var C=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let F=-1;for(;;){const G=["count="+g];F==-1?0<g?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ae=!0;for(let ft=0;ft<g;ft++){let we=M[ft].g;const Et=M[ft].map;if(we-=F,0>we)F=Math.max(0,M[ft].g-100),Ae=!1;else try{uN(Et,G,"req"+we+"_")}catch{C&&C(Et)}}if(Ae){C=G.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,C}function mw(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ne||Z(),L||(ne(),L=!0),W.add(p,c),c.v=0}}function Kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qa(f(c.Fa,c),vw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,gw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qa(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),cc(this),gw(this))};function Qf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function gw(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Tr(c.qa);be(p,"RID","rpc"),be(p,"SID",c.K),be(p,"AID",c.T),be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(p,"TO",c.ja),be(p,"TYPE","xmlhttp"),tl(c,p),c.m&&c.o&&qf(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=oc(Tr(p)),g.m=null,g.P=!0,z0(g,c)}t.Za=function(){this.C!=null&&(this.C=null,cc(this),Kf(this),Vt(19))};function hc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yw(c,p){var g=null;if(c.g==p){hc(c),Qf(c),c.g=null;var C=2}else if(Wf(c.h,p))g=p.D,Q0(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;C=ec(),Be(C,new j0(C,g)),dc(c)}else mw(c);else if(M=p.s,M==3||M==0&&0<p.X||!(C==1&&fN(c,p)||C==2&&Kf(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),M){case 1:fs(c,5);break;case 4:fs(c,10);break;case 3:fs(c,6);break;default:fs(c,2)}}}function vw(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function fs(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),C=c.Xa;const M=!C;C=new hs(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ic(C,"https"),oc(C),M?oN(C.toString(),g):aN(C.toString(),g)}else Vt(2);c.G=0,c.l&&c.l.sa(p),ww(c),hw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ww(c){if(c.G=0,c.ka=[],c.l){const p=Y0(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function _w(c,p,g){var C=g instanceof hs?Tr(g):new hs(g);if(C.g!="")p&&(C.g=p+"."+C.g),sc(C,C.s);else{var M=a.location;C=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new hs(null);C&&ic(F,C),p&&(F.g=p),M&&sc(F,M),g&&(F.l=g),C=F}return g=c.D,p=c.ya,g&&p&&be(C,g,p),be(C,"VER",c.la),tl(c,C),C}function Ew(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new $e(new ac({eb:g})):new $e(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tw(){}t=Tw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fc(){}fc.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){Qe.call(this),this.g=new dw(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new uo(this)}y(tn,Qe),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Gf(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=cs(c),c=g);p.i.push(new Yk(p.Ya++,c)),p.G==3&&dc(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,tn.aa.N.call(this)};function xw(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(xw,qt);function Sw(){Zr.call(this),this.status=1}y(Sw,Zr);function uo(c){this.g=c}y(uo,Tw),uo.prototype.ua=function(){Be(this.g,"a")},uo.prototype.ta=function(c){Be(this.g,new xw(c))},uo.prototype.sa=function(c){Be(this.g,new Sw)},uo.prototype.ra=function(){Be(this.g,"b")},fc.prototype.createWebChannel=fc.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,hP=function(){return new fc},dP=function(){return ec()},cP=Er,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,fd=tc,U0.COMPLETE="complete",uP=U0,Te.EventType=_t,_t.OPEN="a",_t.CLOSE="b",_t.ERROR="c",_t.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,_l=Te,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,lP=$e}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",KE="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new lf("@firebase/firestore");function po(){return zs.logLevel}function K(t,...e){if(zs.logLevel<=me.DEBUG){const n=e.map(Iv);zs.debug(`Firestore (${Oa}): ${t}`,...n)}}function qr(t,...e){if(zs.logLevel<=me.ERROR){const n=e.map(Iv);zs.error(`Firestore (${Oa}): ${t}`,...n)}}function ma(t,...e){if(zs.logLevel<=me.WARN){const n=e.map(Iv);zs.warn(`Firestore (${Oa}): ${t}`,...n)}}function Iv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fP(t,r,n)}function fP(t,e,n){let r=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qr(r),new Error(r)}function Ee(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fP(e,i,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class X5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J5{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ji,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new pP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class Z5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Z5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=n3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function xg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const s=mP(),o=r3(s.encode(YE(t,n)),s.encode(YE(e,n)));return o!==0?o:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function YE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function r3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=-62135596800,JE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*JE);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XE)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-XE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new st(0,0))}static max(){return new le(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__name__";class er{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=er.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=er.isNumericId(e),i=er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?er.extractNumericId(e).compare(er.extractNumericId(n)):xg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class Ne extends er{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const i3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends er{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return i3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new gt([ZE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ne.fromString(e))}static fromName(e){return new te(Ne.fromString(e).popFirst(5))}static empty(){return new te(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function s3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Qi(i,te.empty(),e)}function o3(t){return new Qi(t.readTime,t.key,vu)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(le.min(),te.empty(),vu)}static max(){return new Qi(le.max(),te.empty(),vu)}}function a3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==l3)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function c3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function ff(t){return t==null}function ah(t){return t===0&&1/t==-1/0}function d3(t){return typeof t=="number"&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="";function h3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eT(e)),e=f3(t.get(n),e);return eT(e)}function f3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case yP:n+="";break;default:n+=s}}return n}function eT(t){return t+yP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new ot(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wP("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const p3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=p3.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="server_timestamp",EP="__type__",TP="__previous_value__",xP="__local_write_time__";function Cv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[EP])===null||n===void 0?void 0:n.stringValue)===_P}function pf(t){const e=t.mapValue.fields[TP];return Cv(e)?pf(e):e}function wu(t){const e=Yi(t.mapValue.fields[xP].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const lh="(default)";class _u{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__type__",IP="__max__",Bc={mapValue:{fields:{__type__:{stringValue:IP}}}},AP="__vector__",uh="value";function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:y3(t)?9007199254740991:g3(t)?10:11:oe(28295,{value:t})}function gr(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yi(i.timestampValue),a=Yi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xi(i.bytesValue).isEqual(Xi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?ah(o)===ah(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tT(o)!==tT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function ya(t,e){if(t===e)return 0;const n=Ji(t),r=Ji(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rT(t.timestampValue,e.timestampValue);case 4:return rT(wu(t),wu(e));case 5:return xg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Xi(s),l=Xi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=he(a[u],l[u]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(He(s.latitude),He(o.latitude));return a!==0?a:he(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h[uh])===null||a===void 0?void 0:a.arrayValue,y=(l=f[uh])===null||l===void 0?void 0:l.arrayValue,w=he(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:iT(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bc.mapValue&&o===Bc.mapValue)return 0;if(s===Bc.mapValue)return 1;if(o===Bc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=xg(l[h],d[h]);if(f!==0)return f;const m=ya(a[l[h]],u[d[h]]);if(m!==0)return m}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{Pe:n})}}function rT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Yi(t),r=Yi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function iT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ya(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function va(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sg(n.fields[o])}`;return i+"}"}(t.mapValue):oe(61005,{value:t})}function pd(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(t);return e?16+pd(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+pd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return eo(r.fields,(s,o)=>{i+=s.length+pd(o)}),i}(t.mapValue);default:throw oe(13486,{value:t})}}function sT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ig(t){return!!t&&"integerValue"in t}function Pv(t){return!!t&&"arrayValue"in t}function oT(t){return!!t&&"nullValue"in t}function aT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function md(t){return!!t&&"mapValue"in t}function g3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SP])===null||n===void 0?void 0:n.stringValue)===AP}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tn(Ml(this.value))}}function CP(t){const e=[];return eo(t.fields,(n,r)=>{const i=new gt([n]);if(md(r)){const s=CP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,le.min(),le.min(),le.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,le.min(),le.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,le.min(),le.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function lT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ya(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function v3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{}class Ze extends PP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _3(e,n,r):n==="array-contains"?new x3(e,r):n==="in"?new S3(e,r):n==="not-in"?new I3(e,r):n==="array-contains-any"?new A3(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E3(e,r):new T3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ya(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends PP{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kn(e,n)}matches(e){return bP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bP(t){return t.op==="and"}function RP(t){return w3(t)&&bP(t)}function w3(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Ag(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+va(t.value);if(RP(t))return t.filters.map(e=>Ag(e)).join(",");{const e=t.filters.map(n=>Ag(n)).join(",");return`${t.op}(${e})`}}function kP(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kP(o,i.filters[a]),!0):!1}(t,e):void oe(19439)}function NP(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${va(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(NP).join(" ,")+"}"}(t):"Filter"}class _3 extends Ze{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class E3 extends Ze{constructor(e,n){super(e,"in",n),this.keys=DP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T3 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=DP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class x3 extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pv(n)&&Eu(n.arrayValue,this.value)}}class S3 extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class I3 extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class A3 extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function cT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new C3(t,e,n,r,i,s,o)}function bv(t){const e=ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),e.Ie=n}return e.Ie}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function Cg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P3(t,e,n,r,i,s,o,a){return new La(t,e,n,r,i,s,o,a)}function mf(t){return new La(t)}function dT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OP(t){return t.collectionGroup!==null}function Ll(t){const e=ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Tu(s,r))}),n.has(gt.keyField().canonicalString())||e.Ee.push(new Tu(gt.keyField(),r))}return e.Ee}function ur(t){const e=ue(t);return e.de||(e.de=b3(e,Ll(t))),e.de}function b3(t,e){if(t.limitType==="F")return cT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tu(i.field,s)});const n=t.endAt?new ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ch(t.startAt.position,t.startAt.inclusive):null;return cT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bg(t,e,n){return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Rv(ur(t),ur(e))&&t.limitType===e.limitType}function VP(t){return`${bv(ur(t))}|lt:${t.limitType}`}function mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NP(i)).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>va(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>va(i)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ll(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=lT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ll(r),i)||r.endAt&&!function(o,a,l){const u=lT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ll(r),i))}(t,e)}function R3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MP(t){return(e,n)=>{let r=!1;for(const i of Ll(t)){const s=k3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function k3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ya(l,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new je(te.comparator);function Gr(){return N3}const LP=new je(te.comparator);function El(...t){let e=LP;for(const n of t)e=e.insert(n.key,n);return e}function FP(t){let e=LP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ss(){return Fl()}function jP(){return Fl()}function Fl(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const D3=new je(te.comparator),O3=new ot(te.comparator);function ge(...t){let e=O3;for(const n of t)e=e.add(n);return e}const V3=new ot(he);function M3(){return V3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function UP(t){return{integerValue:""+t}}function L3(t,e){return d3(e)?UP(e):kv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function F3(t,e,n){return t instanceof xu?function(i,s){const o={fields:{[EP]:{stringValue:_P},[xP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cv(s)&&(s=pf(s)),s&&(o.fields[TP]=s),{mapValue:o}}(n,e):t instanceof Su?$P(t,e):t instanceof Iu?zP(t,e):function(i,s){const o=BP(i,s),a=hT(o)+hT(i.Re);return Ig(o)&&Ig(i.Re)?UP(a):kv(i.serializer,a)}(t,e)}function j3(t,e,n){return t instanceof Su?$P(t,e):t instanceof Iu?zP(t,e):n}function BP(t,e){return t instanceof dh?function(r){return Ig(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xu extends vf{}class Su extends vf{constructor(e){super(),this.elements=e}}function $P(t,e){const n=WP(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends vf{constructor(e){super(),this.elements=e}}function zP(t,e){let n=WP(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class dh extends vf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function hT(t){return He(t.integerValue||t.doubleValue)}function WP(t){return Pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.field=e,this.transform=n}}function B3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Su&&i instanceof Su||r instanceof Iu&&i instanceof Iu?ga(r.elements,i.elements,gr):r instanceof dh&&i instanceof dh?gr(r.Re,i.Re):r instanceof xu&&i instanceof xu}(t.transform,e.transform)}class $3{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function HP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new GP(t.key,cr.none()):new Wu(t.key,t.data,cr.none());{const n=t.data,r=Tn.empty();let i=new ot(gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new no(t.key,r,new jn(i.toArray()),cr.none())}}function z3(t,e,n){t instanceof Wu?function(i,s,o){const a=i.value.clone(),l=pT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof no?function(i,s,o){if(!gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(qP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Wu?function(s,o,a,l){if(!gd(s.precondition,o))return a;const u=s.value.clone(),d=mT(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(s,o,a,l){if(!gd(s.precondition,o))return a;const u=mT(s.fieldTransforms,l,o),d=o.data;return d.setAll(qP(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function W3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BP(r.transform,i||null);s!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,s))}return n||null}function fT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ga(r,i,(s,o)=>B3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pT(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,j3(o,a,n[i]))}return r}function mT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,F3(s,o,e))}return r}class GP extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H3 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&z3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=HP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>fT(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>fT(n,r))}}class Nv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return D3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Nv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,ye;function Q3(t){switch(t){case B.OK:return oe(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function KP(t){if(t===void 0)return qr("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ye.OK:return B.OK;case Ye.CANCELLED:return B.CANCELLED;case Ye.UNKNOWN:return B.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return B.INTERNAL;case Ye.UNAVAILABLE:return B.UNAVAILABLE;case Ye.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ye.NOT_FOUND:return B.NOT_FOUND;case Ye.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ye.ABORTED:return B.ABORTED;case Ye.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ye.DATA_LOSS:return B.DATA_LOSS;default:return oe(39323,{code:t})}}(ye=Ye||(Ye={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Fi([4294967295,4294967295],0);function gT(t){const e=mP().encode(t),n=new aP;return n.update(e),new Uint8Array(n.digest())}function yT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,s],0)]}class Dv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Fi.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(Y3)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=gT(e),[r,i]=yT(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Dv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=gT(e),[r,i]=yT(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(le.min(),i,new je(he),Gr(),ge())}}class Hu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hu(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class QP{constructor(e,n){this.targetId=e,this.Ce=n}}class YP{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vT{constructor(){this.Fe=0,this.Me=wT(),this.xe=wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ge(),n=ge(),r=ge();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:s})}}),new Hu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=wT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class X3{constructor(e){this.ze=e,this.je=new Map,this.He=Gr(),this.Je=$c(),this.Ye=$c(),this.Ze=new je(he)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Cg(s))if(r===0){const o=new te(s.path);this.tt(n,o,kt.newNoDocument(o,le.min()))}else Ee(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Xi(r).toUint8Array()}catch(l){if(l instanceof wP)return ma("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dv(o,i,s)}catch(l){return ma(l instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Cg(a.target)){const l=new te(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,kt.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ge();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new _f(e,n,this.Ze,this.He,r);return this.He=Gr(),this.Je=$c(),this.Ye=$c(),this.Ze=new je(he),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new vT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ot(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ot(he),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $c(){return new je(te.comparator)}function wT(){return new je(te.comparator)}const J3={asc:"ASCENDING",desc:"DESCENDING"},Z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e9={and:"AND",or:"OR"};class t9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rg(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n9(t,e){return hh(t,e.toTimestamp())}function dr(t){return Ee(!!t,49232),le.fromTimestamp(function(n){const r=Yi(n);return new st(r.seconds,r.nanos)}(t))}function Ov(t,e){return kg(t,e).canonicalString()}function kg(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JP(t){const e=Ne.fromString(t);return Ee(rb(e),10190,{key:e.toString()}),e}function Ng(t,e){return Ov(t.databaseId,e.path)}function jp(t,e){const n=JP(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(eb(n))}function ZP(t,e){return Ov(t.databaseId,e)}function r9(t){const e=JP(t);return e.length===4?Ne.emptyPath():eb(e)}function Dg(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eb(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _T(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function i9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ee(d===void 0||typeof d=="string",58123),wt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:KP(u.code);return new X(d,u.message||"")}(o);n=new YP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jp(t,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):le.min(),a=new Tn({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new yd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jp(t,r.document),s=r.readTime?dr(r.readTime):le.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jp(t,r.document),s=r.removedTargetIds||[];n=new yd([],s,i,null)}else{if(!("filter"in e))return oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new K3(i,s),a=r.targetId;n=new QP(a,o)}}return n}function s9(t,e){let n;if(e instanceof Wu)n={update:_T(t,e.key,e.value)};else if(e instanceof GP)n={delete:Ng(t,e.key)};else if(e instanceof no)n={update:_T(t,e.key,e.data),updateMask:p9(e.fieldMask)};else{if(!(e instanceof H3))return oe(16599,{ft:e.type});n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof xu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:n9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe(27497)}(t,e.precondition)),n}function o9(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(le.min())&&(o=dr(s)),new $3(o,i.transformResults||[])}(n,e))):[]}function a9(t,e){return{documents:[ZP(t,e.path)]}}function l9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZP(t,i);const s=function(u){if(u.length!==0)return nb(Kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:go(f.field),direction:d9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function u9(t){let e=r9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=tb(h);return f instanceof Kn&&RP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Tu(yo(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ff(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new ch(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new ch(m,f)}(n.endAt)),P3(e,i,o,s,a,"F",l,u)}function c9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yo(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yo(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yo(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>tb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function d9(t){return J3[t]}function h9(t){return Z3[t]}function f9(t){return e9[t]}function go(t){return{fieldPath:t.canonicalString()}}function yo(t){return gt.fromServerFormat(t.fieldPath)}function nb(t){return t instanceof Ze?function(n){if(n.op==="=="){if(aT(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(oT(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aT(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(oT(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:h9(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>nb(i));return r.length===1?r[0]:{compositeFilter:{op:f9(n.op),filters:r}}}(t):oe(54877,{filter:t})}function p9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,i,s=le.min(),o=le.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.wt=e}}function g9(t){const e=u9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.yn=new v9}addToCollectionParentIndex(e,n){return this.yn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Qi.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class v9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(ib,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new wa(0)}static ir(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",w9=1048576;function xT([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class _9{constructor(e){this.cr=e,this.buffer=new ot(xT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){K(TT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ma(n)?K(TT,"Ignoring IndexedDB error during garbage collection: ",n):await Va(n)}await this.Ir(3e5)})}}class T9{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(hf.le);const r=new _9(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(ET)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),po()<=me.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function x9(t,e){return new T9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jl(r.mutation,i,jn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=El();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gr();const o=Fl(),a=function(){return Fl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof no)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),jl(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new I9(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fl();let i=new je((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||jn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=jP();d.forEach(f=>{if(!s.has(f)){const m=HP(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Ss());let a=vu,l=s;return o.next(u=>j.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:a,changes:FP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=El();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=El();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const u=function(h,f){return new La(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,kt.newInvalidDocument(d)))});let a=El();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&jl(d.mutation,u,jn.empty(),st.now()),yf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return j.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:g9(i.bundledQuery),readTime:dr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.overlays=new je(te.comparator),this.Or=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ss();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Ss(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ss(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ss(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G3(n,r));let s=this.Or.get(n);s===void 0&&(s=ge(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.Nr=new ot(ut.Br),this.Lr=new ot(ut.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new ut(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new te(new Ne([])),r=new ut(n,e),i=new ut(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new te(new Ne([])),r=new ut(n,e),i=new ut(n,e+1);let s=ge();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ut(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return te.comparator(e.key,n.key)||he(e.Gr,n.Gr)}static kr(e,n){return he(e.Gr,n.Gr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ot(ut.Br)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new q3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Av:this.Jn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(he);return n.forEach(i=>{const s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),j.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new ut(new te(s),0);let a=new ot(he);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Gr)),!0)},o),j.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return j.forEach(n.mutations,i=>{const s=new ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new ut(n,0),i=this.zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.Zr=e,this.docs=function(){return new je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||a3(o3(d),r)<=0||(i.has(d.key)||yf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe(9500)}Xr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N9(this)}getSize(e){return j.resolve(this.size)}}class N9 extends S9{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.persistence=e,this.ei=new to(n=>bv(n),Rv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ti=0,this.ni=new Vv,this.targetCount=0,this.ri=wa.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),j.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.ar(n),j.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.ii={},this.overlays={},this.si=new hf(0),this.oi=!1,this.oi=!0,this._i=new b9,this.referenceDelegate=e(this),this.ai=new D9(this),this.indexManager=new y9,this.remoteDocumentCache=function(i){return new k9(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new m9(n),this.ci=new C9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new R9(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new O9(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return j.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class O9 extends u3{constructor(e){super(),this.currentSequenceNumber=e}}class Mv{constructor(e){this.persistence=e,this.Ti=new Vv,this.Ii=null}static Ei(e){return new Mv(e)}get di(){if(this.Ii)return this.Ii;throw oe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const i=te.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return j.or([()=>j.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class fh{constructor(e,n){this.persistence=e,this.Ri=new to(r=>h3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=x9(this,n)}static Ei(e,n){return new fh(e,n)}li(){}hi(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return j.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pd(e.data.value)),n}gr(e,n,r){return j.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Lv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return m4()?8:c3(Dt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new V9;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(po()<=me.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),j.resolve()):(po()<=me.DEBUG&&K("QueryEngine","Query:",mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(po()<=me.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):j.resolve())}Rs(e,n){if(dT(n))return j.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bg(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ge(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(e,bg(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return dT(n)||i.isEqual(le.min())?j.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?j.resolve(null):(po()<=me.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mo(n)),this.ws(e,o,n,s3(i,vu)).next(a=>a))})}ps(e,n){let r=new ot(MP(e));return n.forEach((i,s)=>{yf(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return po()<=me.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",mo(n)),this.As.getDocumentsMatchingQuery(e,n,Qi.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LocalStore",L9=3e8;class F9{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new je(he),this.Ds=new to(s=>bv(s),Rv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A9(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function j9(t,e,n,r){return new F9(t,e,n,r)}async function ob(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ge();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function U9(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=j.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(w=>{const T=u.docVersions.get(y);Ee(T!==null,48541),w.version.compareTo(T)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ab(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function B9(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.ai.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.ai.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(wt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,T,E){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=L9?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,m,d)&&a.push(n.ai.updateTargetData(s,m))});let l=Gr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push($9(s,o,e.documentUpdates).next(d=>{l=d.xs,u=d.Os})),!r.isEqual(le.min())){const d=n.ai.getLastRemoteSnapshotVersion(s).next(h=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ss=i,s))}function $9(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K(Fv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function z9(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Av),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W9(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Og(t,e,n){const r=ue(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ma(o))throw o;K(Fv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function ST(t,e,n){const r=ue(t);let i=le.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ue(l),f=h.Ds.get(d);return f!==void 0?j.resolve(h.Ss.get(f)):h.ai.getTargetData(u,d)}(r,o,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ge())).next(a=>(H9(r,R3(e),a),{documents:a,Ns:s})))}function H9(t,e,n){let r=t.vs.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class IT{constructor(){this.activeTargetIds=M3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q9{constructor(){this.So=new IT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new IT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="ConnectivityMonitor";class CT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){K(AT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){K(AT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Vg(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",K9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q9{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=Vg(),a=this.$o(e,n.toUriEncodedString());K(Up,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,s);const{host:u}=new URL(a),d=af(u);return this.Ko(e,a,l,r,d).then(h=>(K(Up,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ma(Up,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=K9[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class X9 extends Q9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,s){const o=Vg();return new Promise((a,l)=>{const u=new lP;u.setWithCredentials(!0),u.listenOnce(uP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fd.NO_ERROR:const h=u.getResponseJson();K(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case fd.TIMEOUT:K(At,`RPC '${e}' ${o} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const f=u.getStatus();if(K(At,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const w=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(y.status);l(new X(w,y.message))}else l(new X(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{K(At,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);K(At,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}a_(e,n,r){const i=Vg(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hP(),a=dP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");K(At,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const y=new Y9({Go:T=>{m?K(At,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(K(At,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),K(At,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},zo:()=>h.close()}),w=(T,E,v)=>{T.listen(E,_=>{try{v(_)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,_l.EventType.OPEN,()=>{m||(K(At,`RPC '${e}' stream ${i} transport opened.`),y.t_())}),w(h,_l.EventType.CLOSE,()=>{m||(m=!0,K(At,`RPC '${e}' stream ${i} transport closed`),y.r_())}),w(h,_l.EventType.ERROR,T=>{m||(m=!0,ma(At,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),y.r_(new X(B.UNAVAILABLE,"The operation could not be completed")))}),w(h,_l.EventType.MESSAGE,T=>{var E;if(!m){const v=T.data[0];Ee(!!v,16349);const _=v,P=(_==null?void 0:_.error)||((E=_[0])===null||E===void 0?void 0:E.error);if(P){K(At,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let V=function(A){const b=Ye[A];if(b!==void 0)return KP(b)}(O),I=P.message;V===void 0&&(V=B.INTERNAL,I="Unknown error status: "+O+" with message "+P.message),m=!0,y.r_(new X(V,I)),h.close()}else K(At,`RPC '${e}' stream ${i} received:`,v),y.i_(v)}}),w(a,cP.STAT_EVENT,T=>{T.stat===Tg.PROXY?K(At,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Tg.NOPROXY&&K(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.n_()},0),y}}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new t9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="PersistentStream";class ub{constructor(e,n,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lb(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return K(PT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(K(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J9 extends ub{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=i9(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?dr(o.readTime):le.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Dg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Cg(l)?{documents:a9(s,l)}:{query:l9(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XP(s,o.resumeToken);const u=Rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=hh(s,o.snapshotVersion.toTimestamp());const u=Rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=c9(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.F_(n)}}class Z9 extends ub{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=o9(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Dg(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s9(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{}class tB extends eB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,kg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,kg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class nB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qr(n),this.ea=!1):K("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class rB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{ro(this)&&(K(Ws,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.aa.add(4),await qu(u),u.la.set("Unknown"),u.aa.delete(4),await Tf(u)}(this))})}),this.la=new nB(r,i)}}async function Tf(t){if(ro(t))for(const e of t.ua)await e(!0)}async function qu(t){for(const e of t.ua)await e(!1)}function cb(t,e){const n=ue(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),$v(n)?Bv(n):Fa(n).b_()&&Uv(n,e))}function jv(t,e){const n=ue(t),r=Fa(n);n._a.delete(e),r.b_()&&db(n,e),n._a.size===0&&(r.b_()?r.v_():ro(n)&&n.la.set("Unknown"))}function Uv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fa(t).U_(e)}function db(t,e){t.ha.Ke(e),Fa(t).K_(e)}function Bv(t){t.ha=new X3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Fa(t).start(),t.la.ta()}function $v(t){return ro(t)&&!Fa(t).w_()&&t._a.size>0}function ro(t){return ue(t).aa.size===0}function hb(t){t.ha=void 0}async function iB(t){t.la.set("Online")}async function sB(t){t._a.forEach((e,n)=>{Uv(t,e)})}async function oB(t,e){hb(t),$v(t)?(t.la.ia(e),Bv(t)):t.la.set("Unknown")}async function aB(t,e,n){if(t.la.set("Online"),e instanceof YP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){K(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(t,r)}else if(e instanceof yd?t.ha.Xe(e):e instanceof QP?t.ha.ot(e):t.ha.nt(e),!n.isEqual(le.min()))try{const r=await ab(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s._a.get(u);d&&s._a.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s._a.get(l);if(!d)return;s._a.set(l,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),db(s,l);const h=new Ai(d.target,l,u,d.sequenceNumber);Uv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Ws,"Failed to raise snapshot:",r),await ph(t,r)}}async function ph(t,e,n){if(!Ma(e))throw e;t.aa.add(1),await qu(t),t.la.set("Offline"),n||(n=()=>ab(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Ws,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Tf(t)})}function fb(t,e){return e().catch(n=>ph(t,n,e))}async function xf(t){const e=ue(t),n=Zi(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Av;for(;lB(e);)try{const i=await z9(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,uB(e,i)}catch(i){await ph(e,i)}pb(e)&&mb(e)}function lB(t){return ro(t)&&t.oa.length<10}function uB(t,e){t.oa.push(e);const n=Zi(t);n.b_()&&n.W_&&n.G_(e.mutations)}function pb(t){return ro(t)&&!Zi(t).w_()&&t.oa.length>0}function mb(t){Zi(t).start()}async function cB(t){Zi(t).H_()}async function dB(t){const e=Zi(t);for(const n of t.oa)e.G_(n.mutations)}async function hB(t,e,n){const r=t.oa.shift(),i=Nv.from(r,e,n);await fb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xf(t)}async function fB(t,e){e&&Zi(t).W_&&await async function(r,i){if(function(o){return Q3(o)&&o!==B.ABORTED}(i.code)){const s=r.oa.shift();Zi(r).D_(),await fb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xf(r)}}(t,e),pb(t)&&mb(t)}async function bT(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K(Ws,"RemoteStore received new credentials");const r=ro(n);n.aa.add(3),await qu(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Tf(n)}async function pB(t,e){const n=ue(t);e?(n.aa.delete(2),await Tf(n)):e||(n.aa.add(2),await qu(n),n.la.set("Unknown"))}function Fa(t){return t.Pa||(t.Pa=function(n,r,i){const s=ue(n);return s.Y_(),new J9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:iB.bind(null,t),Jo:sB.bind(null,t),Zo:oB.bind(null,t),Q_:aB.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),$v(t)?Bv(t):t.la.set("Unknown")):(await t.Pa.stop(),hb(t))})),t.Pa}function Zi(t){return t.Ta||(t.Ta=function(n,r,i){const s=ue(n);return s.Y_(),new Z9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:cB.bind(null,t),Zo:fB.bind(null,t),z_:dB.bind(null,t),j_:hB.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await xf(t)):(await t.Ta.stop(),t.oa.length>0&&(K(Ws,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(qr("AsyncQueue",`${e}: ${t}`),Ma(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=El(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.Ia=new je(te.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):oe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class _a{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _a(e,n,Yo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class gB{constructor(){this.queries=kT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=kT(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new X(B.ABORTED,"Firestore shutting down"))}}function kT(){return new to(t=>VP(t),gf)}async function gb(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new mB,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Wv(o,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&Hv(n)}async function yb(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yB(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&Hv(n)}function vB(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function Hv(t){t.fa.forEach(e=>{e.next()})}var Mg,NT;(NT=Mg||(Mg={})).ya="default",NT.Cache="cache";class vb{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.key=e}}class _b{constructor(e){this.key=e}}class wB{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ge(),this.mutatedKeys=ge(),this.Ua=MP(e),this.Ka=new Yo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new RT,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=yf(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),T=!0):this.ja(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.Ua(m,l)>0||u&&this.Ua(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,h)=>function(m,y){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Vt:T})}};return w(m)-w(y)}(d.type,h.type)||this.Ua(d.doc,h.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new _a(this.query,e.Ka,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new RT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ge(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new _b(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new wb(r))}),n}Xa(e){this.qa=e.Ns,this.$a=ge();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return _a.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const qv="SyncEngine";class _B{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EB{constructor(e){this.key=e,this.tu=!1}}class TB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new to(a=>VP(a),gf),this.iu=new Map,this.su=new Set,this.ou=new je(te.comparator),this._u=new Map,this.au=new Vv,this.uu={},this.cu=new Map,this.lu=wa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function xB(t,e,n=!0){const r=Ab(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await Eb(r,e,n,!0),i}async function SB(t,e){const n=Ab(t);await Eb(n,e,!0,!1)}async function Eb(t,e,n,r){const i=await W9(t.localStore,ur(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await IB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cb(t.remoteStore,i),a}async function IB(t,e,n,r,i){t.Pu=(h,f,m)=>async function(w,T,E,v){let _=T.view.Ga(E);_.ys&&(_=await ST(w.localStore,T.query,!1).then(({documents:I})=>T.view.Ga(I,_)));const P=v&&v.targetChanges.get(T.targetId),O=v&&v.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(_,w.isPrimaryClient,P,O);return OT(w,T.targetId,V.Ya),V.snapshot}(t,h,f,m);const s=await ST(t.localStore,e,!0),o=new wB(e,s.Ns),a=o.Ga(s.documents),l=Hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);OT(t,n,u.Ya);const d=new _B(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function AB(t,e,n){const r=ue(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!gf(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Og(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jv(r.remoteStore,i.targetId),Lg(r,i.targetId)}).catch(Va)):(Lg(r,i.targetId),await Og(r.localStore,i.targetId,!0))}async function CB(t,e){const n=ue(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jv(n.remoteStore,r.targetId))}async function PB(t,e,n){const r=VB(t);try{const i=await function(o,a){const l=ue(o),u=st.now(),d=a.reduce((m,y)=>m.add(y.key),ge());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Gr(),w=ge();return l.Cs.getEntries(m,d).next(T=>{y=T,y.forEach((E,v)=>{v.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(T=>{h=T;const E=[];for(const v of a){const _=W3(v,h.get(v.key).overlayedDocument);_!=null&&E.push(new no(v.key,_,CP(_.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,a)}).next(T=>{f=T;const E=T.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,T.batchId,E)})}).then(()=>({batchId:f.batchId,changes:FP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new je(he)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gu(r,i.changes),await xf(r.remoteStore)}catch(i){const s=Wv(i,"Failed to persist write");n.reject(s)}}async function Tb(t,e){const n=ue(t);try{const r=await B9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Ee(o.tu,14607):i.removedDocuments.size>0&&(Ee(o.tu,42227),o.tu=!1))}),await Gu(n,r,e)}catch(r){await Va(r)}}function DT(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Ra)f.ga(a)&&(u=!0)}),u&&Hv(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bB(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new je(te.comparator);o=o.insert(s,kt.newNoDocument(s,le.min()));const a=ge().add(s),l=new _f(le.min(),new Map,new je(he),o,a);await Tb(r,l),r.ou=r.ou.remove(s),r._u.delete(e),Gv(r)}else await Og(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(Va)}async function RB(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await U9(n.localStore,e);Sb(n,r,null),xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,i)}catch(i){await Va(i)}}async function kB(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ee(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Sb(r,e,n),xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gu(r,i)}catch(i){await Va(i)}}function xb(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Sb(t,e,n){const r=ue(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Ib(t,r)})}function Ib(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(jv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Gv(t))}function OT(t,e,n){for(const r of n)r instanceof wb?(t.au.addReference(r.key,e),NB(t,r)):r instanceof _b?(K(qv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Ib(t,r.key)):oe(19791,{Iu:r})}function NB(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(K(qv,"New document in limbo: "+n),t.su.add(r),Gv(t))}function Gv(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new te(Ne.fromString(e)),r=t.lu.next();t._u.set(r,new EB(n)),t.ou=t.ou.insert(n,r),cb(t.remoteStore,new Ai(ur(mf(n.path)),r,"TargetPurposeLimboResolution",hf.le))}}async function Gu(t,e,n){const r=ue(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Lv.Ps(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(u,f=>j.forEach(f.ls,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>j.forEach(f.hs,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Ma(h))throw h;K(Fv,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ss.get(f),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.Ss=d.Ss.insert(f,w)}}}(r.localStore,s))}async function DB(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K(qv,"User change. New user:",e.toKey());const r=await ob(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new X(B.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.Ms)}}function OB(t,e){const n=ue(t),r=n._u.get(e);if(r&&r.tu)return ge().add(r.key);{let i=ge();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function Ab(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bB.bind(null,e),e.nu.Q_=yB.bind(null,e.eventManager),e.nu.Tu=vB.bind(null,e.eventManager),e}function VB(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kB.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return j9(this.persistence,new M9,e.initialUser,this.serializer)}Ru(e){return new sb(Mv.Ei,this.serializer)}Au(e){return new q9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class MB extends mh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ee(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E9(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new sb(r=>fh.Ei(r,n),this.serializer)}}class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DB.bind(null,this.syncEngine),await pB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gB}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=function(s){return new X9(s)}(e.databaseInfo);return function(s,o,a,l){return new tB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new rB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DT(this.syncEngine,n,0),function(){return CT.C()?new CT:new G9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new TB(i,s,o,a,l,u);return d&&(h.hu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);K(Ws,"RemoteStore shutting down."),s.aa.add(5),await qu(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fg.provider={build:()=>new Fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class LB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=gP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(es,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(es,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $p(t,e){t.asyncQueue.verifyOperationInProgress(),K(es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ob(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FB(t);K(es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bT(e.remoteStore,i)),t._onlineComponents=e}async function FB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(es,"Using user provided OfflineComponentProvider");try{await $p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await $p(t,new mh)}}else K(es,"Using default OfflineComponentProvider"),await $p(t,new MB(void 0));return t._offlineComponents}async function Pb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(es,"Using user provided OnlineComponentProvider"),await VT(t,t._uninitializedComponentsProvider._online)):(K(es,"Using default OnlineComponentProvider"),await VT(t,new Fg))),t._onlineComponents}function jB(t){return Pb(t).then(e=>e.syncEngine)}async function jg(t){const e=await Pb(t),n=e.eventManager;return n.onListen=xB.bind(null,e.syncEngine),n.onUnlisten=AB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CB.bind(null,e.syncEngine),n}function UB(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Cb({next:f=>{d.yu(),o.enqueueAndForget(()=>yb(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new X(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new vb(mf(a.path),d,{includeMetadataChanges:!0,Fa:!0});return gb(s,h)}(await jg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BB(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LT(t){if(!te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FT(t){if(te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",jT=!0;class UT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=jT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w9)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y5;switch(r.type){case"firstParty":return new e3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MT.get(n);r&&(K("ComponentProvider","Removing Datastore"),MT.delete(n),r.terminate())}(this),Promise.resolve()}}function $B(t,e,n,r={}){var i;t=Vr(t,If);const s=af(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&_C(`https://${l}`),o.host!==kb&&o.host!==l&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Ki(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=bt.MOCK_USER;else{d=u4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new bt(f)}t._authCredentials=new X5(new pP(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Ui extends io{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new te(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Nb(t,e,...n){if(t=Ot(t),Rb("collection","path",e),t instanceof If){const r=Ne.fromString(e,...n);return FT(r),new Ui(t,null,r)}{if(!(t instanceof Bt||t instanceof Ui))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return FT(r),new Ui(t.firestore,null,r)}}function Kv(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=gP.newId()),Rb("doc","path",e),t instanceof If){const r=Ne.fromString(e,...n);return LT(r),new Bt(t,null,new te(r))}{if(!(t instanceof Bt||t instanceof Ui))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return LT(r),new Bt(t.firestore,t instanceof Ui?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lb(this,"async_queue_retry"),this.ju=()=>{const r=Bp();r&&K(BT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ji;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ma(e))throw e;K(BT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,qr("INTERNAL UNHANDLED ERROR: ",zT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=zv.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&oe(47125,{ec:zT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ea extends If{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $T,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function zB(t,e){const n=typeof t=="object"?t:mv(),r=typeof t=="string"?t:lh,i=Js(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=a4("firestore");s&&$B(i,...s)}return i}function Qv(t){if(t._terminated)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WB(t),t._firestoreClient}function WB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new m3(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new LB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(wt.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=/^__.*__$/;class qB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}function Db(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{oc:t})}}class e0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new e0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return gh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Db(this.oc)&&HB.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class GB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}dc(e,n,r,i=!1){return new e0({oc:e,methodName:n,Ec:r,path:gt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new GB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ob(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);Lb("Data must be an object, but it was:",o,r);const a=Vb(r,o);let l,u;if(s.merge)l=new jn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=QB(e,h,n);if(!o.contains(f))throw new X(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);XB(d,f)||d.push(f)}l=new jn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new qB(new Tn(a),l,u)}class n0 extends Xv{_toFieldTransform(e){return new U3(e.path,new xu)}isEqual(e){return e instanceof n0}}function KB(t,e,n,r=!1){return r0(n,t.dc(r?4:3,e))}function r0(t,e){if(Mb(t=Ot(t)))return Lb("Unsupported field value:",e,t),Vb(t,e);if(t instanceof Xv)return function(r,i){if(!Db(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=r0(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:hh(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(i.serializer,s)}}if(r instanceof Jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ta)return{bytesValue:XP(i.serializer,r._byteString)};if(r instanceof Bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ov(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zv)return function(o,a){return{mapValue:{fields:{[SP]:{stringValue:AP},[uh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return kv(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Sf(r)}`)}(t,e)}function Vb(t,e){const n={};return vP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,i)=>{const s=r0(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Jv||t instanceof Ta||t instanceof Bt||t instanceof Xv||t instanceof Zv)}function Lb(t,e,n){if(!Mb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sf(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function QB(t,e,n){if((e=Ot(e))instanceof Yv)return e._internalPath;if(typeof e=="string")return Fb(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const YB=new RegExp("[~\\*/\\[\\]]");function Fb(t,e,n){if(e.search(YB)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yv(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(B.INVALID_ARGUMENT,a+t+l)}function XB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JB extends jb{data(){return super.data()}}function i0(t,e){return typeof e=="string"?Fb(t,e):e instanceof Yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}class Ub extends s0{}function e$(t,e,...n){let r=[];e instanceof s0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof a0).length,a=s.filter(l=>l instanceof o0).length;if(o>1||o>0&&a>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class o0 extends Ub{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new o0(e,n,r)}_apply(e){const n=this._parse(e);return Bb(e._query,n),new io(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=t0(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qT(h,d);const y=[];for(const w of h)y.push(HT(l,s,w));f={arrayValue:{values:y}}}else f=HT(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qT(h,d),f=KB(a,o,h,d==="in"||d==="not-in");return Ze.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class a0 extends s0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Bb(o,l),o=Pg(o,l)}(e._query,n),new io(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l0 extends Ub{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new l0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(s,o)}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new La(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function t$(t,e="asc"){const n=e,r=i0("orderBy",t);return l0._create(r,n)}function HT(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OP(e)&&n.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!te.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sT(t,new te(r))}if(n instanceof Bt)return sT(t,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function qT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n${convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[uh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new Zv(s)}convertGeoPoint(e){return new Jv(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Ee(rb(r),9688,{name:e});const i=new _u(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends jb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vd extends zb{data(e={}){return super.data(e)}}class r${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vd(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new vd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new vd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:i$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){t=Vr(t,Bt);const e=Vr(t.firestore,Ea);return UB(Qv(e),t._key).then(n=>Gb(e,t,n))}class Hb extends n${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function s$(t,e,n){t=Vr(t,Bt);const r=Vr(t.firestore,Ea),i=$b(t.converter,e,n);return qb(r,[Ob(t0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function o$(t,e){const n=Vr(t.firestore,Ea),r=Kv(t),i=$b(t.converter,e);return qb(n,[Ob(t0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function a$(t,...e){var n,r,i;t=Ot(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||WT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(WT(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof Bt)u=Vr(t.firestore,Ea),d=mf(t._key.path),l={next:h=>{e[o]&&e[o](Gb(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Vr(t,io);u=Vr(h.firestore,Ea),d=h._query;const f=new Hb(u);l={next:m=>{e[o]&&e[o](new r$(u,f,h,m))},error:e[o+1],complete:e[o+2]},ZB(t._query)}return function(f,m,y,w){const T=new Cb(w),E=new vb(m,T,y);return f.asyncQueue.enqueueAndForget(async()=>gb(await jg(f),E)),()=>{T.yu(),f.asyncQueue.enqueueAndForget(async()=>yb(await jg(f),E))}}(Qv(u),d,a,l)}function qb(t,e){return function(r,i){const s=new ji;return r.asyncQueue.enqueueAndForget(async()=>PB(await jB(r),i,s)),s.promise}(Qv(t),e)}function Gb(t,e,n){const r=n.docs.get(e._key),i=new Hb(t);return new zb(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function l$(){return new n0("serverTimestamp")}(function(e,n=!0){(function(i){Oa=i})(Na),mr(new qn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ea(new J5(r.getProvider("auth-internal")),new t3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),In(GE,KE,e),In(GE,KE,"esm2017")})();const Kb="@firebase/installations",u0="0.6.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1e4,Yb=`w:${u0}`,Xb="FIS_v2",u$="https://firebaseinstallations.googleapis.com/v1",c$=60*60*1e3,d$="installations",h$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hs=new Xs(d$,h$,f$);function Jb(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb({projectId:t}){return`${u$}/projects/${t}/installations`}function eR(t){return{token:t.token,requestStatus:2,expiresIn:m$(t.expiresIn),creationTime:Date.now()}}async function tR(t,e){const r=(await e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p$(t,{refreshToken:e}){const n=nR(t);return n.append("Authorization",g$(e)),n}async function rR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function m$(t){return Number(t.replace("s","000"))}function g$(t){return`${Xb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Zb(t),i=nR(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Xb,appId:t.appId,sdkVersion:Yb},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:eR(u.authToken)}}else throw await tR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=/^[cdef][\w-]{21}$/,Ug="";function _$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=E$(t);return w$.test(n)?n:Ug}catch{return Ug}}function E$(t){return v$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Map;function oR(t,e){const n=Af(t);aR(n,e),T$(n,e)}function aR(t,e){const n=sR.get(t);if(n)for(const r of n)r(e)}function T$(t,e){const n=x$();n&&n.postMessage({key:t,fid:e}),S$()}let Is=null;function x$(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{aR(t.data.key,t.data.fid)}),Is}function S$(){sR.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="firebase-installations-database",A$=1,qs="firebase-installations-store";let zp=null;function c0(){return zp||(zp=xC(I$,A$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qs)}}})),zp}async function yh(t,e){const n=Af(t),i=(await c0()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&oR(t,e.fid),e}async function lR(t){const e=Af(t),r=(await c0()).transaction(qs,"readwrite");await r.objectStore(qs).delete(e),await r.done}async function Cf(t,e){const n=Af(t),i=(await c0()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&oR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){let e;const n=await Cf(t.appConfig,r=>{const i=C$(r),s=P$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ug?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function C$(t){const e=t||{fid:_$(),registrationStatus:0};return uR(e)}function P$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Hs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=b$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:R$(t)}:{installationEntry:e}}async function b$(t,e){try{const n=await y$(t,e);return yh(t.appConfig,n)}catch(n){throw Jb(n)&&n.customData.serverCode===409?await lR(t.appConfig):await yh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function R$(t){let e=await GT(t.appConfig);for(;e.registrationStatus===1;)await iR(100),e=await GT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await d0(t);return r||n}return e}function GT(t){return Cf(t,e=>{if(!e)throw Hs.create("installation-not-found");return uR(e)})}function uR(t){return k$(t)?{fid:t.fid,registrationStatus:0}:t}function k$(t){return t.registrationStatus===1&&t.registrationTime+Qb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$({appConfig:t,heartbeatServiceProvider:e},n){const r=D$(t,n),i=p$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Yb,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rR(()=>fetch(r,a));if(l.ok){const u=await l.json();return eR(u)}else throw await tR("Generate Auth Token",l)}function D$(t,{fid:e}){return`${Zb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(t,e=!1){let n;const r=await Cf(t.appConfig,s=>{if(!cR(s))throw Hs.create("not-registered");const o=s.authToken;if(!e&&M$(o))return s;if(o.requestStatus===1)return n=O$(t,e),s;{if(!navigator.onLine)throw Hs.create("app-offline");const a=F$(s);return n=V$(t,a),a}});return n?await n:r.authToken}async function O$(t,e){let n=await KT(t.appConfig);for(;n.authToken.requestStatus===1;)await iR(100),n=await KT(t.appConfig);const r=n.authToken;return r.requestStatus===0?h0(t,e):r}function KT(t){return Cf(t,e=>{if(!cR(e))throw Hs.create("not-registered");const n=e.authToken;return j$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function V$(t,e){try{const n=await N$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await yh(t.appConfig,r),n}catch(n){if(Jb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yh(t.appConfig,r)}throw n}}function cR(t){return t!==void 0&&t.registrationStatus===2}function M$(t){return t.requestStatus===2&&!L$(t)}function L$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+c$}function F$(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function j$(t){return t.requestStatus===1&&t.requestTime+Qb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t){const e=t,{installationEntry:n,registrationPromise:r}=await d0(e);return r?r.catch(console.error):h0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e=!1){const n=t;return await $$(n),(await h0(n,e)).token}async function $$(t){const{registrationPromise:e}=await d0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){if(!t||!t.options)throw Wp("App Configuration");if(!t.name)throw Wp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Wp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Wp(t){return Hs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="installations",W$="installations-internal",H$=t=>{const e=t.getProvider("app").getImmediate(),n=z$(e),r=Js(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},q$=t=>{const e=t.getProvider("app").getImmediate(),n=Js(e,dR).getImmediate();return{getId:()=>U$(n),getToken:i=>B$(n,i)}};function G$(){mr(new qn(dR,H$,"PUBLIC")),mr(new qn(W$,q$,"PRIVATE"))}G$();In(Kb,u0);In(Kb,u0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="analytics",K$="firebase_id",Q$="origin",Y$=60*1e3,X$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",f0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cn=new Xs("analytics","Analytics",J$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t){if(!t.startsWith(f0)){const e=cn.create("invalid-gtag-resource",{gtagURL:t});return Zt.warn(e.message),""}return t}function hR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function e6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function t6(t,e){const n=e6("firebase-js-sdk-policy",{createScriptURL:Z$}),r=document.createElement("script"),i=`${f0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function n6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function r6(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await hR(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Zt.error(a)}t("config",i,s)}async function i6(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await hR(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Zt.error(s)}}function s6(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await i6(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await r6(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Zt.error(a)}}return i}function o6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=s6(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function a6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(f0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=30,u6=1e3;class c6{constructor(e={},n=u6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fR=new c6;function d6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function h6(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:d6(r)},s=X$.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function f6(t,e=fR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw cn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw cn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new g6;return setTimeout(async()=>{a.abort()},Y$),pR({appId:r,apiKey:i,measurementId:s},o,a,e)}async function pR(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fR){var s;const{appId:o,measurementId:a}=t;try{await p6(r,e)}catch(l){if(a)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await h6(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!m6(u)){if(i.deleteThrottleMetadata(o),a)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?vE(n,i.intervalMillis,l6):vE(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),Zt.debug(`Calling attemptFetch again in ${d} millis`),pR(t,h,r,i)}}function p6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m6(t){if(!(t instanceof Qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class g6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function y6(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(){if(vC())try{await wC()}catch(t){return Zt.warn(cn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zt.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function w6(t,e,n,r,i,s,o){var a;const l=f6(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Zt.error(m)),e.push(l);const u=v6().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([l,u]);a6(s)||t6(s,d.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[Q$]="firebase",f.update=!0,h!=null&&(f[K$]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},QT=[];const YT={};let Hp="dataLayer",E6="gtag",XT,mR,JT=!1;function T6(){const t=[];if(yC()&&t.push("This is a browser extension environment."),g4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=cn.create("invalid-analytics-context",{errorInfo:e});Zt.warn(n.message)}}function x6(t,e,n){T6();const r=t.options.appId;if(!r)throw cn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cn.create("no-api-key");if(Ul[r]!=null)throw cn.create("already-exists",{id:r});if(!JT){n6(Hp);const{wrappedGtag:s,gtagCore:o}=o6(Ul,QT,YT,Hp,E6);mR=s,XT=o,JT=!0}return Ul[r]=w6(t,QT,YT,e,XT,Hp,n),new _6(t)}function S6(t=mv()){t=Ot(t);const e=Js(t,vh);return e.isInitialized()?e.getImmediate():I6(t)}function I6(t,e={}){const n=Js(t,vh);if(n.isInitialized()){const i=n.getImmediate();if(Ki(e,n.getOptions()))return i;throw cn.create("already-initialized")}return n.initialize({options:e})}function A6(t,e,n,r){t=Ot(t),y6(mR,Ul[t.app.options.appId],e,n,r).catch(i=>Zt.error(i))}const ZT="@firebase/analytics",e1="0.10.13";function C6(){mr(new qn(vh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return x6(r,i,n)},"PUBLIC")),mr(new qn("analytics-internal",t,"PRIVATE")),In(ZT,e1),In(ZT,e1,"esm2017");function t(e){try{const n=e.getProvider(vh).getImmediate();return{logEvent:(r,i,s)=>A6(n,r,i,s)}}catch(n){throw cn.create("interop-component-reg-failed",{reason:n})}}}C6();const P6={apiKey:"AIzaSyB-gHHe5mhDgvbnqsSL1bYWzEMyO-TtOws",authDomain:"fake-or-safe.firebaseapp.com",projectId:"fake-or-safe",storageBucket:"fake-or-safe.firebasestorage.app",messagingSenderId:"851070454054",appId:"1:851070454054:web:fb4cc6119906bcc99199e7"},p0=SC(P6);S6(p0);const Do=q5(p0),wh=zB(p0),vo=S.forwardRef(({className:t,type:e,...n},r)=>k.jsx("input",{type:e,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vo.displayName="Input";var b6="Label",gR=S.forwardRef((t,e)=>k.jsx(Wt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gR.displayName=b6;var yR=gR;const R6=Zy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wo=S.forwardRef(({className:t,...e},n)=>k.jsx(yR,{ref:n,className:at(R6(),t),...e}));wo.displayName=yR.displayName;const k6=()=>{const[t,e]=S.useState(!0),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(""),[f,m]=S.useState(null),y=oC(),w=async T=>{if(T.preventDefault(),m(null),!t&&l!==d){m("Passwords do not match.");return}try{t?await DU(Do,i,l):await NU(Do,i,l),y("/game")}catch(E){m(E.message||"Authentication failed")}};return k.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-center items-center game-container",children:[k.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:k.jsx(sf,{className:"w-[120vh] h-[120vh] opacity-20"})}),k.jsxs("div",{className:"flex flex-col items-center justify-center z-10 w-full max-w-md p-6",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-4 animate-slide-in",children:[k.jsx(Kh,{className:"text-game-cyan w-8 h-8"}),k.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Fraud",k.jsx("span",{className:"text-game-cyan",children:"Safe"})]})]}),k.jsxs("div",{className:"bg-card/80 backdrop-blur-md p-6 rounded-2xl w-full max-w-md shadow-xl border border-border/50 glowing-border animate-slide-in",style:{animationDelay:"0.1s"},children:[k.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:t?"Log In":"Register yourself"}),f&&k.jsx("div",{className:"text-sm text-red-500 text-center mb-4",children:f}),k.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!t&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx(wo,{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),k.jsxs("div",{className:"relative",children:[k.jsx(aA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),k.jsx(vo,{id:"name",type:"text",value:n,onChange:T=>r(T.target.value),className:"pl-10 bg-background/60 focus:bg-background/80 transition-colors",placeholder:"Enter your name",required:!0})]})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(wo,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone No."}),k.jsxs("div",{className:"relative",children:[k.jsx(BV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),k.jsx(vo,{id:"phone",type:"tel",value:o,onChange:T=>a(T.target.value),className:"pl-10 bg-background/60 focus:bg-background/80 transition-colors",placeholder:"+1 234 567 8901",required:!0})]})]})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(wo,{htmlFor:"email",className:"text-sm font-medium",children:"Email ID"}),k.jsxs("div",{className:"relative",children:[k.jsx(UV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),k.jsx(vo,{id:"email",type:"email",value:i,onChange:T=>s(T.target.value),className:"pl-10 bg-background/60 focus:bg-background/80 transition-colors",placeholder:"your@email.com",required:!0})]})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx(wo,{htmlFor:"password",className:"text-sm font-medium",children:t?"Password":"Enter Password"}),k.jsxs("div",{className:"relative",children:[k.jsx(B_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),k.jsx(vo,{id:"password",type:"password",value:l,onChange:T=>u(T.target.value),className:"pl-10 bg-background/60 focus:bg-background/80 transition-colors",placeholder:"",required:!0})]})]}),!t&&k.jsxs("div",{className:"space-y-2",children:[k.jsx(wo,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),k.jsxs("div",{className:"relative",children:[k.jsx(B_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),k.jsx(vo,{id:"confirmPassword",type:"password",value:d,onChange:T=>h(T.target.value),className:"pl-10 bg-background/60 focus:bg-background/80 transition-colors",placeholder:"",required:!0})]})]}),k.jsx("div",{className:"pt-4",children:k.jsx(fv,{type:"submit",className:"w-full",size:"lg",children:t?k.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Log In ",k.jsx(oA,{className:"w-4 h-4"})]}):"Register"})})]}),k.jsx("div",{className:"mt-6 text-center text-sm",children:k.jsxs("p",{className:"text-muted-foreground",children:[t?"Don't have an account?":"Already have an account?",k.jsx("button",{onClick:()=>e(!t),className:"ml-1 text-game-cyan hover:underline",children:t?"Register":"Log in"})]})})]})]})]})},vR=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Pf=S.createContext({}),bf=S.createContext(null),Rf=typeof document<"u",m0=Rf?S.useLayoutEffect:S.useEffect,wR=S.createContext({strict:!1}),g0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),N6="framerAppearId",_R="data-"+g0(N6);function D6(t,e,n,r){const{visualElement:i}=S.useContext(Pf),s=S.useContext(wR),o=S.useContext(bf),a=S.useContext(vR).reducedMotion,l=S.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(n,o)});const d=S.useRef(!!(n[_R]&&!window.HandoffComplete));return m0(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Oo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O6(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Oo(n)&&(n.current=r))},[e])}function Au(t){return typeof t=="string"||Array.isArray(t)}function kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const y0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v0=["initial",...y0];function Nf(t){return kf(t.animate)||v0.some(e=>Au(t[e]))}function ER(t){return!!(Nf(t)||t.variants)}function V6(t,e){if(Nf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Au(n)?n:void 0,animate:Au(r)?r:void 0}}return t.inherit!==!1?e:{}}function M6(t){const{initial:e,animate:n}=V6(t,S.useContext(Pf));return S.useMemo(()=>({initial:e,animate:n}),[t1(e),t1(n)])}function t1(t){return Array.isArray(t)?t.join(" "):t}const n1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cu={};for(const t in n1)Cu[t]={isEnabled:e=>n1[t].some(n=>!!e[n])};function L6(t){for(const e in t)Cu[e]={...Cu[e],...t[e]}}const w0=S.createContext({}),TR=S.createContext({}),F6=Symbol.for("motionComponentSymbol");function j6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&L6(t);function s(a,l){let u;const d={...S.useContext(vR),...a,layoutId:U6(a)},{isStatic:h}=d,f=M6(a),m=r(a,h);if(!h&&Rf){f.visualElement=D6(i,m,d,e);const y=S.useContext(TR),w=S.useContext(wR).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,w,t,y))}return S.createElement(Pf.Provider,{value:f},u&&f.visualElement?S.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,a,O6(m,f.visualElement,l),m,h,f.visualElement))}const o=S.forwardRef(s);return o[F6]=i,o}function U6({layoutId:t}){const e=S.useContext(w0).id;return e&&t!==void 0?e+"-"+t:t}function B6(t){function e(r,i={}){return j6(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const $6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _0(t){return typeof t!="string"||t.includes("-")?!1:!!($6.indexOf(t)>-1||/[A-Z]/.test(t))}const _h={};function z6(t){Object.assign(_h,t)}const Ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],so=new Set(Ku);function xR(t,{layout:e,layoutId:n}){return so.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_h[t]||t==="opacity")}const en=t=>!!(t&&t.getVelocity),W6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H6=Ku.length;function q6(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<H6;o++){const a=Ku[o];if(t[a]!==void 0){const l=W6[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const SR=t=>e=>typeof e=="string"&&e.startsWith(t),IR=SR("--"),Bg=SR("var(--"),G6=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,K6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ts=(t,e,n)=>Math.min(Math.max(n,t),e),oo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bl={...oo,transform:t=>ts(0,1,t)},Wc={...oo,default:1},$l=t=>Math.round(t*1e5)/1e5,Df=/(-)?([\d]*\.?[\d])+/g,AR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Q6=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Qu(t){return typeof t=="string"}const Yu=t=>({test:e=>Qu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),li=Yu("deg"),hr=Yu("%"),ie=Yu("px"),Y6=Yu("vh"),X6=Yu("vw"),r1={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},i1={...oo,transform:Math.round},CR={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,size:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,rotate:li,rotateX:li,rotateY:li,rotateZ:li,scale:Wc,scaleX:Wc,scaleY:Wc,scaleZ:Wc,skew:li,skewX:li,skewY:li,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:Bl,originX:r1,originY:r1,originZ:ie,zIndex:i1,fillOpacity:Bl,strokeOpacity:Bl,numOctaves:i1};function E0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(IR(h)){s[h]=f;continue}const m=CR[h],y=K6(f,m);if(so.has(h)){if(l=!0,o[h]=y,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):i[h]=y}if(e.transform||(l||r?i.transform=q6(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const T0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PR(t,e,n){for(const r in e)!en(e[r])&&!xR(r,n)&&(t[r]=e[r])}function J6({transformTemplate:t},e,n){return S.useMemo(()=>{const r=T0();return E0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Z6(t,e,n){const r=t.style||{},i={};return PR(i,r,t),Object.assign(i,J6(t,e,n)),t.transformValues?t.transformValues(i):i}function ez(t,e,n){const r={},i=Z6(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const tz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tz.has(t)}let bR=t=>!Eh(t);function nz(t){t&&(bR=e=>e.startsWith("on")?!Eh(e):t(e))}try{nz(require("@emotion/is-prop-valid").default)}catch{}function rz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(bR(i)||n===!0&&Eh(i)||!e&&!Eh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s1(t,e,n){return typeof t=="string"?t:ie.transform(e+n*t)}function iz(t,e,n){const r=s1(e,t.x,t.width),i=s1(n,t.y,t.height);return`${r} ${i}`}const sz={offset:"stroke-dashoffset",array:"stroke-dasharray"},oz={offset:"strokeDashoffset",array:"strokeDasharray"};function az(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?sz:oz;t[s.offset]=ie.transform(-r);const o=ie.transform(e),a=ie.transform(n);t[s.array]=`${o} ${a}`}function x0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(E0(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:w}=t;m.transform&&(w&&(y.transform=m.transform),delete m.transform),w&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=iz(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&az(m,o,a,l,!1)}const RR=()=>({...T0(),attrs:{}}),S0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lz(t,e,n,r){const i=S.useMemo(()=>{const s=RR();return x0(s,e,{enableHardwareAcceleration:!1},S0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};PR(s,t.style,t),i.style={...s,...i.style}}return i}function uz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(_0(n)?lz:ez)(r,s,o,n),d={...rz(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=S.useMemo(()=>en(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function kR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const NR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DR(t,e,n,r){kR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NR.has(i)?i:g0(i),e.attrs[i])}function I0(t,e){const{style:n}=t,r={};for(const i in n)(en(n[i])||e.style&&en(e.style[i])||xR(i,t))&&(r[i]=n[i]);return r}function OR(t,e){const n=I0(t,e);for(const r in t)if(en(t[r])||en(e[r])){const i=Ku.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function A0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function VR(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Th=t=>Array.isArray(t),cz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),dz=t=>Th(t)?t[t.length-1]||0:t;function wd(t){const e=en(t)?t.get():t;return cz(e)?e.toValue():e}function hz({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:fz(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const MR=t=>(e,n)=>{const r=S.useContext(Pf),i=S.useContext(bf),s=()=>hz(t,e,r,i);return n?s():VR(s)};function fz(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=wd(s[f]);let{initial:o,animate:a}=t;const l=Nf(t),u=ER(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!kf(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=A0(t,m);if(!y)return;const{transitionEnd:w,transition:T,...E}=y;for(const v in E){let _=E[v];if(Array.isArray(_)){const P=d?_.length-1:0;_=_[P]}_!==null&&(i[v]=_)}for(const v in w)i[v]=w[v]}),i}const Ge=t=>t;class o1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function pz(t){let e=new o1,n=new o1,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Hc=["prepare","read","update","preRender","render","postRender"],mz=40;function gz(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Hc.reduce((h,f)=>(h[f]=pz(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,mz),1),i.timestamp=h,i.isProcessing=!0,Hc.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Hc.reduce((h,f)=>{const m=s[f];return h[f]=(y,w=!1,T=!1)=>(n||l(),m.schedule(y,w,T)),h},{}),cancel:h=>Hc.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Pe,cancel:Kr,state:Pt,steps:qp}=gz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0),yz={useVisualState:MR({scrapeMotionValuesFromProps:OR,createRenderState:RR,onMount:(t,e,{renderState:n,latestValues:r})=>{Pe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Pe.render(()=>{x0(n,r,{enableHardwareAcceleration:!1},S0(e.tagName),t.transformTemplate),DR(e,n)})}})},vz={useVisualState:MR({scrapeMotionValuesFromProps:I0,createRenderState:T0})};function wz(t,{forwardMotionProps:e=!1},n,r){return{..._0(t)?yz:vz,preloadedFeatures:n,useRender:uz(e),createVisualElement:r,Component:t}}function Nr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const LR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Of(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _z=t=>e=>LR(e)&&t(e,Of(e));function Mr(t,e,n,r){return Nr(t,e,_z(n),r)}const Ez=(t,e)=>n=>e(t(n)),Bi=(...t)=>t.reduce(Ez);function FR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const a1=FR("dragHorizontal"),l1=FR("dragVertical");function jR(t){let e=!1;if(t==="y")e=l1();else if(t==="x")e=a1();else{const n=a1(),r=l1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function UR(){const t=jR(!0);return t?(t(),!1):!0}class ls{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u1(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||UR())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Pe.update(()=>a[r](s,o))};return Mr(t.current,n,i,{passive:!t.getProps()[r]})}class Tz extends ls{mount(){this.unmount=Bi(u1(this.node,!0),u1(this.node,!1))}unmount(){}}class xz extends ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bi(Nr(this.node.current,"focus",()=>this.onFocus()),Nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BR=(t,e)=>e?t===e?!0:BR(t,e.parentElement):!1;function Gp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Of(n))}class Sz extends ls{constructor(){super(...arguments),this.removeStartListeners=Ge,this.removeEndListeners=Ge,this.removeAccessibleListeners=Ge,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Mr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Pe.update(()=>{!h&&!BR(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Mr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Bi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Gp("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Pe.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Nr(this.node.current,"keyup",o),Gp("down",(a,l)=>{this.startPress(a,l)})},n=Nr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Gp("cancel",(s,o)=>this.cancelPress(s,o))},i=Nr(this.node.current,"blur",r);this.removeAccessibleListeners=Bi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Pe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!UR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Pe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Mr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $g=new WeakMap,Kp=new WeakMap,Iz=t=>{const e=$g.get(t.target);e&&e(t)},Az=t=>{t.forEach(Iz)};function Cz({root:t,...e}){const n=t||document;Kp.has(n)||Kp.set(n,{});const r=Kp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Az,{root:t,...e})),r[i]}function Pz(t,e,n){const r=Cz(e);return $g.set(t,n),r.observe(t),()=>{$g.delete(t),r.unobserve(t)}}const bz={some:0,all:1};class Rz extends ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bz[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return Pz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kz(e,n))&&this.startObserver()}unmount(){}}function kz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Nz={inView:{Feature:Rz},tap:{Feature:Sz},focus:{Feature:xz},hover:{Feature:Tz}};function $R(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Dz(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Oz(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Vf(t,e,n){const r=t.getProps();return A0(r,e,n!==void 0?n:r.custom,Dz(t),Oz(t))}let xh=Ge;const Ds=t=>t*1e3,Lr=t=>t/1e3,Vz={current:!1},zR=t=>Array.isArray(t)&&typeof t[0]=="number";function WR(t){return!!(!t||typeof t=="string"&&HR[t]||zR(t)||Array.isArray(t)&&t.every(WR))}const Sl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,HR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sl([0,.65,.55,1]),circOut:Sl([.55,0,1,.45]),backIn:Sl([.31,.01,.66,-.59]),backOut:Sl([.33,1.53,.69,.99])};function qR(t){if(t)return zR(t)?Sl(t):Array.isArray(t)?t.map(qR):HR[t]}function Mz(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=qR(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Lz(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const GR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Fz=1e-7,jz=12;function Uz(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=GR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Fz&&++a<jz);return o}function Xu(t,e,n,r){if(t===e&&n===r)return Ge;const i=s=>Uz(s,0,1,t,n);return s=>s===0||s===1?s:GR(i(s),e,r)}const Bz=Xu(.42,0,1,1),$z=Xu(0,0,.58,1),KR=Xu(.42,0,.58,1),zz=t=>Array.isArray(t)&&typeof t[0]!="number",QR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YR=t=>e=>1-t(1-e),C0=t=>1-Math.sin(Math.acos(t)),XR=YR(C0),Wz=QR(C0),JR=Xu(.33,1.53,.69,.99),P0=YR(JR),Hz=QR(P0),qz=t=>(t*=2)<1?.5*P0(t):.5*(2-Math.pow(2,-10*(t-1))),c1={linear:Ge,easeIn:Bz,easeInOut:KR,easeOut:$z,circIn:C0,circInOut:Wz,circOut:XR,backIn:P0,backInOut:Hz,backOut:JR,anticipate:qz},d1=t=>{if(Array.isArray(t)){xh(t.length===4);const[e,n,r,i]=t;return Xu(e,n,r,i)}else if(typeof t=="string")return xh(c1[t]!==void 0),c1[t];return t},b0=(t,e)=>n=>!!(Qu(n)&&Q6.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ZR=(t,e,n)=>r=>{if(!Qu(r))return r;const[i,s,o,a]=r.match(Df);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Gz=t=>ts(0,255,t),Qp={...oo,transform:t=>Math.round(Gz(t))},As={test:b0("rgb","red"),parse:ZR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Qp.transform(t)+", "+Qp.transform(e)+", "+Qp.transform(n)+", "+$l(Bl.transform(r))+")"};function Kz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zg={test:b0("#"),parse:Kz,transform:As.transform},Vo={test:b0("hsl","hue"),parse:ZR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hr.transform($l(e))+", "+hr.transform($l(n))+", "+$l(Bl.transform(r))+")"},Lt={test:t=>As.test(t)||zg.test(t)||Vo.test(t),parse:t=>As.test(t)?As.parse(t):Vo.test(t)?Vo.parse(t):zg.parse(t),transform:t=>Qu(t)?t:t.hasOwnProperty("red")?As.transform(t):Vo.transform(t)},Me=(t,e,n)=>-n*t+n*e+t;function Yp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Qz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Yp(l,a,t+1/3),s=Yp(l,a,t),o=Yp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Xp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Yz=[zg,As,Vo],Xz=t=>Yz.find(e=>e.test(t));function h1(t){const e=Xz(t);let n=e.parse(t);return e===Vo&&(n=Qz(n)),n}const ek=(t,e)=>{const n=h1(t),r=h1(e),i={...n};return s=>(i.red=Xp(n.red,r.red,s),i.green=Xp(n.green,r.green,s),i.blue=Xp(n.blue,r.blue,s),i.alpha=Me(n.alpha,r.alpha,s),As.transform(i))};function Jz(t){var e,n;return isNaN(t)&&Qu(t)&&(((e=t.match(Df))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(AR))===null||n===void 0?void 0:n.length)||0)>0}const tk={regex:G6,countKey:"Vars",token:"${v}",parse:Ge},nk={regex:AR,countKey:"Colors",token:"${c}",parse:Lt.parse},rk={regex:Df,countKey:"Numbers",token:"${n}",parse:oo.parse};function Jp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Sh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jp(n,tk),Jp(n,nk),Jp(n,rk),n}function ik(t){return Sh(t).values}function sk(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Sh(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(tk.token,o[l]):l<r+n?a=a.replace(nk.token,Lt.transform(o[l])):a=a.replace(rk.token,$l(o[l]));return a}}const Zz=t=>typeof t=="number"?0:t;function e7(t){const e=ik(t);return sk(t)(e.map(Zz))}const ns={test:Jz,parse:ik,createTransformer:sk,getAnimatableNone:e7},ok=(t,e)=>n=>`${n>0?e:t}`;function ak(t,e){return typeof t=="number"?n=>Me(t,e,n):Lt.test(t)?ek(t,e):t.startsWith("var(")?ok(t,e):uk(t,e)}const lk=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>ak(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},t7=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ak(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},uk=(t,e)=>{const n=ns.createTransformer(e),r=Sh(t),i=Sh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Bi(lk(r.values,i.values),n):ok(t,e)},Pu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},f1=(t,e)=>n=>Me(t,e,n);function n7(t){return typeof t=="number"?f1:typeof t=="string"?Lt.test(t)?ek:uk:Array.isArray(t)?lk:typeof t=="object"?t7:f1}function r7(t,e,n){const r=[],i=n||n7(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ge:e;a=Bi(l,a)}r.push(a)}return r}function ck(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(xh(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=r7(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Pu(t[d],t[d+1],u);return o[d](h)};return n?u=>l(ts(t[0],t[s-1],u)):l}function i7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Pu(0,e,r);t.push(Me(n,1,i))}}function s7(t){const e=[0];return i7(e,t.length-1),e}function o7(t,e){return t.map(n=>n*e)}function a7(t,e){return t.map(()=>e||KR).splice(0,t.length-1)}function Ih({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=zz(r)?r.map(d1):d1(r),s={done:!1,value:e[0]},o=o7(n&&n.length===e.length?n:s7(e),t),a=ck(o,e,{ease:Array.isArray(i)?i:a7(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function dk(t,e){return e?t*(1e3/e):0}const l7=5;function hk(t,e,n){const r=Math.max(e-l7,0);return dk(n-t(r),e-r)}const Zp=.001,u7=.01,c7=10,d7=.05,h7=1;function f7({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ts(d7,h7,o),t=ts(u7,c7,Lr(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=Wg(u,o),y=Math.exp(-h);return Zp-f/m*y},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),w=Wg(Math.pow(u,2),o);return(-i(u)+Zp>0?-1:1)*((f-m)*y)/w}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Zp+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=m7(i,s,a);if(t=Ds(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const p7=12;function m7(t,e,n){let r=n;for(let i=1;i<p7;i++)r=r-t(r)/e(r);return r}function Wg(t,e){return t*Math.sqrt(1-e*e)}const g7=["duration","bounce"],y7=["stiffness","damping","mass"];function p1(t,e){return e.some(n=>t[n]!==void 0)}function v7(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!p1(t,y7)&&p1(t,g7)){const n=f7(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function fk({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=v7({...r,velocity:-Lr(r.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(a*u)),w=s-i,T=Lr(Math.sqrt(a/u)),E=Math.abs(w)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let v;if(y<1){const _=Wg(T,y);v=P=>{const O=Math.exp(-y*T*P);return s-O*((m+y*T*w)/_*Math.sin(_*P)+w*Math.cos(_*P))}}else if(y===1)v=_=>s-Math.exp(-T*_)*(w+(m+T*w)*_);else{const _=T*Math.sqrt(y*y-1);v=P=>{const O=Math.exp(-y*T*P),V=Math.min(_*P,300);return s-O*((m+y*T*w)*Math.sinh(V)+_*w*Math.cosh(V))/_}}return{calculatedDuration:f&&d||null,next:_=>{const P=v(_);if(f)o.done=_>=d;else{let O=m;_!==0&&(y<1?O=hk(v,_,P):O=0);const V=Math.abs(O)<=n,I=Math.abs(s-P)<=e;o.done=V&&I}return o.value=o.done?s:P,o}}}function m1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,y=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let w=n*e;const T=h+w,E=o===void 0?T:o(T);E!==T&&(w=E-h);const v=x=>-w*Math.exp(-x/r),_=x=>E+v(x),P=x=>{const A=v(x),b=_(x);f.done=Math.abs(A)<=u,f.value=f.done?E:b};let O,V;const I=x=>{m(f.value)&&(O=x,V=fk({keyframes:[f.value,y(f.value)],velocity:hk(_,x,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:x=>{let A=!1;return!V&&O===void 0&&(A=!0,P(x),I(x)),O!==void 0&&x>O?V.next(x-O):(!A&&P(x),f)}}}const w7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pe.update(e,!0),stop:()=>Kr(e),now:()=>Pt.isProcessing?Pt.timestamp:performance.now()}},g1=2e4;function y1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<g1;)e+=n,r=t.next(e);return e>=g1?1/0:e}const _7={decay:m1,inertia:m1,tween:Ih,keyframes:Ih,spring:fk};function Ah({autoplay:t=!0,delay:e=0,driver:n=w7,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,y=!1,w,T;const E=()=>{T=new Promise(H=>{w=H})};E();let v;const _=_7[i]||Ih;let P;_!==Ih&&typeof r[0]!="number"&&(P=ck([0,100],r,{clamp:!1}),r=[0,100]);const O=_({...f,keyframes:r});let V;a==="mirror"&&(V=_({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let I="idle",x=null,A=null,b=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=y1(O));const{calculatedDuration:N}=O;let D=1/0,R=1/0;N!==null&&(D=N+o,R=D*(s+1)-o);let $=0;const re=H=>{if(A===null)return;m>0&&(A=Math.min(A,H)),m<0&&(A=Math.min(H-R/m,A)),x!==null?$=x:$=Math.round(H-A)*m;const J=$-e*(m>=0?1:-1),ee=m>=0?J<0:J>R;$=Math.max(J,0),I==="finished"&&x===null&&($=R);let Se=$,Ue=O;if(s){const Ht=Math.min($,R)/D;let lt=Math.floor(Ht),ht=Ht%1;!ht&&Ht>=1&&(ht=1),ht===1&&lt--,lt=Math.min(lt,s+1),!!(lt%2)&&(a==="reverse"?(ht=1-ht,o&&(ht-=o/D)):a==="mirror"&&(Ue=V)),Se=ts(0,1,ht)*D}const fe=ee?{done:!1,value:r[0]}:Ue.next(Se);P&&(fe.value=P(fe.value));let{done:tt}=fe;!ee&&N!==null&&(tt=m>=0?$>=R:$<=0);const mn=x===null&&(I==="finished"||I==="running"&&tt);return h&&h(fe.value),mn&&L(),fe},Q=()=>{v&&v.stop(),v=void 0},ne=()=>{I="idle",Q(),w(),E(),A=b=null},L=()=>{I="finished",d&&d(),Q(),w()},W=()=>{if(y)return;v||(v=n(re));const H=v.now();l&&l(),x!==null?A=H-x:(!A||I==="finished")&&(A=H),I==="finished"&&E(),b=A,x=null,I="running",v.start()};t&&W();const Z={then(H,J){return T.then(H,J)},get time(){return Lr($)},set time(H){H=Ds(H),$=H,x!==null||!v||m===0?x=H:A=v.now()-H/m},get duration(){const H=O.calculatedDuration===null?y1(O):O.calculatedDuration;return Lr(H)},get speed(){return m},set speed(H){H===m||!v||(m=H,Z.time=Lr($))},get state(){return I},play:W,pause:()=>{I="paused",x=$},stop:()=>{y=!0,I!=="idle"&&(I="idle",u&&u(),ne())},cancel:()=>{b!==null&&re(b),ne()},complete:()=>{I="finished"},sample:H=>(A=0,re(H))};return Z}function E7(t){let e;return()=>(e===void 0&&(e=t()),e)}const T7=E7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),x7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),qc=10,S7=2e4,I7=(t,e)=>e.type==="spring"||t==="backgroundColor"||!WR(e.ease);function A7(t,e,{onUpdate:n,onComplete:r,...i}){if(!(T7()&&x7.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(_=>{a=_})};d();let{keyframes:h,duration:f=300,ease:m,times:y}=i;if(I7(e,i)){const _=Ah({...i,repeat:0,delay:0});let P={done:!1,value:h[0]};const O=[];let V=0;for(;!P.done&&V<S7;)P=_.sample(V),O.push(P.value),V+=qc;y=void 0,h=O,f=V-qc,m="linear"}const w=Mz(t.owner.current,e,h,{...i,duration:f,ease:m,times:y}),T=()=>{u=!1,w.cancel()},E=()=>{u=!0,Pe.update(T),a(),d()};return w.onfinish=()=>{u||(t.set(Lz(h,i)),r&&r(),E())},{then(_,P){return l.then(_,P)},attachTimeline(_){return w.timeline=_,w.onfinish=null,Ge},get time(){return Lr(w.currentTime||0)},set time(_){w.currentTime=Ds(_)},get speed(){return w.playbackRate},set speed(_){w.playbackRate=_},get duration(){return Lr(f)},play:()=>{o||(w.play(),Kr(T))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:_}=w;if(_){const P=Ah({...i,autoplay:!1});t.setWithVelocity(P.sample(_-qc).value,P.sample(_).value,qc)}E()},complete:()=>{u||w.finish()},cancel:E}}function C7({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ge,pause:Ge,stop:Ge,then:s=>(s(),Promise.resolve()),cancel:Ge,complete:Ge});return e?Ah({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const P7={type:"spring",stiffness:500,damping:25,restSpeed:10},b7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),R7={type:"keyframes",duration:.8},k7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},N7=(t,{keyframes:e})=>e.length>2?R7:so.has(t)?t.startsWith("scale")?b7(e[1]):P7:k7,Hg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ns.test(e)||e==="0")&&!e.startsWith("url(")),D7=new Set(["brightness","contrast","saturate","opacity"]);function O7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Df)||[];if(!r)return t;const i=n.replace(r,"");let s=D7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const V7=/([a-z-]*)\(.*?\)/g,qg={...ns,getAnimatableNone:t=>{const e=t.match(V7);return e?e.map(O7).join(" "):t}},M7={...CR,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:qg,WebkitFilter:qg},R0=t=>M7[t];function pk(t,e){let n=R0(t);return n!==qg&&(n=ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mk=t=>/^0[^.\s]+$/.test(t);function L7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||mk(t)}function F7(t,e,n,r){const i=Hg(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),L7(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=pk(e,a)}return s}function j7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function k0(t,e){return t[e]||t.default||t}const U7={skipAnimations:!1},N0=(t,e,n,r={})=>i=>{const s=k0(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ds(o);const l=F7(e,t,n,s),u=l[0],d=l[l.length-1],h=Hg(t,u),f=Hg(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(j7(s)||(m={...m,...N7(t,m)}),m.duration&&(m.duration=Ds(m.duration)),m.repeatDelay&&(m.repeatDelay=Ds(m.repeatDelay)),!h||!f||Vz.current||s.type===!1||U7.skipAnimations)return C7(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=A7(e,t,m);if(y)return y}return Ah(m)};function Ch(t){return!!(en(t)&&t.add)}const gk=t=>/^\-?\d*\.?\d+$/.test(t);function D0(t,e){t.indexOf(e)===-1&&t.push(e)}function O0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class V0{constructor(){this.subscriptions=[]}add(e){return D0(this.subscriptions,e),()=>O0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B7=t=>!isNaN(parseFloat(t));class $7{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Pt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Pe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Pe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=B7(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new V0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xa(t,e){return new $7(t,e)}const yk=t=>e=>e.test(t),z7={test:t=>t==="auto",parse:t=>t},vk=[oo,ie,hr,li,X6,Y6,z7],hl=t=>vk.find(yk(t)),W7=[...vk,Lt,ns],H7=t=>W7.find(yk(t));function q7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xa(n))}function G7(t,e){const n=Vf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=dz(s[o]);q7(t,o,a)}}function K7(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(gk(d)||mk(d))?d=parseFloat(d):!H7(d)&&ns.test(u)&&(d=pk(l,u)),t.addValue(l,xa(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function Q7(t,e){return e?(e[t]||e.default||e).from:void 0}function Y7(t,e,n){const r={};for(const i in t){const s=Q7(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function X7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function J7(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function wk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&X7(d,h))continue;const y={delay:n,elapsed:0,...k0(s||{},h)};if(window.HandoffAppearAnimations){const E=t.getProps()[_R];if(E){const v=window.HandoffAppearAnimations(E,h,f,Pe);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let w=!y.isHandoff&&!J7(f,m);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(N0(h,f,m,t.shouldReduceMotion&&so.has(h)?{type:!1}:y));const T=f.animation;Ch(l)&&(l.add(h),T.then(()=>l.remove(h))),u.push(T)}return o&&Promise.all(u).then(()=>{o&&G7(t,o)}),u}function Gg(t,e,n={}){const r=Vf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(wk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return Z7(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Z7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(eW).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Gg(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function eW(t,e){return t.sortNodePosition(e)}function tW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Gg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Gg(t,e,n);else{const i=typeof e=="function"?Vf(t,e,n.custom):e;r=Promise.all(wk(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const nW=[...y0].reverse(),rW=y0.length;function iW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tW(t,n,r)))}function sW(t){let e=iW(t);const n=aW();let r=!0;const i=(l,u)=>{const d=Vf(t,u);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let y={},w=1/0;for(let E=0;E<rW;E++){const v=nW[E],_=n[v],P=d[v]!==void 0?d[v]:h[v],O=Au(P),V=v===u?_.isActive:null;V===!1&&(w=E);let I=P===h[v]&&P!==d[v]&&O;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),_.protectedKeys={...y},!_.isActive&&V===null||!P&&!_.prevProp||kf(P)||typeof P=="boolean")continue;let A=oW(_.prevProp,P)||v===u&&_.isActive&&!I&&O||E>w&&O,b=!1;const N=Array.isArray(P)?P:[P];let D=N.reduce(i,{});V===!1&&(D={});const{prevResolvedValues:R={}}=_,$={...R,...D},re=Q=>{A=!0,m.has(Q)&&(b=!0,m.delete(Q)),_.needsAnimating[Q]=!0};for(const Q in $){const ne=D[Q],L=R[Q];if(y.hasOwnProperty(Q))continue;let W=!1;Th(ne)&&Th(L)?W=!$R(ne,L):W=ne!==L,W?ne!==void 0?re(Q):m.add(Q):ne!==void 0&&m.has(Q)?re(Q):_.protectedKeys[Q]=!0}_.prevProp=P,_.prevResolvedValues=D,_.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(A=!1),A&&(!I||b)&&f.push(...N.map(Q=>({animation:Q,options:{type:v,...l}})))}if(m.size){const E={};m.forEach(v=>{const _=t.getBaseTarget(v);_!==void 0&&(E[v]=_)}),f.push({animation:E})}let T=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(f):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function oW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$R(e,t):!1}function ps(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aW(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class lW extends ls{constructor(e){super(e),e.animationState||(e.animationState=sW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),kf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let uW=0;class cW extends ls{constructor(){super(...arguments),this.id=uW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const dW={animation:{Feature:lW},exit:{Feature:cW}},v1=(t,e)=>Math.abs(t-e);function hW(t,e){const n=v1(t.x,e.x),r=v1(t.y,e.y);return Math.sqrt(n**2+r**2)}class _k{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=tm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=hW(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:w}=Pt;this.history.push({...y,timestamp:w});const{onStart:T,onMove:E}=this.handlers;f||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=em(f,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=tm(h.type==="pointercancel"?this.lastMoveEventInfo:em(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,T),y&&y(h,T)},!LR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Of(e),a=em(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Pt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,tm(a,this.history)),this.removeListeners=Bi(Mr(this.contextWindow,"pointermove",this.handlePointerMove),Mr(this.contextWindow,"pointerup",this.handlePointerUp),Mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function em(t,e){return e?{point:e(t.point)}:t}function w1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tm({point:t},e){return{point:t,delta:w1(t,Ek(e)),offset:w1(t,fW(e)),velocity:pW(e,.1)}}function fW(t){return t[0]}function Ek(t){return t[t.length-1]}function pW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Ek(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ds(e)));)n--;if(!r)return{x:0,y:0};const s=Lr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hn(t){return t.max-t.min}function Kg(t,e=0,n=.01){return Math.abs(t-e)<=n}function _1(t,e,n,r=.5){t.origin=r,t.originPoint=Me(e.min,e.max,t.origin),t.scale=hn(n)/hn(e),(Kg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Me(n.min,n.max,t.origin)-t.originPoint,(Kg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function zl(t,e,n,r){_1(t.x,e.x,n.x,r?r.originX:void 0),_1(t.y,e.y,n.y,r?r.originY:void 0)}function E1(t,e,n){t.min=n.min+e.min,t.max=t.min+hn(e)}function mW(t,e,n){E1(t.x,e.x,n.x),E1(t.y,e.y,n.y)}function T1(t,e,n){t.min=e.min-n.min,t.max=t.min+hn(e)}function Wl(t,e,n){T1(t.x,e.x,n.x),T1(t.y,e.y,n.y)}function gW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Me(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Me(n,t,r.max):Math.min(t,n)),t}function x1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yW(t,{top:e,left:n,bottom:r,right:i}){return{x:x1(t.x,n,i),y:x1(t.y,e,r)}}function S1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vW(t,e){return{x:S1(t.x,e.x),y:S1(t.y,e.y)}}function wW(t,e){let n=.5;const r=hn(t),i=hn(e);return i>r?n=Pu(e.min,e.max-r,t.min):r>i&&(n=Pu(t.min,t.max-i,e.min)),ts(0,1,n)}function _W(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qg=.35;function EW(t=Qg){return t===!1?t=0:t===!0&&(t=Qg),{x:I1(t,"left","right"),y:I1(t,"top","bottom")}}function I1(t,e,n){return{min:A1(t,e),max:A1(t,n)}}function A1(t,e){return typeof t=="number"?t:t[e]||0}const C1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:C1(),y:C1()}),P1=()=>({min:0,max:0}),Xe=()=>({x:P1(),y:P1()});function yn(t){return[t("x"),t("y")]}function Tk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function TW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nm(t){return t===void 0||t===1}function Yg({scale:t,scaleX:e,scaleY:n}){return!nm(t)||!nm(e)||!nm(n)}function vs(t){return Yg(t)||xk(t)||t.z||t.rotate||t.rotateX||t.rotateY}function xk(t){return b1(t.x)||b1(t.y)}function b1(t){return t&&t!=="0%"}function Ph(t,e,n){const r=t-n,i=e*r;return n+i}function R1(t,e,n,r,i){return i!==void 0&&(t=Ph(t,i,r)),Ph(t,n,r)+e}function Xg(t,e=0,n=1,r,i){t.min=R1(t.min,e,n,r,i),t.max=R1(t.max,e,n,r,i)}function Sk(t,{x:e,y:n}){Xg(t.x,e.translate,e.scale,e.originPoint),Xg(t.y,n.translate,n.scale,n.originPoint)}function SW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Lo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Sk(t,o)),r&&vs(s.latestValues)&&Lo(t,s.latestValues))}e.x=k1(e.x),e.y=k1(e.y)}function k1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function di(t,e){t.min=t.min+e,t.max=t.max+e}function N1(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Me(t.min,t.max,s);Xg(t,e[n],e[r],o,e.scale)}const IW=["x","scaleX","originX"],AW=["y","scaleY","originY"];function Lo(t,e){N1(t.x,e,IW),N1(t.y,e,AW)}function Ik(t,e){return Tk(xW(t.getBoundingClientRect(),e))}function CW(t,e,n){const r=Ik(t,n),{scroll:i}=e;return i&&(di(r.x,i.offset.x),di(r.y,i.offset.y)),r}const Ak=({current:t})=>t?t.ownerDocument.defaultView:null,PW=new WeakMap;class bW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Of(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jR(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(T=>{let E=this.getAxisMotionValue(T).get()||0;if(hr.test(E)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[T];_&&(E=hn(_)*(parseFloat(E)/100))}}this.originPoint[T]=E}),y&&Pe.update(()=>y(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=h;if(m&&this.currentDirection===null){this.currentDirection=RW(T),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>yn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _k(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ak(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Pe.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Gc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=gW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Oo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=yW(i.layoutBox,n):this.constraints=!1,this.elastic=EW(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=_W(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=CW(r,i.root,this.visualElement.getTransformPagePoint());let o=vW(i.layout.layoutBox,s);if(n){const a=n(TW(o));this.hasMutatedConstraints=!!a,a&&(o=Tk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=yn(d=>{if(!Gc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(N0(e,r,0,n))}stopAnimation(){yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yn(n=>{const{drag:r}=this.getProps();if(!Gc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Me(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=wW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(o=>{if(!Gc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Me(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;PW.set(this.visualElement,this);const e=this.visualElement.current,n=Mr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Oo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Nr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(yn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Qg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Gc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kW extends ls{constructor(e){super(e),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new bW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const D1=t=>(e,n)=>{t&&Pe.update(()=>t(e,n))};class NW extends ls{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(e){this.session=new _k(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ak(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:D1(e),onStart:D1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Pe.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function DW(){const t=S.useContext(bf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=S.useId();return S.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const _d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=O1(t,e.target.x),r=O1(t,e.target.y);return`${n}% ${r}%`}},OW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ns.parse(t);if(i.length>5)return r;const s=ns.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Me(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class VW extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;z6(MW),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),_d.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ck(t){const[e,n]=DW(),r=S.useContext(w0);return q.createElement(VW,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(TR),isPresent:e,safeToRemove:n})}const MW={borderRadius:{...fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fl,borderTopRightRadius:fl,borderBottomLeftRadius:fl,borderBottomRightRadius:fl,boxShadow:OW},Pk=["TopLeft","TopRight","BottomLeft","BottomRight"],LW=Pk.length,V1=t=>typeof t=="string"?parseFloat(t):t,M1=t=>typeof t=="number"||ie.test(t);function FW(t,e,n,r,i,s){i?(t.opacity=Me(0,n.opacity!==void 0?n.opacity:1,jW(r)),t.opacityExit=Me(e.opacity!==void 0?e.opacity:1,0,UW(r))):s&&(t.opacity=Me(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<LW;o++){const a=`border${Pk[o]}Radius`;let l=L1(e,a),u=L1(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||M1(l)===M1(u)?(t[a]=Math.max(Me(V1(l),V1(u),r),0),(hr.test(u)||hr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Me(e.rotate||0,n.rotate||0,r))}function L1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jW=bk(0,.5,XR),UW=bk(.5,.95,Ge);function bk(t,e,n){return r=>r<t?0:r>e?1:n(Pu(t,e,r))}function F1(t,e){t.min=e.min,t.max=e.max}function gn(t,e){F1(t.x,e.x),F1(t.y,e.y)}function j1(t,e,n,r,i){return t-=e,t=Ph(t,1/n,r),i!==void 0&&(t=Ph(t,1/i,r)),t}function BW(t,e=0,n=1,r=.5,i,s=t,o=t){if(hr.test(e)&&(e=parseFloat(e),e=Me(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Me(s.min,s.max,r);t===s&&(a-=e),t.min=j1(t.min,e,n,a,i),t.max=j1(t.max,e,n,a,i)}function U1(t,e,[n,r,i],s,o){BW(t,e[n],e[r],e[i],e.scale,s,o)}const $W=["x","scaleX","originX"],zW=["y","scaleY","originY"];function B1(t,e,n,r){U1(t.x,e,$W,n?n.x:void 0,r?r.x:void 0),U1(t.y,e,zW,n?n.y:void 0,r?r.y:void 0)}function $1(t){return t.translate===0&&t.scale===1}function Rk(t){return $1(t.x)&&$1(t.y)}function WW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function kk(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function z1(t){return hn(t.x)/hn(t.y)}class HW{constructor(){this.members=[]}add(e){D0(this.members,e),e.scheduleRender()}remove(e){if(O0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W1(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const qW=(t,e)=>t.depth-e.depth;class GW{constructor(){this.children=[],this.isDirty=!1}add(e){D0(this.children,e),this.isDirty=!0}remove(e){O0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qW),this.isDirty=!1,this.children.forEach(e)}}function KW(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Kr(r),t(s-e))};return Pe.read(r,!0),()=>Kr(r)}function QW(t){window.MotionDebug&&window.MotionDebug.record(t)}function YW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function XW(t,e,n){const r=en(t)?t:xa(t);return r.start(N0("",r,e,n)),r.animation}const H1=["","X","Y","Z"],JW={visibility:"hidden"},q1=1e3;let ZW=0;const ws={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Nk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ZW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ws.totalNodes=ws.resolvedTargetDeltas=ws.recalculatedProjection=0,this.nodes.forEach(nH),this.nodes.forEach(aH),this.nodes.forEach(lH),this.nodes.forEach(rH),QW(ws)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new GW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new V0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YW(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KW(f,250),_d.hasAnimatedSinceResize&&(_d.hasAnimatedSinceResize=!1,this.nodes.forEach(K1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||fH,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=d.getProps(),v=!this.targetLayout||!kk(this.targetLayout,y)||m,_=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const P={...k0(w,"layout"),onPlay:T,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else f||K1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G1);return}this.isUpdating||this.nodes.forEach(sH),this.isUpdating=!1,this.nodes.forEach(oH),this.nodes.forEach(eH),this.nodes.forEach(tH),this.clearAllSnapshots();const a=performance.now();Pt.delta=ts(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,qp.update.process(Pt),qp.preRender.process(Pt),qp.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(iH),this.sharedNodes.forEach(cH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Rk(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||vs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Xe();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(di(a.x,l.offset.x),di(a.y,l.offset.y)),a}removeElementScroll(o){const a=Xe();gn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){gn(a,o);const{scroll:f}=this.root;f&&(di(a.x,-f.offset.x),di(a.y,-f.offset.y))}di(a.x,d.offset.x),di(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Xe();gn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Lo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vs(d.latestValues)&&Lo(l,d.latestValues)}return vs(this.latestValues)&&Lo(l,this.latestValues),l}removeTransform(o){const a=Xe();gn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!vs(u.latestValues))continue;Yg(u.latestValues)&&u.updateSnapshot();const d=Xe(),h=u.measurePageBox();gn(d,h),B1(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vs(this.latestValues)&&B1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Wl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),Sk(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Wl(this.relativeTargetOrigin,this.target,m.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ws.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yg(this.parent.latestValues)||xk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;gn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;SW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Mo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo());const w=this.projectionTransform;zl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=W1(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ws.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Xe(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,T=this.getStack(),E=!T||T.members.length<=1,v=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(hH));this.animationProgress=0;let _;this.mixTargetDelta=P=>{const O=P/1e3;Q1(h.x,o.x,O),Q1(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dH(this.relativeTarget,this.relativeTargetOrigin,f,O),_&&WW(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Xe()),gn(_,this.relativeTarget)),w&&(this.animationValues=d,FW(d,u,this.latestValues,O,v,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{_d.hasAnimatedSinceResize=!0,this.currentAnimation=XW(0,q1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Dk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Xe();const h=hn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=hn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}gn(a,l),Lo(a,d),zl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HW),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<H1.length;d++){const h="rotate"+H1[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JW;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wd(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=wd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=W1(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in _h){if(f[w]===void 0)continue;const{correct:T,applyTo:E}=_h[w],v=u.transform==="none"?f[w]:T(f[w],h);if(E){const _=E.length;for(let P=0;P<_;P++)u[E[P]]=v}else u[w]=v}return this.options.layoutId&&(u.pointerEvents=h===this?wd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(G1),this.root.sharedNodes.clear()}}}function eH(t){t.updateLayout()}function tH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?yn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=hn(f);f.min=r[h].min,f.max=f.min+m}):Dk(s,n.layoutBox,r)&&yn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=hn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Mo();zl(a,r,n.layoutBox);const l=Mo();o?zl(l,t.applyTransform(i,!0),n.measuredBox):zl(l,r,n.layoutBox);const u=!Rk(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Xe();Wl(y,n.layoutBox,f.layoutBox);const w=Xe();Wl(w,r,m.layoutBox),kk(y,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nH(t){ws.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iH(t){t.clearSnapshot()}function G1(t){t.clearMeasurements()}function sH(t){t.isLayoutDirty=!1}function oH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function K1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aH(t){t.resolveTargetDelta()}function lH(t){t.calcProjection()}function uH(t){t.resetRotation()}function cH(t){t.removeLeadSnapshot()}function Q1(t,e,n){t.translate=Me(e.translate,0,n),t.scale=Me(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Y1(t,e,n,r){t.min=Me(e.min,n.min,r),t.max=Me(e.max,n.max,r)}function dH(t,e,n,r){Y1(t.x,e.x,n.x,r),Y1(t.y,e.y,n.y,r)}function hH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fH={duration:.45,ease:[.4,0,.1,1]},X1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),J1=X1("applewebkit/")&&!X1("chrome/")?Math.round:Ge;function Z1(t){t.min=J1(t.min),t.max=J1(t.max)}function pH(t){Z1(t.x),Z1(t.y)}function Dk(t,e,n){return t==="position"||t==="preserve-aspect"&&!Kg(z1(e),z1(n),.2)}const mH=Nk({attachResizeListener:(t,e)=>Nr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rm={current:void 0},Ok=Nk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rm.current){const t=new mH({});t.mount(window),t.setOptions({layoutScroll:!0}),rm.current=t}return rm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gH={pan:{Feature:NW},drag:{Feature:kW,ProjectionNode:Ok,MeasureLayout:Ck}},yH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function vH(t){const e=yH.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Jg(t,e,n=1){const[r,i]=vH(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return gk(o)?parseFloat(o):o}else return Bg(i)?Jg(i,e,n+1):i}function wH(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Bg(s))return;const o=Jg(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Bg(s))continue;const o=Jg(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const _H=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Vk=t=>_H.has(t),EH=t=>Object.keys(t).some(Vk),ex=t=>t===oo||t===ie,tx=(t,e)=>parseFloat(t.split(", ")[e]),nx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return tx(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?tx(s[1],t):0}},TH=new Set(["x","y","z"]),xH=Ku.filter(t=>!TH.has(t));function SH(t){const e=[];return xH.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nx(4,13),y:nx(5,14)};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const IH=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Sa[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=Sa[u](l,s)}),t},AH=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Vk);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=hl(d);const f=e[l];let m;if(Th(f)){const y=f.length,w=f[0]===null?1:0;d=f[w],h=hl(d);for(let T=w;T<y&&f[T]!==null;T++)m?xh(hl(f[T])===m):m=hl(f[T])}else m=hl(f);if(h!==m)if(ex(h)&&ex(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===ie&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(f):(o||(s=SH(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=IH(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Rf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function CH(t,e,n,r){return EH(e)?AH(t,e,n,r):{target:e,transitionEnd:r}}const PH=(t,e,n,r)=>{const i=wH(t,e,r);return e=i.target,r=i.transitionEnd,CH(t,e,n,r)},Zg={current:null},Mk={current:!1};function bH(){if(Mk.current=!0,!!Rf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zg.current=t.matches;t.addListener(e),e()}else Zg.current=!1}function RH(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(en(s))t.addValue(i,s),Ch(r)&&r.add(i);else if(en(o))t.addValue(i,xa(s,{owner:t})),Ch(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,xa(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const rx=new WeakMap,Lk=Object.keys(Cu),kH=Lk.length,ix=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],NH=v0.length;class DH{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Nf(n),this.isVariantNode=ER(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&en(f)&&(f.set(a[h],!1),Ch(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,rx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Mk.current||bH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rx.delete(this.current),this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=so.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Pe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<kH;l++){const u=Lk[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Cu[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Oo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ix.length;r++){const i=ix[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=RH(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<NH;r++){const i=v0[r],s=this.props[i];(Au(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=A0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!en(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new V0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Fk extends DH{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Y7(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){K7(this,r,o);const a=PH(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function OH(t){return window.getComputedStyle(t)}class VH extends Fk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(so.has(n)){const r=R0(n);return r&&r.default||0}else{const r=OH(e),i=(IR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ik(e,n)}build(e,n,r,i){E0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return I0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){kR(e,n,r,i)}}class MH extends Fk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(so.has(n)){const r=R0(n);return r&&r.default||0}return n=NR.has(n)?n:g0(n),e.getAttribute(n)}measureInstanceViewportBox(){return Xe()}scrapeMotionValuesFromProps(e,n){return OR(e,n)}build(e,n,r,i){x0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){DR(e,n,r,i)}mount(e){this.isSVGTag=S0(e.tagName),super.mount(e)}}const LH=(t,e)=>_0(t)?new MH(e,{enableHardwareAcceleration:!1}):new VH(e,{enableHardwareAcceleration:!0}),FH={layout:{ProjectionNode:Ok,MeasureLayout:Ck}},jH={...dW,...Nz,...gH,...FH},UH=B6((t,e)=>wz(t,e,jH,LH));function jk(){const t=S.useRef(!1);return m0(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function BH(){const t=jk(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>Pe.postRender(r),[r]),e]}class $H extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zH({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement($H,{isPresent:e,childRef:r,sizeRef:i},S.cloneElement(t,{ref:r}))}const im=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=VR(WH),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return S.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=S.createElement(zH,{isPresent:n},t)),S.createElement(bf.Provider,{value:u},t)};function WH(){return new Map}function HH(t){return S.useEffect(()=>()=>t(),[])}const _s=t=>t.key||"";function qH(t,e){t.forEach(n=>{const r=_s(n);e.set(r,n)})}function GH(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const KH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=S.useContext(w0).forceRender||BH()[0],l=jk(),u=GH(t);let d=u;const h=S.useRef(new Map).current,f=S.useRef(d),m=S.useRef(new Map).current,y=S.useRef(!0);if(m0(()=>{y.current=!1,qH(u,m),f.current=d}),HH(()=>{y.current=!0,m.clear(),h.clear()}),y.current)return S.createElement(S.Fragment,null,d.map(v=>S.createElement(im,{key:_s(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},v)));d=[...d];const w=f.current.map(_s),T=u.map(_s),E=w.length;for(let v=0;v<E;v++){const _=w[v];T.indexOf(_)===-1&&!h.has(_)&&h.set(_,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((v,_)=>{if(T.indexOf(_)!==-1)return;const P=m.get(_);if(!P)return;const O=w.indexOf(_);let V=v;if(!V){const I=()=>{h.delete(_);const x=Array.from(m.keys()).filter(A=>!T.includes(A));if(x.forEach(A=>m.delete(A)),f.current=u.filter(A=>{const b=_s(A);return b===_||x.includes(b)}),!h.size){if(l.current===!1)return;a(),r&&r()}};V=S.createElement(im,{key:_s(P),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},P),h.set(_,V)}d.splice(O,0,V)}),d=d.map(v=>{const _=v.key;return h.has(_)?v:S.createElement(im,{key:_s(v),isPresent:!0,presenceAffectsLayout:s,mode:o},v)}),S.createElement(S.Fragment,null,h.size?d:d.map(v=>S.cloneElement(v)))},Uk=({currentScore:t=0,className:e,showScore:n=!0})=>k.jsxs("header",{className:at("flex items-center justify-between w-full p-4",e),children:[k.jsxs(qo,{to:"/",className:"flex items-center gap-2",children:[k.jsx(Kh,{className:"text-game-cyan w-6 h-6"}),k.jsxs("span",{className:"font-bold text-lg text-white",children:["Fraud",k.jsx("span",{className:"text-game-cyan",children:"Safe"})]})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[n&&k.jsxs("div",{className:"flex items-center gap-2 bg-accent/30 px-3 py-1 rounded-full",children:[k.jsx(Hd,{className:"text-yellow-400 w-4 h-4"}),k.jsx("span",{className:"text-white font-medium",children:t})]}),k.jsx(qo,{to:"/leaderboard",className:"flex items-center justify-center w-8 h-8 bg-accent/30 rounded-full hover:bg-accent/50 transition-colors",children:k.jsx(Hd,{className:"text-yellow-400 w-4 h-4"})}),k.jsx(qo,{to:"/",className:"flex items-center justify-center w-8 h-8 bg-accent/30 rounded-full hover:bg-accent/50 transition-colors",children:k.jsx(aA,{className:"text-white w-4 h-4"})})]})]});async function QH(t,e){var n;try{const r=Nb(wh,"scores");await o$(r,{uid:t.uid,name:t.displayName||t.email,score:e,createdAt:l$()});const i=Kv(wh,"users",t.uid),s=await Wb(i),o=s.exists()&&((n=s.data())==null?void 0:n.bestScore)||0;e>o&&await s$(i,{bestScore:e,name:t.displayName||t.email},{merge:!0}),console.log("Score saved and bestScore updated if needed")}catch(r){console.error("Error saving score:",r)}}const YH=async t=>{const n=(await Wb(Kv(wh,"users",t.uid))).data();return(n==null?void 0:n.bestScore)||0},sx=[{id:1,isFraud:!0,imageUrl:"/assets/img1.jpg"},{id:2,isFraud:!0,imageUrl:"/assets/img2.jpeg"},{id:3,isFraud:!0,imageUrl:"/assets/img3.jpeg"},{id:4,isFraud:!1,imageUrl:"/assets/img4.jpeg"},{id:5,isFraud:!1,imageUrl:"/assets/img5.jpg"},{id:6,isFraud:!1,imageUrl:"/assets/img6.jpeg"},{id:7,isFraud:!0,imageUrl:"/assets/img7.webp"},{id:8,isFraud:!1,imageUrl:"/assets/img8.jpg"},{id:9,isFraud:!0,imageUrl:"/assets/img9.jpg"},{id:10,isFraud:!1,imageUrl:"/assets/img10.jpg"}],XH=()=>{const[t,e]=S.useState([...sx]),[n,r]=S.useState(0),[i,s]=S.useState(null),[o,a]=S.useState(!1),{toast:l}=bI(),u=h=>{if(t.length===0)return;const f=t[0],m=h>0;f.isFraud===m?(r(T=>T+10),l({title:"Correct!",description:`+10 points! ${m?"That was a fraud attempt.":"That was safe content."}`})):l({title:"Wrong!",description:`${m?"That was safe content.":"That was a fraud attempt."}`,variant:"destructive"});const w=t.slice(1);e(w),w.length===0&&a(!0)},d=()=>{e([...sx].sort(()=>Math.random()-.5)),r(0),a(!1)};return S.useEffect(()=>{(async()=>{if(Do.currentUser){const f=await YH(Do.currentUser);s(f)}})()},[]),S.useEffect(()=>{o&&Do.currentUser&&QH(Do.currentUser,n)},[o]),k.jsxs("div",{className:"min-h-screen w-full flex flex-col relative game-container bg-background text-white",children:[k.jsx(Uk,{currentScore:n}),k.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:k.jsx(sf,{className:"w-[120vh] h-[120vh] opacity-20"})}),k.jsx("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4",children:o?k.jsxs("div",{className:"bg-card/60 backdrop-blur-md rounded-2xl p-8 text-center animate-slide-in max-w-sm w-full glowing-border border border-border/50",children:[k.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Game Over!"}),k.jsx("div",{className:"w-20 h-20 bg-game-cyan/20 rounded-full flex items-center justify-center mx-auto mb-4",children:k.jsx($V,{className:"w-10 h-10 text-game-cyan"})}),k.jsx("p",{className:"text-lg mb-2",children:"Your final score"}),k.jsx("p",{className:"text-4xl font-bold mb-2 text-game-cyan",children:n}),i!==null&&k.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Your best score: ",k.jsx("span",{className:"font-semibold",children:i})]}),k.jsx("button",{onClick:d,className:"w-full py-3 px-6 bg-game-cyan text-white rounded-full font-medium hover:bg-opacity-90 transition-all",children:"Play Again"})]}):k.jsxs(k.Fragment,{children:[k.jsx("h2",{className:"text-xl font-bold mb-6",children:"CATCH THE FAKE"}),k.jsx("div",{className:"relative w-72 h-[400px]",children:k.jsx(KH,{children:t.length>0&&k.jsx(UH.img,{src:t[0].imageUrl,className:"absolute w-full h-full object-cover rounded-xl shadow-lg",initial:{y:0,opacity:1},drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.5,onDragEnd:(h,f)=>{f.offset.y<-100?u(-1):f.offset.y>100&&u(1)},exit:{scale:.9,opacity:0},transition:{duration:.3}},t[0].id)})}),k.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["Swipe ",k.jsx("span",{className:"text-green-400",children:"up"})," for Safe, ",k.jsx("span",{className:"text-red-400",children:"down"})," for Fraud"]})]})})]})},Bk=S.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:at("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Bk.displayName="Card";const $k=S.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:at("flex flex-col space-y-1.5 p-6",t),...e}));$k.displayName="CardHeader";const zk=S.forwardRef(({className:t,...e},n)=>k.jsx("h3",{ref:n,className:at("text-2xl font-semibold leading-none tracking-tight",t),...e}));zk.displayName="CardTitle";const JH=S.forwardRef(({className:t,...e},n)=>k.jsx("p",{ref:n,className:at("text-sm text-muted-foreground",t),...e}));JH.displayName="CardDescription";const Wk=S.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:at("p-6 pt-0",t),...e}));Wk.displayName="CardContent";const ZH=S.forwardRef(({className:t,...e},n)=>k.jsx("div",{ref:n,className:at("flex items-center p-6 pt-0",t),...e}));ZH.displayName="CardFooter";const e8=()=>{const[t,e]=S.useState([]),[n,r]=S.useState("all");return S.useEffect(()=>{const i=Nb(wh,"scores"),s=e$(i,t$("score","desc")),o=a$(s,a=>{const l=[];a.forEach(m=>{const y=m.data();!y.uid||!y.score||!y.createdAt||l.push({id:m.id,uid:y.uid,name:y.name||"Anonymous",score:y.score,createdAt:y.createdAt})});const u=Date.now()/1e3,d=l.filter(m=>n==="weekly"?u-m.createdAt.seconds<=7*24*60*60:n==="monthly"?u-m.createdAt.seconds<=30*24*60*60:!0),h=new Map;d.forEach(m=>{const y=h.get(m.uid);(!y||m.score>y.score)&&h.set(m.uid,m)});const f=Array.from(h.values()).sort((m,y)=>y.score-m.score);e(f)});return()=>o()},[n]),k.jsxs("div",{className:"min-h-screen w-full flex flex-col game-container",children:[k.jsx(Uk,{showScore:!1}),k.jsxs("div",{className:"flex-1 flex flex-col items-center p-4 relative",children:[k.jsx("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:k.jsx(sf,{className:"w-[80vh] h-[80vh] opacity-20"})}),k.jsxs("div",{className:"w-full max-w-3xl z-10 flex flex-col items-center mt-4",children:[k.jsxs(qo,{to:"/game",className:"self-start mb-4 flex items-center text-muted-foreground hover:text-white transition-colors",children:[k.jsx(jV,{className:"w-4 h-4 mr-1"}),"Back to Game"]}),k.jsxs(Bk,{className:"w-full bg-card/60 backdrop-blur-md border border-border/50",children:[k.jsxs($k,{className:"flex flex-row items-center justify-between",children:[k.jsxs(zk,{className:"text-xl font-bold flex items-center",children:[k.jsx(Hd,{className:"text-yellow-400 w-5 h-5 mr-2"}),"Leaderboard"]}),k.jsxs("div",{className:"flex bg-accent/30 rounded-lg",children:[k.jsx("button",{onClick:()=>r("all"),className:`px-3 py-1 text-sm rounded-lg ${n==="all"?"bg-accent text-white":"text-muted-foreground"}`,children:"All Time"}),k.jsx("button",{onClick:()=>r("monthly"),className:`px-3 py-1 text-sm rounded-lg ${n==="monthly"?"bg-accent text-white":"text-muted-foreground"}`,children:"Monthly"}),k.jsx("button",{onClick:()=>r("weekly"),className:`px-3 py-1 text-sm rounded-lg ${n==="weekly"?"bg-accent text-white":"text-muted-foreground"}`,children:"Weekly"})]})]}),k.jsx(Wk,{children:k.jsx("div",{className:"space-y-4",children:t.map((i,s)=>{const o=`https://api.dicebear.com/7.x/personas/svg?seed=${i.name}`;return k.jsxs("div",{className:`flex items-center p-3 rounded-lg ${s===0?"bg-yellow-400/20 border border-yellow-400/30":s===1?"bg-slate-300/10 border border-slate-300/20":s===2?"bg-amber-700/10 border border-amber-700/20":"bg-background/40"} animate-slide-in`,style:{animationDelay:`${s*.05}s`},children:[k.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-accent/50 text-white font-bold mr-3",children:s+1}),k.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-accent/30 mr-3 flex-shrink-0",children:k.jsx("img",{src:o,alt:i.name,className:"w-full h-full object-cover"})}),k.jsx("div",{className:"flex-1",children:k.jsx("h3",{className:"font-medium",children:i.name})}),k.jsxs("div",{className:"flex items-center",children:[k.jsx(Hd,{className:`w-4 h-4 mr-1 ${s===0?"text-yellow-400":s===1?"text-slate-300":s===2?"text-amber-700":"text-muted-foreground"}`}),k.jsx("span",{className:"font-bold",children:i.score})]})]},i.id)})})})]})]})]})]})},t8=()=>k.jsx("div",{className:"min-h-screen w-full flex flex-col justify-center items-center game-container",children:k.jsxs("div",{className:"text-center",children:[k.jsx(Kh,{className:"text-game-cyan w-16 h-16 mx-auto mb-4 animate-pulse"}),k.jsx("h1",{className:"text-4xl font-bold mb-2",children:"404"}),k.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"This page doesn't exist or was moved"}),k.jsx(qo,{to:"/",children:k.jsx(fv,{children:"Return to Home"})})]})}),n8=new YL,r8=()=>k.jsx(JL,{client:n8,children:k.jsxs(CL,{children:[k.jsx(I2,{}),k.jsx(eM,{}),k.jsx(GF,{children:k.jsxs(UF,{children:[k.jsx(fo,{path:"/",element:k.jsx(JF,{})}),k.jsx(fo,{path:"/auth",element:k.jsx(k6,{})}),k.jsx(fo,{path:"/game",element:k.jsx(XH,{})}),k.jsx(fo,{path:"/leaderboard",element:k.jsx(e8,{})}),k.jsx(fo,{path:"*",element:k.jsx(t8,{})})]})})]})});PI(document.getElementById("root")).render(k.jsx(r8,{}));
